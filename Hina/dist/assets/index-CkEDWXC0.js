(function(){const Ee=document.createElement("link").relList;if(Ee&&Ee.supports&&Ee.supports("modulepreload"))return;for(const ze of document.querySelectorAll('link[rel="modulepreload"]'))me(ze);new MutationObserver(ze=>{for(const mr of ze)if(mr.type==="childList")for(const Co of mr.addedNodes)Co.tagName==="LINK"&&Co.rel==="modulepreload"&&me(Co)}).observe(document,{childList:!0,subtree:!0});function Po(ze){const mr={};return ze.integrity&&(mr.integrity=ze.integrity),ze.referrerPolicy&&(mr.referrerPolicy=ze.referrerPolicy),ze.crossOrigin==="use-credentials"?mr.credentials="include":ze.crossOrigin==="anonymous"?mr.credentials="omit":mr.credentials="same-origin",mr}function me(ze){if(ze.ep)return;ze.ep=!0;const mr=Po(ze);fetch(ze.href,mr)}})();var gV=(tr,Ee)=>()=>(Ee||tr((Ee={exports:{}}).exports,Ee),Ee.exports),yV=gV((tr,Ee)=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();function Po(r,t){const e=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)e[n[i]]=!0;return i=>!!e[i]}function me(r){if(It(r)){const t={};for(let e=0;e<r.length;e++){const n=r[e],i=jt(n)?Yw(n):me(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(jt(r)||Zt(r))return r}const ze=/;(?![^(]*\))/g,mr=/:([^]+)/,Co=/\/\*.*?\*\//gs;function Yw(r){const t={};return r.replace(Co,"").split(ze).forEach(e=>{if(e){const n=e.split(mr);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function xt(r){let t="";if(jt(r))t=r;else if(It(r))for(let e=0;e<r.length;e++){const n=xt(r[e]);n&&(t+=n+" ")}else if(Zt(r))for(const e in r)r[e]&&(t+=e+" ");return t.trim()}const jw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Uw=Po(jw);function Qp(r){return!!r||r===""}function Ww(r,t){if(r.length!==t.length)return!1;let e=!0;for(let n=0;e&&n<r.length;n++)e=sl(r[n],t[n]);return e}function sl(r,t){if(r===t)return!0;let e=rm(r),n=rm(t);if(e||n)return e&&n?r.getTime()===t.getTime():!1;if(e=Mo(r),n=Mo(t),e||n)return r===t;if(e=It(r),n=It(t),e||n)return e&&n?Ww(r,t):!1;if(e=Zt(r),n=Zt(t),e||n){if(!e||!n)return!1;const i=Object.keys(r).length,a=Object.keys(t).length;if(i!==a)return!1;for(const o in r){const s=r.hasOwnProperty(o),h=t.hasOwnProperty(o);if(s&&!h||!s&&h||!sl(r[o],t[o]))return!1}}return String(r)===String(t)}const vr=r=>jt(r)?r:r==null?"":It(r)||Zt(r)&&(r.toString===nm||!Ct(r.toString))?JSON.stringify(r,tm,2):String(r),tm=(r,t)=>t&&t.__v_isRef?tm(r,t.value):Pa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,i])=>(e[`${n} =>`]=i,e),{})}:em(t)?{[`Set(${t.size})`]:[...t.values()]}:Zt(t)&&!It(t)&&!im(t)?String(t):t,ae={},Aa=[],er=()=>{},zw=()=>!1,Hw=/^on[^a-z]/,ll=r=>Hw.test(r),lh=r=>r.startsWith("onUpdate:"),He=Object.assign,uh=(r,t)=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)},qw=Object.prototype.hasOwnProperty,qt=(r,t)=>qw.call(r,t),It=Array.isArray,Pa=r=>Ro(r)==="[object Map]",em=r=>Ro(r)==="[object Set]",rm=r=>Ro(r)==="[object Date]",Ct=r=>typeof r=="function",jt=r=>typeof r=="string",Mo=r=>typeof r=="symbol",Zt=r=>r!==null&&typeof r=="object",ul=r=>Zt(r)&&Ct(r.then)&&Ct(r.catch),nm=Object.prototype.toString,Ro=r=>nm.call(r),Gw=r=>Ro(r).slice(8,-1),im=r=>Ro(r)==="[object Object]",hh=r=>jt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,hl=Po(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cl=r=>{const t=Object.create(null);return e=>t[e]||(t[e]=r(e))},$w=/-(\w)/g,sn=cl(r=>r.replace($w,(t,e)=>e?e.toUpperCase():"")),Zw=/\B([A-Z])/g,Pi=cl(r=>r.replace(Zw,"-$1").toLowerCase()),fl=cl(r=>r.charAt(0).toUpperCase()+r.slice(1)),ch=cl(r=>r?`on${fl(r)}`:""),Oo=(r,t)=>!Object.is(r,t),dl=(r,t)=>{for(let e=0;e<r.length;e++)r[e](t)},pl=(r,t,e)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:e})},fh=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let am;const Kw=()=>am||(am=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let gr;class Jw{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=gr,!t&&gr&&(this.index=(gr.scopes||(gr.scopes=[])).push(this)-1)}run(t){if(this.active){const e=gr;try{return gr=this,t()}finally{gr=e}}}on(){gr=this}off(){gr=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function Qw(r,t=gr){t&&t.active&&t.effects.push(r)}function t1(){return gr}function e1(r){gr&&gr.cleanups.push(r)}const dh=r=>{const t=new Set(r);return t.w=0,t.n=0,t},om=r=>(r.w&qn)>0,sm=r=>(r.n&qn)>0,r1=({deps:r})=>{if(r.length)for(let t=0;t<r.length;t++)r[t].w|=qn},n1=r=>{const{deps:t}=r;if(t.length){let e=0;for(let n=0;n<t.length;n++){const i=t[n];om(i)&&!sm(i)?i.delete(r):t[e++]=i,i.w&=~qn,i.n&=~qn}t.length=e}},ph=new WeakMap;let ko=0,qn=1;const mh=30;let Vr;const Ci=Symbol(""),vh=Symbol("");class gh{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,Qw(this,n)}run(){if(!this.active)return this.fn();let t=Vr,e=Gn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Vr,Vr=this,Gn=!0,qn=1<<++ko,ko<=mh?r1(this):lm(this),this.fn()}finally{ko<=mh&&n1(this),qn=1<<--ko,Vr=this.parent,Gn=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Vr===this?this.deferStop=!0:this.active&&(lm(this),this.onStop&&this.onStop(),this.active=!1)}}function lm(r){const{deps:t}=r;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(r);t.length=0}}let Gn=!0;const um=[];function Ca(){um.push(Gn),Gn=!1}function Ma(){const r=um.pop();Gn=r===void 0?!0:r}function yr(r,t,e){if(Gn&&Vr){let n=ph.get(r);n||ph.set(r,n=new Map);let i=n.get(e);i||n.set(e,i=dh()),hm(i)}}function hm(r,t){let e=!1;ko<=mh?sm(r)||(r.n|=qn,e=!om(r)):e=!r.has(Vr),e&&(r.add(Vr),Vr.deps.push(r))}function Tn(r,t,e,n,i,a){const o=ph.get(r);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(e==="length"&&It(r)){const h=fh(n);o.forEach((l,u)=>{(u==="length"||u>=h)&&s.push(l)})}else switch(e!==void 0&&s.push(o.get(e)),t){case"add":It(r)?hh(e)&&s.push(o.get("length")):(s.push(o.get(Ci)),Pa(r)&&s.push(o.get(vh)));break;case"delete":It(r)||(s.push(o.get(Ci)),Pa(r)&&s.push(o.get(vh)));break;case"set":Pa(r)&&s.push(o.get(Ci));break}if(s.length===1)s[0]&&yh(s[0]);else{const h=[];for(const l of s)l&&h.push(...l);yh(dh(h))}}function yh(r,t){const e=It(r)?r:[...r];for(const n of e)n.computed&&cm(n);for(const n of e)n.computed||cm(n)}function cm(r,t){(r!==Vr||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const i1=Po("__proto__,__v_isRef,__isVue"),fm=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Mo)),a1=bh(),o1=bh(!1,!0),s1=bh(!0),dm=l1();function l1(){const r={};return["includes","indexOf","lastIndexOf"].forEach(t=>{r[t]=function(...e){const n=Jt(this);for(let a=0,o=this.length;a<o;a++)yr(n,"get",a+"");const i=n[t](...e);return i===-1||i===!1?n[t](...e.map(Jt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{r[t]=function(...e){Ca();const n=Jt(this)[t].apply(this,e);return Ma(),n}}),r}function bh(r=!1,t=!1){return function(e,n,i){if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&i===(r?t?S1:wm:t?_m:xm).get(e))return e;const a=It(e);if(!r&&a&&qt(dm,n))return Reflect.get(dm,n,i);const o=Reflect.get(e,n,i);return(Mo(n)?fm.has(n):i1(n))||(r||yr(e,"get",n),t)?o:Te(o)?a&&hh(n)?o:o.value:Zt(o)?r?wh(o):Xr(o):o}}const u1=pm(),h1=pm(!0);function pm(r=!1){return function(t,e,n,i){let a=t[e];if(Oa(a)&&Te(a)&&!Te(n))return!1;if(!r&&(!_l(n)&&!Oa(n)&&(a=Jt(a),n=Jt(n)),!It(t)&&Te(a)&&!Te(n)))return a.value=n,!0;const o=It(t)&&hh(e)?Number(e)<t.length:qt(t,e),s=Reflect.set(t,e,n,i);return t===Jt(i)&&(o?Oo(n,a)&&Tn(t,"set",e,n):Tn(t,"add",e,n)),s}}function c1(r,t){const e=qt(r,t);r[t];const n=Reflect.deleteProperty(r,t);return n&&e&&Tn(r,"delete",t,void 0),n}function f1(r,t){const e=Reflect.has(r,t);return(!Mo(t)||!fm.has(t))&&yr(r,"has",t),e}function d1(r){return yr(r,"iterate",It(r)?"length":Ci),Reflect.ownKeys(r)}const mm={get:a1,set:u1,deleteProperty:c1,has:f1,ownKeys:d1},p1={get:s1,set(r,t){return!0},deleteProperty(r,t){return!0}},m1=He({},mm,{get:o1,set:h1}),xh=r=>r,ml=r=>Reflect.getPrototypeOf(r);function vl(r,t,e=!1,n=!1){r=r.__v_raw;const i=Jt(r),a=Jt(t);e||(t!==a&&yr(i,"get",t),yr(i,"get",a));const{has:o}=ml(i),s=n?xh:e?Sh:Fo;if(o.call(i,t))return s(r.get(t));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(t)}function gl(r,t=!1){const e=this.__v_raw,n=Jt(e),i=Jt(r);return t||(r!==i&&yr(n,"has",r),yr(n,"has",i)),r===i?e.has(r):e.has(r)||e.has(i)}function yl(r,t=!1){return r=r.__v_raw,!t&&yr(Jt(r),"iterate",Ci),Reflect.get(r,"size",r)}function vm(r){r=Jt(r);const t=Jt(this);return ml(t).has.call(t,r)||(t.add(r),Tn(t,"add",r,r)),this}function gm(r,t){t=Jt(t);const e=Jt(this),{has:n,get:i}=ml(e);let a=n.call(e,r);a||(r=Jt(r),a=n.call(e,r));const o=i.call(e,r);return e.set(r,t),a?Oo(t,o)&&Tn(e,"set",r,t):Tn(e,"add",r,t),this}function ym(r){const t=Jt(this),{has:e,get:n}=ml(t);let i=e.call(t,r);i||(r=Jt(r),i=e.call(t,r)),n&&n.call(t,r);const a=t.delete(r);return i&&Tn(t,"delete",r,void 0),a}function bm(){const r=Jt(this),t=r.size!==0,e=r.clear();return t&&Tn(r,"clear",void 0,void 0),e}function bl(r,t){return function(e,n){const i=this,a=i.__v_raw,o=Jt(a),s=t?xh:r?Sh:Fo;return!r&&yr(o,"iterate",Ci),a.forEach((h,l)=>e.call(n,s(h),s(l),i))}}function xl(r,t,e){return function(...n){const i=this.__v_raw,a=Jt(i),o=Pa(a),s=r==="entries"||r===Symbol.iterator&&o,h=r==="keys"&&o,l=i[r](...n),u=e?xh:t?Sh:Fo;return!t&&yr(a,"iterate",h?vh:Ci),{next(){const{value:c,done:f}=l.next();return f?{value:c,done:f}:{value:s?[u(c[0]),u(c[1])]:u(c),done:f}},[Symbol.iterator](){return this}}}}function $n(r){return function(...t){return r==="delete"?!1:this}}function v1(){const r={get(i){return vl(this,i)},get size(){return yl(this)},has:gl,add:vm,set:gm,delete:ym,clear:bm,forEach:bl(!1,!1)},t={get(i){return vl(this,i,!1,!0)},get size(){return yl(this)},has:gl,add:vm,set:gm,delete:ym,clear:bm,forEach:bl(!1,!0)},e={get(i){return vl(this,i,!0)},get size(){return yl(this,!0)},has(i){return gl.call(this,i,!0)},add:$n("add"),set:$n("set"),delete:$n("delete"),clear:$n("clear"),forEach:bl(!0,!1)},n={get(i){return vl(this,i,!0,!0)},get size(){return yl(this,!0)},has(i){return gl.call(this,i,!0)},add:$n("add"),set:$n("set"),delete:$n("delete"),clear:$n("clear"),forEach:bl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=xl(i,!1,!1),e[i]=xl(i,!0,!1),t[i]=xl(i,!1,!0),n[i]=xl(i,!0,!0)}),[r,e,t,n]}const[g1,y1,b1,x1]=v1();function _h(r,t){const e=t?r?x1:b1:r?y1:g1;return(n,i,a)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(qt(e,i)&&i in n?e:n,i,a)}const _1={get:_h(!1,!1)},w1={get:_h(!1,!0)},E1={get:_h(!0,!1)},xm=new WeakMap,_m=new WeakMap,wm=new WeakMap,S1=new WeakMap;function T1(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function I1(r){return r.__v_skip||!Object.isExtensible(r)?0:T1(Gw(r))}function Xr(r){return Oa(r)?r:Eh(r,!1,mm,_1,xm)}function A1(r){return Eh(r,!1,m1,w1,_m)}function wh(r){return Eh(r,!0,p1,E1,wm)}function Eh(r,t,e,n,i){if(!Zt(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const a=i.get(r);if(a)return a;const o=I1(r);if(o===0)return r;const s=new Proxy(r,o===2?n:e);return i.set(r,s),s}function Ra(r){return Oa(r)?Ra(r.__v_raw):!!(r&&r.__v_isReactive)}function Oa(r){return!!(r&&r.__v_isReadonly)}function _l(r){return!!(r&&r.__v_isShallow)}function Em(r){return Ra(r)||Oa(r)}function Jt(r){const t=r&&r.__v_raw;return t?Jt(t):r}function Sm(r){return pl(r,"__v_skip",!0),r}const Fo=r=>Zt(r)?Xr(r):r,Sh=r=>Zt(r)?wh(r):r;function Tm(r){Gn&&Vr&&(r=Jt(r),hm(r.dep||(r.dep=dh())))}function Im(r,t){r=Jt(r),r.dep&&yh(r.dep)}function Te(r){return!!(r&&r.__v_isRef===!0)}function vt(r){return Am(r,!1)}function wl(r){return Am(r,!0)}function Am(r,t){return Te(r)?r:new P1(r,t)}class P1{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Jt(t),this._value=e?t:Fo(t)}get value(){return Tm(this),this._value}set value(t){const e=this.__v_isShallow||_l(t)||Oa(t);t=e?t:Jt(t),Oo(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Fo(t),Im(this))}}function P(r){return Te(r)?r.value:r}const C1={get:(r,t,e)=>P(Reflect.get(r,t,e)),set:(r,t,e,n)=>{const i=r[t];return Te(i)&&!Te(e)?(i.value=e,!0):Reflect.set(r,t,e,n)}};function Pm(r){return Ra(r)?r:new Proxy(r,C1)}function ka(r){const t=It(r)?new Array(r.length):{};for(const e in r)t[e]=Yr(r,e);return t}class M1{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Yr(r,t,e){const n=r[t];return Te(n)?n:new M1(r,t,e)}var Cm;class R1{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[Cm]=!1,this._dirty=!0,this.effect=new gh(t,()=>{this._dirty||(this._dirty=!0,Im(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Jt(this);return Tm(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Cm="__v_isReadonly";function O1(r,t,e=!1){let n,i;const a=Ct(r);return a?(n=r,i=er):(n=r.get,i=r.set),new R1(n,i,a||!i,e)}function k1(r,...t){}function Zn(r,t,e,n){let i;try{i=n?r(...n):r()}catch(a){El(a,t,e)}return i}function Ir(r,t,e,n){if(Ct(r)){const a=Zn(r,t,e,n);return a&&ul(a)&&a.catch(o=>{El(o,t,e)}),a}const i=[];for(let a=0;a<r.length;a++)i.push(Ir(r[a],t,e,n));return i}function El(r,t,e,n=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const o=t.proxy,s=e;for(;a;){const l=a.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](r,o,s)===!1)return}a=a.parent}const h=t.appContext.config.errorHandler;if(h){Zn(h,null,10,[r,o,s]);return}}F1(r,e,i,n)}function F1(r,t,e,n=!0){console.error(r)}let No=!1,Th=!1;const Ze=[];let ln=0;const Fa=[];let In=null,Mi=0;const Mm=Promise.resolve();let Ih=null;function Ie(r){const t=Ih||Mm;return r?t.then(this?r.bind(this):r):t}function N1(r){let t=ln+1,e=Ze.length;for(;t<e;){const n=t+e>>>1;Do(Ze[n])<r?t=n+1:e=n}return t}function Ah(r){(!Ze.length||!Ze.includes(r,No&&r.allowRecurse?ln+1:ln))&&(r.id==null?Ze.push(r):Ze.splice(N1(r.id),0,r),Rm())}function Rm(){!No&&!Th&&(Th=!0,Ih=Mm.then(Fm))}function D1(r){const t=Ze.indexOf(r);t>ln&&Ze.splice(t,1)}function L1(r){It(r)?Fa.push(...r):(!In||!In.includes(r,r.allowRecurse?Mi+1:Mi))&&Fa.push(r),Rm()}function Om(r,t=No?ln+1:0){for(;t<Ze.length;t++){const e=Ze[t];e&&e.pre&&(Ze.splice(t,1),t--,e())}}function km(r){if(Fa.length){const t=[...new Set(Fa)];if(Fa.length=0,In){In.push(...t);return}for(In=t,In.sort((e,n)=>Do(e)-Do(n)),Mi=0;Mi<In.length;Mi++)In[Mi]();In=null,Mi=0}}const Do=r=>r.id==null?1/0:r.id,B1=(r,t)=>{const e=Do(r)-Do(t);if(e===0){if(r.pre&&!t.pre)return-1;if(t.pre&&!r.pre)return 1}return e};function Fm(r){Th=!1,No=!0,Ze.sort(B1);try{for(ln=0;ln<Ze.length;ln++){const t=Ze[ln];t&&t.active!==!1&&Zn(t,null,14)}}finally{ln=0,Ze.length=0,km(),No=!1,Ih=null,(Ze.length||Fa.length)&&Fm()}}function V1(r,t,...e){if(r.isUnmounted)return;const n=r.vnode.props||ae;let i=e;const a=t.startsWith("update:"),o=a&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:f}=n[u]||ae;f&&(i=e.map(d=>jt(d)?d.trim():d)),c&&(i=e.map(fh))}let s,h=n[s=ch(t)]||n[s=ch(sn(t))];!h&&a&&(h=n[s=ch(Pi(t))]),h&&Ir(h,r,6,i);const l=n[s+"Once"];if(l){if(!r.emitted)r.emitted={};else if(r.emitted[s])return;r.emitted[s]=!0,Ir(l,r,6,i)}}function Nm(r,t,e=!1){const n=t.emitsCache,i=n.get(r);if(i!==void 0)return i;const a=r.emits;let o={},s=!1;if(!Ct(r)){const h=l=>{const u=Nm(l,t,!0);u&&(s=!0,He(o,u))};!e&&t.mixins.length&&t.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}return!a&&!s?(Zt(r)&&n.set(r,null),null):(It(a)?a.forEach(h=>o[h]=null):He(o,a),Zt(r)&&n.set(r,o),o)}function Sl(r,t){return!r||!ll(t)?!1:(t=t.slice(2).replace(/Once$/,""),qt(r,t[0].toLowerCase()+t.slice(1))||qt(r,Pi(t))||qt(r,t))}let qe=null,Tl=null;function Il(r){const t=qe;return qe=r,Tl=r&&r.type.__scopeId||null,t}function X1(r){Tl=r}function Y1(){Tl=null}function _t(r,t=qe,e){if(!t||r._n)return r;const n=(...i)=>{n._d&&hv(-1);const a=Il(t);let o;try{o=r(...i)}finally{Il(a),n._d&&hv(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ph(r){const{type:t,vnode:e,proxy:n,withProxy:i,props:a,propsOptions:[o],slots:s,attrs:h,emit:l,render:u,renderCache:c,data:f,setupState:d,ctx:p,inheritAttrs:m}=r;let g,v;const y=Il(r);try{if(e.shapeFlag&4){const x=i||n;g=un(u.call(x,x,c,a,d,f,p)),v=h}else{const x=t;g=un(x.length>1?x(a,{attrs:h,slots:s,emit:l}):x(a,null)),v=t.props?h:j1(h)}}catch(x){Xo.length=0,El(x,r,1),g=mt(xr)}let b=g;if(v&&m!==!1){const x=Object.keys(v),{shapeFlag:_}=b;x.length&&_&7&&(o&&x.some(lh)&&(v=U1(v,o)),b=Pn(b,v))}return e.dirs&&(b=Pn(b),b.dirs=b.dirs?b.dirs.concat(e.dirs):e.dirs),e.transition&&(b.transition=e.transition),g=b,Il(y),g}const j1=r=>{let t;for(const e in r)(e==="class"||e==="style"||ll(e))&&((t||(t={}))[e]=r[e]);return t},U1=(r,t)=>{const e={};for(const n in r)(!lh(n)||!(n.slice(9)in t))&&(e[n]=r[n]);return e};function W1(r,t,e){const{props:n,children:i,component:a}=r,{props:o,children:s,patchFlag:h}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&h>=0){if(h&1024)return!0;if(h&16)return n?Dm(n,o,l):!!o;if(h&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const f=u[c];if(o[f]!==n[f]&&!Sl(l,f))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?Dm(n,o,l):!0:!!o;return!1}function Dm(r,t,e){const n=Object.keys(t);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==r[a]&&!Sl(e,a))return!0}return!1}function z1({vnode:r,parent:t},e){for(;t&&t.subTree===r;)(r=t.vnode).el=e,t=t.parent}const H1=r=>r.__isSuspense;function q1(r,t){t&&t.pendingBranch?It(r)?t.effects.push(...r):t.effects.push(r):L1(r)}function br(r,t){if(Be){let e=Be.provides;const n=Be.parent&&Be.parent.provides;n===e&&(e=Be.provides=Object.create(n)),e[r]=t}}function ee(r,t,e=!1){const n=Be||qe;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&r in i)return i[r];if(arguments.length>1)return e&&Ct(t)?t.call(n.proxy):t}}const Al={};function Ft(r,t,e){return Lm(r,t,e)}function Lm(r,t,{immediate:e,deep:n,flush:i,onTrack:a,onTrigger:o}=ae){const s=Be;let h,l=!1,u=!1;if(Te(r)?(h=()=>r.value,l=_l(r)):Ra(r)?(h=()=>r,n=!0):It(r)?(u=!0,l=r.some(b=>Ra(b)||_l(b)),h=()=>r.map(b=>{if(Te(b))return b.value;if(Ra(b))return Ri(b);if(Ct(b))return Zn(b,s,2)})):Ct(r)?t?h=()=>Zn(r,s,2):h=()=>{if(!(s&&s.isUnmounted))return c&&c(),Ir(r,s,3,[f])}:h=er,t&&n){const b=h;h=()=>Ri(b())}let c,f=b=>{c=v.onStop=()=>{Zn(b,s,4)}},d;if(jo)if(f=er,t?e&&Ir(t,s,3,[h(),u?[]:void 0,f]):h(),i==="sync"){const b=VE();d=b.__watcherHandles||(b.__watcherHandles=[])}else return er;let p=u?new Array(r.length).fill(Al):Al;const m=()=>{if(v.active)if(t){const b=v.run();(n||l||(u?b.some((x,_)=>Oo(x,p[_])):Oo(b,p)))&&(c&&c(),Ir(t,s,3,[b,p===Al?void 0:u&&p[0]===Al?[]:p,f]),p=b)}else v.run()};m.allowRecurse=!!t;let g;i==="sync"?g=m:i==="post"?g=()=>lr(m,s&&s.suspense):(m.pre=!0,s&&(m.id=s.uid),g=()=>Ah(m));const v=new gh(h,g);t?e?m():p=v.run():i==="post"?lr(v.run.bind(v),s&&s.suspense):v.run();const y=()=>{v.stop(),s&&s.scope&&uh(s.scope.effects,v)};return d&&d.push(y),y}function G1(r,t,e){const n=this.proxy,i=jt(r)?r.includes(".")?Bm(n,r):()=>n[r]:r.bind(n,n);let a;Ct(t)?a=t:(a=t.handler,e=t);const o=Be;Da(this);const s=Lm(i,a.bind(n),e);return o?Da(o):Li(),s}function Bm(r,t){const e=t.split(".");return()=>{let n=r;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}function Ri(r,t){if(!Zt(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),Te(r))Ri(r.value,t);else if(It(r))for(let e=0;e<r.length;e++)Ri(r[e],t);else if(em(r)||Pa(r))r.forEach(e=>{Ri(e,t)});else if(im(r))for(const e in r)Ri(r[e],t);return r}function $1(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oe(()=>{r.isMounted=!0}),Pr(()=>{r.isUnmounting=!0}),r}const Ar=[Function,Array],Z1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ar,onEnter:Ar,onAfterEnter:Ar,onEnterCancelled:Ar,onBeforeLeave:Ar,onLeave:Ar,onAfterLeave:Ar,onLeaveCancelled:Ar,onBeforeAppear:Ar,onAppear:Ar,onAfterAppear:Ar,onAppearCancelled:Ar},setup(r,{slots:t}){const e=Qn(),n=$1();let i;return()=>{const a=t.default&&jm(t.default(),!0);if(!a||!a.length)return;let o=a[0];if(a.length>1){for(const m of a)if(m.type!==xr){o=m;break}}const s=Jt(r),{mode:h}=s;if(n.isLeaving)return Mh(o);const l=Ym(o);if(!l)return Mh(o);const u=Ch(l,s,n,e);Rh(l,u);const c=e.subTree,f=c&&Ym(c);let d=!1;const{getTransitionKey:p}=l.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,d=!0)}if(f&&f.type!==xr&&(!Ni(l,f)||d)){const m=Ch(f,s,n,e);if(Rh(f,m),h==="out-in")return n.isLeaving=!0,m.afterLeave=()=>{n.isLeaving=!1,e.update.active!==!1&&e.update()},Mh(o);h==="in-out"&&l.type!==xr&&(m.delayLeave=(g,v,y)=>{const b=Xm(n,f);b[String(f.key)]=f,g._leaveCb=()=>{v(),g._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return o}}},Vm=Z1;function Xm(r,t){const{leavingVNodes:e}=r;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function Ch(r,t,e,n){const{appear:i,mode:a,persisted:o=!1,onBeforeEnter:s,onEnter:h,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=t,b=String(r.key),x=Xm(e,r),_=(S,T)=>{S&&Ir(S,n,9,T)},w=(S,T)=>{const I=T[1];_(S,T),It(S)?S.every(R=>R.length<=1)&&I():S.length<=1&&I()},E={mode:a,persisted:o,beforeEnter(S){let T=s;if(!e.isMounted)if(i)T=m||s;else return;S._leaveCb&&S._leaveCb(!0);const I=x[b];I&&Ni(r,I)&&I.el._leaveCb&&I.el._leaveCb(),_(T,[S])},enter(S){let T=h,I=l,R=u;if(!e.isMounted)if(i)T=g||h,I=v||l,R=y||u;else return;let A=!1;const C=S._enterCb=O=>{A||(A=!0,O?_(R,[S]):_(I,[S]),E.delayedLeave&&E.delayedLeave(),S._enterCb=void 0)};T?w(T,[S,C]):C()},leave(S,T){const I=String(r.key);if(S._enterCb&&S._enterCb(!0),e.isUnmounting)return T();_(c,[S]);let R=!1;const A=S._leaveCb=C=>{R||(R=!0,T(),C?_(p,[S]):_(d,[S]),S._leaveCb=void 0,x[I]===r&&delete x[I])};x[I]=r,f?w(f,[S,A]):A()},clone(S){return Ch(S,t,e,n)}};return E}function Mh(r){if(Pl(r))return r=Pn(r),r.children=null,r}function Ym(r){return Pl(r)?r.children?r.children[0]:void 0:r}function Rh(r,t){r.shapeFlag&6&&r.component?Rh(r.component.subTree,t):r.shapeFlag&128?(r.ssContent.transition=t.clone(r.ssContent),r.ssFallback.transition=t.clone(r.ssFallback)):r.transition=t}function jm(r,t=!1,e){let n=[],i=0;for(let a=0;a<r.length;a++){let o=r[a];const s=e==null?o.key:String(e)+String(o.key!=null?o.key:a);o.type===he?(o.patchFlag&128&&i++,n=n.concat(jm(o.children,t,s))):(t||o.type!==xr)&&n.push(s!=null?Pn(o,{key:s}):o)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}function At(r){return Ct(r)?{setup:r,name:r.name}:r}const Lo=r=>!!r.type.__asyncLoader,Pl=r=>r.type.__isKeepAlive;function K1(r,t){Wm(r,"a",t)}function Um(r,t){Wm(r,"da",t)}function Wm(r,t,e=Be){const n=r.__wdc||(r.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(Cl(t,n,e),e){let i=e.parent;for(;i&&i.parent;)Pl(i.parent.vnode)&&J1(n,t,e,i),i=i.parent}}function J1(r,t,e,n){const i=Cl(t,r,n,!0);Oh(()=>{uh(n[t],i)},e)}function Cl(r,t,e=Be,n=!1){if(e){const i=e[r]||(e[r]=[]),a=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;Ca(),Da(e);const s=Ir(t,e,r,o);return Li(),Ma(),s});return n?i.unshift(a):i.push(a),a}}const An=r=>(t,e=Be)=>(!jo||r==="sp")&&Cl(r,(...n)=>t(...n),e),zm=An("bm"),Oe=An("m"),Q1=An("bu"),Ml=An("u"),Pr=An("bum"),Oh=An("um"),tE=An("sp"),eE=An("rtg"),rE=An("rtc");function nE(r,t=Be){Cl("ec",r,t)}function Kn(r,t){const e=qe;if(e===null)return r;const n=Dl(e)||e.proxy,i=r.dirs||(r.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,h,l=ae]=t[a];o&&(Ct(o)&&(o={mounted:o,updated:o}),o.deep&&Ri(s),i.push({dir:o,instance:n,value:s,oldValue:void 0,arg:h,modifiers:l}))}return r}function Oi(r,t,e,n){const i=r.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let h=s.dir[n];h&&(Ca(),Ir(h,e,8,[r.el,s,r,t]),Ma())}}const iE="components",Hm=Symbol();function jr(r){return jt(r)?aE(iE,r,!1)||r:r||Hm}function aE(r,t,e=!0,n=!1){const i=qe||Be;if(i){const a=i.type;{const s=NE(a,!1);if(s&&(s===t||s===sn(t)||s===fl(sn(t))))return a}const o=qm(i[r]||a[r],t)||qm(i.appContext[r],t);return!o&&n?a:o}}function qm(r,t){return r&&(r[t]||r[sn(t)]||r[fl(sn(t))])}function kh(r,t,e,n){let i;const a=e;if(It(r)||jt(r)){i=new Array(r.length);for(let o=0,s=r.length;o<s;o++)i[o]=t(r[o],o,void 0,a)}else if(typeof r=="number"){i=new Array(r);for(let o=0;o<r;o++)i[o]=t(o+1,o,void 0,a)}else if(Zt(r))if(r[Symbol.iterator])i=Array.from(r,(o,s)=>t(o,s,void 0,a));else{const o=Object.keys(r);i=new Array(o.length);for(let s=0,h=o.length;s<h;s++){const l=o[s];i[s]=t(r[l],l,s,a)}}else i=[];return i}function oe(r,t,e={},n,i){if(qe.isCE||qe.parent&&Lo(qe.parent)&&qe.parent.isCE)return t!=="default"&&(e.name=t),mt("slot",e,n&&n());let a=r[t];a&&a._c&&(a._d=!1),ft();const o=a&&Gm(a(e)),s=Bt(he,{key:e.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&r._===1?64:-2);return s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function Gm(r){return r.some(t=>kl(t)?!(t.type===xr||t.type===he&&!Gm(t.children)):!0)?r:null}const Fh=r=>r?dv(r)?Dl(r)||r.proxy:Fh(r.parent):null,Bo=He(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Fh(r.parent),$root:r=>Fh(r.root),$emit:r=>r.emit,$options:r=>Lh(r),$forceUpdate:r=>r.f||(r.f=()=>Ah(r.update)),$nextTick:r=>r.n||(r.n=Ie.bind(r.proxy)),$watch:r=>G1.bind(r)}),Nh=(r,t)=>r!==ae&&!r.__isScriptSetup&&qt(r,t),oE={get({_:r},t){const{ctx:e,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:h}=r;let l;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return i[t];case 4:return e[t];case 3:return a[t]}else{if(Nh(n,t))return o[t]=1,n[t];if(i!==ae&&qt(i,t))return o[t]=2,i[t];if((l=r.propsOptions[0])&&qt(l,t))return o[t]=3,a[t];if(e!==ae&&qt(e,t))return o[t]=4,e[t];Dh&&(o[t]=0)}}const u=Bo[t];let c,f;if(u)return t==="$attrs"&&yr(r,"get",t),u(r);if((c=s.__cssModules)&&(c=c[t]))return c;if(e!==ae&&qt(e,t))return o[t]=4,e[t];if(f=h.config.globalProperties,qt(f,t))return f[t]},set({_:r},t,e){const{data:n,setupState:i,ctx:a}=r;return Nh(i,t)?(i[t]=e,!0):n!==ae&&qt(n,t)?(n[t]=e,!0):qt(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(a[t]=e,!0)},has({_:{data:r,setupState:t,accessCache:e,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!e[o]||r!==ae&&qt(r,o)||Nh(t,o)||(s=a[0])&&qt(s,o)||qt(n,o)||qt(Bo,o)||qt(i.config.globalProperties,o)},defineProperty(r,t,e){return e.get!=null?r._.accessCache[t]=0:qt(e,"value")&&this.set(r,t,e.value,null),Reflect.defineProperty(r,t,e)}};let Dh=!0;function sE(r){const t=Lh(r),e=r.proxy,n=r.ctx;Dh=!1,t.beforeCreate&&$m(t.beforeCreate,r,"bc");const{data:i,computed:a,methods:o,watch:s,provide:h,inject:l,created:u,beforeMount:c,mounted:f,beforeUpdate:d,updated:p,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:x,render:_,renderTracked:w,renderTriggered:E,errorCaptured:S,serverPrefetch:T,expose:I,inheritAttrs:R,components:A,directives:C,filters:O}=t;if(l&&lE(l,n,null,r.appContext.config.unwrapInjectedRef),o)for(const L in o){const D=o[L];Ct(D)&&(n[L]=D.bind(e))}if(i){const L=i.call(e,e);Zt(L)&&(r.data=Xr(L))}if(Dh=!0,a)for(const L in a){const D=a[L],Q=Ct(D)?D.bind(e,e):Ct(D.get)?D.get.bind(e,e):er,tt=!Ct(D)&&Ct(D.set)?D.set.bind(e):er,V=st({get:Q,set:tt});Object.defineProperty(n,L,{enumerable:!0,configurable:!0,get:()=>V.value,set:W=>V.value=W})}if(s)for(const L in s)Zm(s[L],n,e,L);if(h){const L=Ct(h)?h.call(e):h;Reflect.ownKeys(L).forEach(D=>{br(D,L[D])})}u&&$m(u,r,"c");function N(L,D){It(D)?D.forEach(Q=>L(Q.bind(e))):D&&L(D.bind(e))}if(N(zm,c),N(Oe,f),N(Q1,d),N(Ml,p),N(K1,m),N(Um,g),N(nE,S),N(rE,w),N(eE,E),N(Pr,y),N(Oh,x),N(tE,T),It(I))if(I.length){const L=r.exposed||(r.exposed={});I.forEach(D=>{Object.defineProperty(L,D,{get:()=>e[D],set:Q=>e[D]=Q})})}else r.exposed||(r.exposed={});_&&r.render===er&&(r.render=_),R!=null&&(r.inheritAttrs=R),A&&(r.components=A),C&&(r.directives=C)}function lE(r,t,e=er,n=!1){It(r)&&(r=Bh(r));for(const i in r){const a=r[i];let o;Zt(a)?"default"in a?o=ee(a.from||i,a.default,!0):o=ee(a.from||i):o=ee(a),Te(o)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[i]=o}}function $m(r,t,e){Ir(It(r)?r.map(n=>n.bind(t.proxy)):r.bind(t.proxy),t,e)}function Zm(r,t,e,n){const i=n.includes(".")?Bm(e,n):()=>e[n];if(jt(r)){const a=t[r];Ct(a)&&Ft(i,a)}else if(Ct(r))Ft(i,r.bind(e));else if(Zt(r))if(It(r))r.forEach(a=>Zm(a,t,e,n));else{const a=Ct(r.handler)?r.handler.bind(e):t[r.handler];Ct(a)&&Ft(i,a,r)}}function Lh(r){const t=r.type,{mixins:e,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=r.appContext,s=a.get(t);let h;return s?h=s:!i.length&&!e&&!n?h=t:(h={},i.length&&i.forEach(l=>Rl(h,l,o,!0)),Rl(h,t,o)),Zt(t)&&a.set(t,h),h}function Rl(r,t,e,n=!1){const{mixins:i,extends:a}=t;a&&Rl(r,a,e,!0),i&&i.forEach(o=>Rl(r,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const s=uE[o]||e&&e[o];r[o]=s?s(r[o],t[o]):t[o]}return r}const uE={data:Km,props:ki,emits:ki,methods:ki,computed:ki,beforeCreate:rr,created:rr,beforeMount:rr,mounted:rr,beforeUpdate:rr,updated:rr,beforeDestroy:rr,beforeUnmount:rr,destroyed:rr,unmounted:rr,activated:rr,deactivated:rr,errorCaptured:rr,serverPrefetch:rr,components:ki,directives:ki,watch:cE,provide:Km,inject:hE};function Km(r,t){return t?r?function(){return He(Ct(r)?r.call(this,this):r,Ct(t)?t.call(this,this):t)}:t:r}function hE(r,t){return ki(Bh(r),Bh(t))}function Bh(r){if(It(r)){const t={};for(let e=0;e<r.length;e++)t[r[e]]=r[e];return t}return r}function rr(r,t){return r?[...new Set([].concat(r,t))]:t}function ki(r,t){return r?He(He(Object.create(null),r),t):t}function cE(r,t){if(!r)return t;if(!t)return r;const e=He(Object.create(null),r);for(const n in t)e[n]=rr(r[n],t[n]);return e}function fE(r,t,e,n=!1){const i={},a={};pl(a,Fl,1),r.propsDefaults=Object.create(null),Jm(r,t,i,a);for(const o in r.propsOptions[0])o in i||(i[o]=void 0);e?r.props=n?i:A1(i):r.type.props?r.props=i:r.props=a,r.attrs=a}function dE(r,t,e,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=r,s=Jt(i),[h]=r.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=r.vnode.dynamicProps;for(let c=0;c<u.length;c++){let f=u[c];if(Sl(r.emitsOptions,f))continue;const d=t[f];if(h)if(qt(a,f))d!==a[f]&&(a[f]=d,l=!0);else{const p=sn(f);i[p]=Vh(h,s,p,d,r,!1)}else d!==a[f]&&(a[f]=d,l=!0)}}}else{Jm(r,t,i,a)&&(l=!0);let u;for(const c in s)(!t||!qt(t,c)&&((u=Pi(c))===c||!qt(t,u)))&&(h?e&&(e[c]!==void 0||e[u]!==void 0)&&(i[c]=Vh(h,s,c,void 0,r,!0)):delete i[c]);if(a!==s)for(const c in a)(!t||!qt(t,c))&&(delete a[c],l=!0)}l&&Tn(r,"set","$attrs")}function Jm(r,t,e,n){const[i,a]=r.propsOptions;let o=!1,s;if(t)for(let h in t){if(hl(h))continue;const l=t[h];let u;i&&qt(i,u=sn(h))?!a||!a.includes(u)?e[u]=l:(s||(s={}))[u]=l:Sl(r.emitsOptions,h)||(!(h in n)||l!==n[h])&&(n[h]=l,o=!0)}if(a){const h=Jt(e),l=s||ae;for(let u=0;u<a.length;u++){const c=a[u];e[c]=Vh(i,h,c,l[c],r,!qt(l,c))}}return o}function Vh(r,t,e,n,i,a){const o=r[e];if(o!=null){const s=qt(o,"default");if(s&&n===void 0){const h=o.default;if(o.type!==Function&&Ct(h)){const{propsDefaults:l}=i;e in l?n=l[e]:(Da(i),n=l[e]=h.call(null,t),Li())}else n=h}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Pi(e))&&(n=!0))}return n}function Qm(r,t,e=!1){const n=t.propsCache,i=n.get(r);if(i)return i;const a=r.props,o={},s=[];let h=!1;if(!Ct(r)){const u=c=>{h=!0;const[f,d]=Qm(c,t,!0);He(o,f),d&&s.push(...d)};!e&&t.mixins.length&&t.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!a&&!h)return Zt(r)&&n.set(r,Aa),Aa;if(It(a))for(let u=0;u<a.length;u++){const c=sn(a[u]);tv(c)&&(o[c]=ae)}else if(a)for(const u in a){const c=sn(u);if(tv(c)){const f=a[u],d=o[c]=It(f)||Ct(f)?{type:f}:Object.assign({},f);if(d){const p=nv(Boolean,d.type),m=nv(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||qt(d,"default"))&&s.push(c)}}}const l=[o,s];return Zt(r)&&n.set(r,l),l}function tv(r){return r[0]!=="$"}function ev(r){const t=r&&r.toString().match(/^\s*function (\w+)/);return t?t[1]:r===null?"null":""}function rv(r,t){return ev(r)===ev(t)}function nv(r,t){return It(t)?t.findIndex(e=>rv(e,r)):Ct(t)&&rv(t,r)?0:-1}const iv=r=>r[0]==="_"||r==="$stable",Xh=r=>It(r)?r.map(un):[un(r)],pE=(r,t,e)=>{if(t._n)return t;const n=_t((...i)=>Xh(t(...i)),e);return n._c=!1,n},av=(r,t,e)=>{const n=r._ctx;for(const i in r){if(iv(i))continue;const a=r[i];if(Ct(a))t[i]=pE(i,a,n);else if(a!=null){const o=Xh(a);t[i]=()=>o}}},ov=(r,t)=>{const e=Xh(t);r.slots.default=()=>e},mE=(r,t)=>{if(r.vnode.shapeFlag&32){const e=t._;e?(r.slots=Jt(t),pl(t,"_",e)):av(t,r.slots={})}else r.slots={},t&&ov(r,t);pl(r.slots,Fl,1)},vE=(r,t,e)=>{const{vnode:n,slots:i}=r;let a=!0,o=ae;if(n.shapeFlag&32){const s=t._;s?e&&s===1?a=!1:(He(i,t),!e&&s===1&&delete i._):(a=!t.$stable,av(t,i)),o=t}else t&&(ov(r,t),o={default:1});if(a)for(const s in i)!iv(s)&&!(s in o)&&delete i[s]};function sv(){return{app:null,config:{isNativeTag:zw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gE=0;function yE(r,t){return function(e,n=null){Ct(e)||(e=Object.assign({},e)),n!=null&&!Zt(n)&&(n=null);const i=sv(),a=new Set;let o=!1;const s=i.app={_uid:gE++,_component:e,_props:n,_container:null,_context:i,_instance:null,version:XE,get config(){return i.config},set config(h){},use(h,...l){return a.has(h)||(h&&Ct(h.install)?(a.add(h),h.install(s,...l)):Ct(h)&&(a.add(h),h(s,...l))),s},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),s},component(h,l){return l?(i.components[h]=l,s):i.components[h]},directive(h,l){return l?(i.directives[h]=l,s):i.directives[h]},mount(h,l,u){if(!o){const c=mt(e,n);return c.appContext=i,l&&t?t(c,h):r(c,h,u),o=!0,s._container=h,h.__vue_app__=s,Dl(c.component)||c.component.proxy}},unmount(){o&&(r(null,s._container),delete s._container.__vue_app__)},provide(h,l){return i.provides[h]=l,s}};return s}}function Yh(r,t,e,n,i=!1){if(It(r)){r.forEach((f,d)=>Yh(f,t&&(It(t)?t[d]:t),e,n,i));return}if(Lo(n)&&!i)return;const a=n.shapeFlag&4?Dl(n.component)||n.component.proxy:n.el,o=i?null:a,{i:s,r:h}=r,l=t&&t.r,u=s.refs===ae?s.refs={}:s.refs,c=s.setupState;if(l!=null&&l!==h&&(jt(l)?(u[l]=null,qt(c,l)&&(c[l]=null)):Te(l)&&(l.value=null)),Ct(h))Zn(h,s,12,[o,u]);else{const f=jt(h),d=Te(h);if(f||d){const p=()=>{if(r.f){const m=f?qt(c,h)?c[h]:u[h]:h.value;i?It(m)&&uh(m,a):It(m)?m.includes(a)||m.push(a):f?(u[h]=[a],qt(c,h)&&(c[h]=u[h])):(h.value=[a],r.k&&(u[r.k]=h.value))}else f?(u[h]=o,qt(c,h)&&(c[h]=o)):d&&(h.value=o,r.k&&(u[r.k]=o))};o?(p.id=-1,lr(p,e)):p()}}}const lr=q1;function bE(r){return xE(r)}function xE(r,t){const e=Kw();e.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:h,setText:l,setElementText:u,parentNode:c,nextSibling:f,setScopeId:d=er,insertStaticContent:p}=r,m=(M,k,U,H=null,G=null,rt=null,ht=!1,ot=null,z=!!k.dynamicChildren)=>{if(M===k)return;M&&!Ni(M,k)&&(H=K(M),X(M,G,rt,!0),M=null),k.patchFlag===-2&&(z=!1,k.dynamicChildren=null);const{type:nt,ref:lt,shapeFlag:pt}=k;switch(nt){case Na:g(M,k,U,H);break;case xr:v(M,k,U,H);break;case Wh:M==null&&y(k,U,H,ht);break;case he:A(M,k,U,H,G,rt,ht,ot,z);break;default:pt&1?_(M,k,U,H,G,rt,ht,ot,z):pt&6?C(M,k,U,H,G,rt,ht,ot,z):(pt&64||pt&128)&&nt.process(M,k,U,H,G,rt,ht,ot,z,it)}lt!=null&&G&&Yh(lt,M&&M.ref,rt,k||M,!k)},g=(M,k,U,H)=>{if(M==null)n(k.el=s(k.children),U,H);else{const G=k.el=M.el;k.children!==M.children&&l(G,k.children)}},v=(M,k,U,H)=>{M==null?n(k.el=h(k.children||""),U,H):k.el=M.el},y=(M,k,U,H)=>{[M.el,M.anchor]=p(M.children,k,U,H,M.el,M.anchor)},b=({el:M,anchor:k},U,H)=>{let G;for(;M&&M!==k;)G=f(M),n(M,U,H),M=G;n(k,U,H)},x=({el:M,anchor:k})=>{let U;for(;M&&M!==k;)U=f(M),i(M),M=U;i(k)},_=(M,k,U,H,G,rt,ht,ot,z)=>{ht=ht||k.type==="svg",M==null?w(k,U,H,G,rt,ht,ot,z):T(M,k,G,rt,ht,ot,z)},w=(M,k,U,H,G,rt,ht,ot)=>{let z,nt;const{type:lt,props:pt,shapeFlag:bt,transition:wt,dirs:Et}=M;if(z=M.el=o(M.type,rt,pt&&pt.is,pt),bt&8?u(z,M.children):bt&16&&S(M.children,z,null,H,G,rt&&lt!=="foreignObject",ht,ot),Et&&Oi(M,null,H,"created"),pt){for(const kt in pt)kt!=="value"&&!hl(kt)&&a(z,kt,null,pt[kt],rt,M.children,H,G,$);"value"in pt&&a(z,"value",null,pt.value),(nt=pt.onVnodeBeforeMount)&&hn(nt,H,M)}E(z,M,M.scopeId,ht,H),Et&&Oi(M,null,H,"beforeMount");const Lt=(!G||G&&!G.pendingBranch)&&wt&&!wt.persisted;Lt&&wt.beforeEnter(z),n(z,k,U),((nt=pt&&pt.onVnodeMounted)||Lt||Et)&&lr(()=>{nt&&hn(nt,H,M),Lt&&wt.enter(z),Et&&Oi(M,null,H,"mounted")},G)},E=(M,k,U,H,G)=>{if(U&&d(M,U),H)for(let rt=0;rt<H.length;rt++)d(M,H[rt]);if(G){let rt=G.subTree;if(k===rt){const ht=G.vnode;E(M,ht,ht.scopeId,ht.slotScopeIds,G.parent)}}},S=(M,k,U,H,G,rt,ht,ot,z=0)=>{for(let nt=z;nt<M.length;nt++){const lt=M[nt]=ot?Jn(M[nt]):un(M[nt]);m(null,lt,k,U,H,G,rt,ht,ot)}},T=(M,k,U,H,G,rt,ht)=>{const ot=k.el=M.el;let{patchFlag:z,dynamicChildren:nt,dirs:lt}=k;z|=M.patchFlag&16;const pt=M.props||ae,bt=k.props||ae;let wt;U&&Fi(U,!1),(wt=bt.onVnodeBeforeUpdate)&&hn(wt,U,k,M),lt&&Oi(k,M,U,"beforeUpdate"),U&&Fi(U,!0);const Et=G&&k.type!=="foreignObject";if(nt?I(M.dynamicChildren,nt,ot,U,H,Et,rt):ht||Q(M,k,ot,null,U,H,Et,rt,!1),z>0){if(z&16)R(ot,k,pt,bt,U,H,G);else if(z&2&&pt.class!==bt.class&&a(ot,"class",null,bt.class,G),z&4&&a(ot,"style",pt.style,bt.style,G),z&8){const Lt=k.dynamicProps;for(let kt=0;kt<Lt.length;kt++){const Ht=Lt[kt],Le=pt[Ht],ie=bt[Ht];(ie!==Le||Ht==="value")&&a(ot,Ht,Le,ie,G,M.children,U,H,$)}}z&1&&M.children!==k.children&&u(ot,k.children)}else!ht&&nt==null&&R(ot,k,pt,bt,U,H,G);((wt=bt.onVnodeUpdated)||lt)&&lr(()=>{wt&&hn(wt,U,k,M),lt&&Oi(k,M,U,"updated")},H)},I=(M,k,U,H,G,rt,ht)=>{for(let ot=0;ot<k.length;ot++){const z=M[ot],nt=k[ot],lt=z.el&&(z.type===he||!Ni(z,nt)||z.shapeFlag&70)?c(z.el):U;m(z,nt,lt,null,H,G,rt,ht,!0)}},R=(M,k,U,H,G,rt,ht)=>{if(U!==H){if(U!==ae)for(const ot in U)!hl(ot)&&!(ot in H)&&a(M,ot,U[ot],null,ht,k.children,G,rt,$);for(const ot in H){if(hl(ot))continue;const z=H[ot],nt=U[ot];z!==nt&&ot!=="value"&&a(M,ot,nt,z,ht,k.children,G,rt,$)}"value"in H&&a(M,"value",U.value,H.value)}},A=(M,k,U,H,G,rt,ht,ot,z)=>{const nt=k.el=M?M.el:s(""),lt=k.anchor=M?M.anchor:s("");let{patchFlag:pt,dynamicChildren:bt,slotScopeIds:wt}=k;wt&&(ot=ot?ot.concat(wt):wt),M==null?(n(nt,U,H),n(lt,U,H),S(k.children,U,lt,G,rt,ht,ot,z)):pt>0&&pt&64&&bt&&M.dynamicChildren?(I(M.dynamicChildren,bt,U,G,rt,ht,ot),(k.key!=null||G&&k===G.subTree)&&jh(M,k,!0)):Q(M,k,U,lt,G,rt,ht,ot,z)},C=(M,k,U,H,G,rt,ht,ot,z)=>{k.slotScopeIds=ot,M==null?k.shapeFlag&512?G.ctx.activate(k,U,H,ht,z):O(k,U,H,G,rt,ht,z):N(M,k,z)},O=(M,k,U,H,G,rt,ht)=>{const ot=M.component=RE(M,H,G);if(Pl(M)&&(ot.ctx.renderer=it),OE(ot),ot.asyncDep){if(G&&G.registerDep(ot,L),!M.el){const z=ot.subTree=mt(xr);v(null,z,k,U)}return}L(ot,M,k,U,G,rt,ht)},N=(M,k,U)=>{const H=k.component=M.component;if(W1(M,k,U))if(H.asyncDep&&!H.asyncResolved){D(H,k,U);return}else H.next=k,D1(H.update),H.update();else k.el=M.el,H.vnode=k},L=(M,k,U,H,G,rt,ht)=>{const ot=()=>{if(M.isMounted){let{next:lt,bu:pt,u:bt,parent:wt,vnode:Et}=M,Lt=lt,kt;Fi(M,!1),lt?(lt.el=Et.el,D(M,lt,ht)):lt=Et,pt&&dl(pt),(kt=lt.props&&lt.props.onVnodeBeforeUpdate)&&hn(kt,wt,lt,Et),Fi(M,!0);const Ht=Ph(M),Le=M.subTree;M.subTree=Ht,m(Le,Ht,c(Le.el),K(Le),M,G,rt),lt.el=Ht.el,Lt===null&&z1(M,Ht.el),bt&&lr(bt,G),(kt=lt.props&&lt.props.onVnodeUpdated)&&lr(()=>hn(kt,wt,lt,Et),G)}else{let lt;const{el:pt,props:bt}=k,{bm:wt,m:Et,parent:Lt}=M,kt=Lo(k);if(Fi(M,!1),wt&&dl(wt),!kt&&(lt=bt&&bt.onVnodeBeforeMount)&&hn(lt,Lt,k),Fi(M,!0),pt&&at){const Ht=()=>{M.subTree=Ph(M),at(pt,M.subTree,M,G,null)};kt?k.type.__asyncLoader().then(()=>!M.isUnmounted&&Ht()):Ht()}else{const Ht=M.subTree=Ph(M);m(null,Ht,U,H,M,G,rt),k.el=Ht.el}if(Et&&lr(Et,G),!kt&&(lt=bt&&bt.onVnodeMounted)){const Ht=k;lr(()=>hn(lt,Lt,Ht),G)}(k.shapeFlag&256||Lt&&Lo(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&M.a&&lr(M.a,G),M.isMounted=!0,k=U=H=null}},z=M.effect=new gh(ot,()=>Ah(nt),M.scope),nt=M.update=()=>z.run();nt.id=M.uid,Fi(M,!0),nt()},D=(M,k,U)=>{k.component=M;const H=M.vnode.props;M.vnode=k,M.next=null,dE(M,k.props,H,U),vE(M,k.children,U),Ca(),Om(),Ma()},Q=(M,k,U,H,G,rt,ht,ot,z=!1)=>{const nt=M&&M.children,lt=M?M.shapeFlag:0,pt=k.children,{patchFlag:bt,shapeFlag:wt}=k;if(bt>0){if(bt&128){V(nt,pt,U,H,G,rt,ht,ot,z);return}else if(bt&256){tt(nt,pt,U,H,G,rt,ht,ot,z);return}}wt&8?(lt&16&&$(nt,G,rt),pt!==nt&&u(U,pt)):lt&16?wt&16?V(nt,pt,U,H,G,rt,ht,ot,z):$(nt,G,rt,!0):(lt&8&&u(U,""),wt&16&&S(pt,U,H,G,rt,ht,ot,z))},tt=(M,k,U,H,G,rt,ht,ot,z)=>{M=M||Aa,k=k||Aa;const nt=M.length,lt=k.length,pt=Math.min(nt,lt);let bt;for(bt=0;bt<pt;bt++){const wt=k[bt]=z?Jn(k[bt]):un(k[bt]);m(M[bt],wt,U,null,G,rt,ht,ot,z)}nt>lt?$(M,G,rt,!0,!1,pt):S(k,U,H,G,rt,ht,ot,z,pt)},V=(M,k,U,H,G,rt,ht,ot,z)=>{let nt=0;const lt=k.length;let pt=M.length-1,bt=lt-1;for(;nt<=pt&&nt<=bt;){const wt=M[nt],Et=k[nt]=z?Jn(k[nt]):un(k[nt]);if(Ni(wt,Et))m(wt,Et,U,null,G,rt,ht,ot,z);else break;nt++}for(;nt<=pt&&nt<=bt;){const wt=M[pt],Et=k[bt]=z?Jn(k[bt]):un(k[bt]);if(Ni(wt,Et))m(wt,Et,U,null,G,rt,ht,ot,z);else break;pt--,bt--}if(nt>pt){if(nt<=bt){const wt=bt+1,Et=wt<lt?k[wt].el:H;for(;nt<=bt;)m(null,k[nt]=z?Jn(k[nt]):un(k[nt]),U,Et,G,rt,ht,ot,z),nt++}}else if(nt>bt)for(;nt<=pt;)X(M[nt],G,rt,!0),nt++;else{const wt=nt,Et=nt,Lt=new Map;for(nt=Et;nt<=bt;nt++){const be=k[nt]=z?Jn(k[nt]):un(k[nt]);be.key!=null&&Lt.set(be.key,nt)}let kt,Ht=0;const Le=bt-Et+1;let ie=!1,Hn=0;const an=new Array(Le);for(nt=0;nt<Le;nt++)an[nt]=0;for(nt=wt;nt<=pt;nt++){const be=M[nt];if(Ht>=Le){X(be,G,rt,!0);continue}let Qe;if(be.key!=null)Qe=Lt.get(be.key);else for(kt=Et;kt<=bt;kt++)if(an[kt-Et]===0&&Ni(be,k[kt])){Qe=kt;break}Qe===void 0?X(be,G,rt,!0):(an[Qe-Et]=nt+1,Qe>=Hn?Hn=Qe:ie=!0,m(be,k[Qe],U,null,G,rt,ht,ot,z),Ht++)}const te=ie?_E(an):Aa;for(kt=te.length-1,nt=Le-1;nt>=0;nt--){const be=Et+nt,Qe=k[be],on=be+1<lt?k[be+1].el:H;an[nt]===0?m(null,Qe,U,on,G,rt,ht,ot,z):ie&&(kt<0||nt!==te[kt]?W(Qe,U,on,2):kt--)}}},W=(M,k,U,H,G=null)=>{const{el:rt,type:ht,transition:ot,children:z,shapeFlag:nt}=M;if(nt&6){W(M.component.subTree,k,U,H);return}if(nt&128){M.suspense.move(k,U,H);return}if(nt&64){ht.move(M,k,U,it);return}if(ht===he){n(rt,k,U);for(let lt=0;lt<z.length;lt++)W(z[lt],k,U,H);n(M.anchor,k,U);return}if(ht===Wh){b(M,k,U);return}if(H!==2&&nt&1&&ot)if(H===0)ot.beforeEnter(rt),n(rt,k,U),lr(()=>ot.enter(rt),G);else{const{leave:lt,delayLeave:pt,afterLeave:bt}=ot,wt=()=>n(rt,k,U),Et=()=>{lt(rt,()=>{wt(),bt&&bt()})};pt?pt(rt,wt,Et):Et()}else n(rt,k,U)},X=(M,k,U,H=!1,G=!1)=>{const{type:rt,props:ht,ref:ot,children:z,dynamicChildren:nt,shapeFlag:lt,patchFlag:pt,dirs:bt}=M;if(ot!=null&&Yh(ot,null,U,M,!0),lt&256){k.ctx.deactivate(M);return}const wt=lt&1&&bt,Et=!Lo(M);let Lt;if(Et&&(Lt=ht&&ht.onVnodeBeforeUnmount)&&hn(Lt,k,M),lt&6)q(M.component,U,H);else{if(lt&128){M.suspense.unmount(U,H);return}wt&&Oi(M,null,k,"beforeUnmount"),lt&64?M.type.remove(M,k,U,G,it,H):nt&&(rt!==he||pt>0&&pt&64)?$(nt,k,U,!1,!0):(rt===he&&pt&384||!G&&lt&16)&&$(z,k,U),H&&j(M)}(Et&&(Lt=ht&&ht.onVnodeUnmounted)||wt)&&lr(()=>{Lt&&hn(Lt,k,M),wt&&Oi(M,null,k,"unmounted")},U)},j=M=>{const{type:k,el:U,anchor:H,transition:G}=M;if(k===he){Y(U,H);return}if(k===Wh){x(M);return}const rt=()=>{i(U),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(M.shapeFlag&1&&G&&!G.persisted){const{leave:ht,delayLeave:ot}=G,z=()=>ht(U,rt);ot?ot(M.el,rt,z):z()}else rt()},Y=(M,k)=>{let U;for(;M!==k;)U=f(M),i(M),M=U;i(k)},q=(M,k,U)=>{const{bum:H,scope:G,update:rt,subTree:ht,um:ot}=M;H&&dl(H),G.stop(),rt&&(rt.active=!1,X(ht,M,k,U)),ot&&lr(ot,k),lr(()=>{M.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},$=(M,k,U,H=!1,G=!1,rt=0)=>{for(let ht=rt;ht<M.length;ht++)X(M[ht],k,U,H,G)},K=M=>M.shapeFlag&6?K(M.component.subTree):M.shapeFlag&128?M.suspense.next():f(M.anchor||M.el),J=(M,k,U)=>{M==null?k._vnode&&X(k._vnode,null,null,!0):m(k._vnode||null,M,k,null,null,null,U),Om(),km(),k._vnode=M},it={p:m,um:X,m:W,r:j,mt:O,mc:S,pc:Q,pbc:I,n:K,o:r};let ut,at;return{render:J,hydrate:ut,createApp:yE(J,ut)}}function Fi({effect:r,update:t},e){r.allowRecurse=t.allowRecurse=e}function jh(r,t,e=!1){const n=r.children,i=t.children;if(It(n)&&It(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=Jn(i[a]),s.el=o.el),e||jh(o,s)),s.type===Na&&(s.el=o.el)}}function _E(r){const t=r.slice(),e=[0];let n,i,a,o,s;const h=r.length;for(n=0;n<h;n++){const l=r[n];if(l!==0){if(i=e[e.length-1],r[i]<l){t[n]=i,e.push(n);continue}for(a=0,o=e.length-1;a<o;)s=a+o>>1,r[e[s]]<l?a=s+1:o=s;l<r[e[a]]&&(a>0&&(t[n]=e[a-1]),e[a]=n)}}for(a=e.length,o=e[a-1];a-- >0;)e[a]=o,o=t[o];return e}const wE=r=>r.__isTeleport,Vo=r=>r&&(r.disabled||r.disabled===""),lv=r=>typeof SVGElement<"u"&&r instanceof SVGElement,Uh=(r,t)=>{const e=r&&r.to;return jt(e)?t?t(e):null:e},EE={__isTeleport:!0,process(r,t,e,n,i,a,o,s,h,l){const{mc:u,pc:c,pbc:f,o:{insert:d,querySelector:p,createText:m,createComment:g}}=l,v=Vo(t.props);let{shapeFlag:y,children:b,dynamicChildren:x}=t;if(r==null){const _=t.el=m(""),w=t.anchor=m("");d(_,e,n),d(w,e,n);const E=t.target=Uh(t.props,p),S=t.targetAnchor=m("");E&&(d(S,E),o=o||lv(E));const T=(I,R)=>{y&16&&u(b,I,R,i,a,o,s,h)};v?T(e,w):E&&T(E,S)}else{t.el=r.el;const _=t.anchor=r.anchor,w=t.target=r.target,E=t.targetAnchor=r.targetAnchor,S=Vo(r.props),T=S?e:w,I=S?_:E;if(o=o||lv(w),x?(f(r.dynamicChildren,x,T,i,a,o,s),jh(r,t,!0)):h||c(r,t,T,I,i,a,o,s,!1),v)S||Ol(t,e,_,l,1);else if((t.props&&t.props.to)!==(r.props&&r.props.to)){const R=t.target=Uh(t.props,p);R&&Ol(t,R,null,l,0)}else S&&Ol(t,w,E,l,1)}uv(t)},remove(r,t,e,n,{um:i,o:{remove:a}},o){const{shapeFlag:s,children:h,anchor:l,targetAnchor:u,target:c,props:f}=r;if(c&&a(u),(o||!Vo(f))&&(a(l),s&16))for(let d=0;d<h.length;d++){const p=h[d];i(p,t,e,!0,!!p.dynamicChildren)}},move:Ol,hydrate:SE};function Ol(r,t,e,{o:{insert:n},m:i},a=2){a===0&&n(r.targetAnchor,t,e);const{el:o,anchor:s,shapeFlag:h,children:l,props:u}=r,c=a===2;if(c&&n(o,t,e),(!c||Vo(u))&&h&16)for(let f=0;f<l.length;f++)i(l[f],t,e,2);c&&n(s,t,e)}function SE(r,t,e,n,i,a,{o:{nextSibling:o,parentNode:s,querySelector:h}},l){const u=t.target=Uh(t.props,h);if(u){const c=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Vo(t.props))t.anchor=l(o(r),t,s(r),e,n,i,a),t.targetAnchor=c;else{t.anchor=o(r);let f=c;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}l(c,t,u,e,n,i,a)}uv(t)}return t.anchor&&o(t.anchor)}const TE=EE;function uv(r){const t=r.ctx;if(t&&t.ut){let e=r.children[0].el;for(;e!==r.targetAnchor;)e.nodeType===1&&e.setAttribute("data-v-owner",t.uid),e=e.nextSibling;t.ut()}}const he=Symbol(void 0),Na=Symbol(void 0),xr=Symbol(void 0),Wh=Symbol(void 0),Xo=[];let Ur=null;function ft(r=!1){Xo.push(Ur=r?null:[])}function IE(){Xo.pop(),Ur=Xo[Xo.length-1]||null}let Yo=1;function hv(r){Yo+=r}function cv(r){return r.dynamicChildren=Yo>0?Ur||Aa:null,IE(),Yo>0&&Ur&&Ur.push(r),r}function St(r,t,e,n,i,a){return cv(Rt(r,t,e,n,i,a,!0))}function Bt(r,t,e,n,i){return cv(mt(r,t,e,n,i,!0))}function kl(r){return r?r.__v_isVNode===!0:!1}function Ni(r,t){return r.type===t.type&&r.key===t.key}const Fl="__vInternal",fv=({key:r})=>r??null,Nl=({ref:r,ref_key:t,ref_for:e})=>r!=null?jt(r)||Te(r)||Ct(r)?{i:qe,r,k:t,f:!!e}:r:null;function Rt(r,t=null,e=null,n=0,i=null,a=r===he?0:1,o=!1,s=!1){const h={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&fv(t),ref:t&&Nl(t),scopeId:Tl,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qe};return s?(zh(h,e),a&128&&r.normalize(h)):e&&(h.shapeFlag|=jt(e)?8:16),Yo>0&&!o&&Ur&&(h.patchFlag>0||a&6)&&h.patchFlag!==32&&Ur.push(h),h}const mt=AE;function AE(r,t=null,e=null,n=0,i=null,a=!1){if((!r||r===Hm)&&(r=xr),kl(r)){const s=Pn(r,t,!0);return e&&zh(s,e),Yo>0&&!a&&Ur&&(s.shapeFlag&6?Ur[Ur.indexOf(r)]=s:Ur.push(s)),s.patchFlag|=-2,s}if(DE(r)&&(r=r.__vccOpts),t){t=PE(t);let{class:s,style:h}=t;s&&!jt(s)&&(t.class=xt(s)),Zt(h)&&(Em(h)&&!It(h)&&(h=He({},h)),t.style=me(h))}const o=jt(r)?1:H1(r)?128:wE(r)?64:Zt(r)?4:Ct(r)?2:0;return Rt(r,t,e,n,i,o,a,!0)}function PE(r){return r?Em(r)||Fl in r?He({},r):r:null}function Pn(r,t,e=!1){const{props:n,ref:i,patchFlag:a,children:o}=r,s=t?Di(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:s,key:s&&fv(s),ref:t&&t.ref?e&&i?It(i)?i.concat(Nl(t)):[i,Nl(t)]:Nl(t):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:o,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==he?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Pn(r.ssContent),ssFallback:r.ssFallback&&Pn(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx}}function Ke(r=" ",t=0){return mt(Na,null,r,t)}function Nt(r="",t=!1){return t?(ft(),Bt(xr,null,r)):mt(xr,null,r)}function un(r){return r==null||typeof r=="boolean"?mt(xr):It(r)?mt(he,null,r.slice()):typeof r=="object"?Jn(r):mt(Na,null,String(r))}function Jn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Pn(r)}function zh(r,t){let e=0;const{shapeFlag:n}=r;if(t==null)t=null;else if(It(t))e=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),zh(r,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!(Fl in t)?t._ctx=qe:i===3&&qe&&(qe.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else Ct(t)?(t={default:t,_ctx:qe},e=32):(t=String(t),n&64?(e=16,t=[Ke(t)]):e=8);r.children=t,r.shapeFlag|=e}function Di(...r){const t={};for(let e=0;e<r.length;e++){const n=r[e];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=xt([t.class,n.class]));else if(i==="style")t.style=me([t.style,n.style]);else if(ll(i)){const a=t[i],o=n[i];o&&a!==o&&!(It(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function hn(r,t,e,n=null){Ir(r,t,7,[e,n])}const CE=sv();let ME=0;function RE(r,t,e){const n=r.type,i=(t?t.appContext:r.appContext)||CE,a={uid:ME++,vnode:r,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qm(n,i),emitsOptions:Nm(n,i),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:n.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=V1.bind(null,a),r.ce&&r.ce(a),a}let Be=null;const Qn=()=>Be||qe,Da=r=>{Be=r,r.scope.on()},Li=()=>{Be&&Be.scope.off(),Be=null};function dv(r){return r.vnode.shapeFlag&4}let jo=!1;function OE(r,t=!1){jo=t;const{props:e,children:n}=r.vnode,i=dv(r);fE(r,e,i,t),mE(r,n);const a=i?kE(r,t):void 0;return jo=!1,a}function kE(r,t){const e=r.type;r.accessCache=Object.create(null),r.proxy=Sm(new Proxy(r.ctx,oE));const{setup:n}=e;if(n){const i=r.setupContext=n.length>1?gv(r):null;Da(r),Ca();const a=Zn(n,r,0,[r.props,i]);if(Ma(),Li(),ul(a)){if(a.then(Li,Li),t)return a.then(o=>{pv(r,o,t)}).catch(o=>{El(o,r,0)});r.asyncDep=a}else pv(r,a,t)}else vv(r,t)}function pv(r,t,e){Ct(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:Zt(t)&&(r.setupState=Pm(t)),vv(r,e)}let mv;function vv(r,t,e){const n=r.type;if(!r.render){if(!t&&mv&&!n.render){const i=n.template||Lh(r).template;if(i){const{isCustomElement:a,compilerOptions:o}=r.appContext.config,{delimiters:s,compilerOptions:h}=n,l=He(He({isCustomElement:a,delimiters:s},o),h);n.render=mv(i,l)}}r.render=n.render||er}Da(r),Ca(),sE(r),Ma(),Li()}function FE(r){return new Proxy(r.attrs,{get(t,e){return yr(r,"get","$attrs"),t[e]}})}function gv(r){const t=n=>{r.exposed=n||{}};let e;return{get attrs(){return e||(e=FE(r))},slots:r.slots,emit:r.emit,expose:t}}function Dl(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Pm(Sm(r.exposed)),{get(t,e){if(e in t)return t[e];if(e in Bo)return Bo[e](r)},has(t,e){return e in t||e in Bo}}))}function NE(r,t=!0){return Ct(r)?r.displayName||r.name:r.name||t&&r.__name}function DE(r){return Ct(r)&&"__vccOpts"in r}const st=(r,t)=>O1(r,t,jo);function Hh(){return yv().slots}function LE(){return yv().attrs}function yv(){const r=Qn();return r.setupContext||(r.setupContext=gv(r))}function bv(r,t,e){const n=arguments.length;return n===2?Zt(t)&&!It(t)?kl(t)?mt(r,null,[t]):mt(r,t):mt(r,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&kl(e)&&(e=[e]),mt(r,t,e))}const BE=Symbol(""),VE=()=>ee(BE),XE="3.2.45",YE="http://www.w3.org/2000/svg",Bi=typeof document<"u"?document:null,xv=Bi&&Bi.createElement("template"),jE={insert:(r,t,e)=>{t.insertBefore(r,e||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,e,n)=>{const i=t?Bi.createElementNS(YE,r):Bi.createElement(r,e?{is:e}:void 0);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>Bi.createTextNode(r),createComment:r=>Bi.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Bi.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},insertStaticContent(r,t,e,n,i,a){const o=e?e.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===a||!(i=i.nextSibling)););else{xv.innerHTML=n?`<svg>${r}</svg>`:r;const s=xv.content;if(n){const h=s.firstChild;for(;h.firstChild;)s.appendChild(h.firstChild);s.removeChild(h)}t.insertBefore(s,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function UE(r,t,e){const n=r._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?r.removeAttribute("class"):e?r.setAttribute("class",t):r.className=t}function WE(r,t,e){const n=r.style,i=jt(e);if(e&&!i){for(const a in e)qh(n,a,e[a]);if(t&&!jt(t))for(const a in t)e[a]==null&&qh(n,a,"")}else{const a=n.display;i?t!==e&&(n.cssText=e):t&&r.removeAttribute("style"),"_vod"in r&&(n.display=a)}}const _v=/\s*!important$/;function qh(r,t,e){if(It(e))e.forEach(n=>qh(r,t,n));else if(e==null&&(e=""),t.startsWith("--"))r.setProperty(t,e);else{const n=zE(r,t);_v.test(e)?r.setProperty(Pi(n),e.replace(_v,""),"important"):r[n]=e}}const wv=["Webkit","Moz","ms"],Gh={};function zE(r,t){const e=Gh[t];if(e)return e;let n=sn(t);if(n!=="filter"&&n in r)return Gh[t]=n;n=fl(n);for(let i=0;i<wv.length;i++){const a=wv[i]+n;if(a in r)return Gh[t]=a}return t}const Ev="http://www.w3.org/1999/xlink";function HE(r,t,e,n,i){if(n&&t.startsWith("xlink:"))e==null?r.removeAttributeNS(Ev,t.slice(6,t.length)):r.setAttributeNS(Ev,t,e);else{const a=Uw(t);e==null||a&&!Qp(e)?r.removeAttribute(t):r.setAttribute(t,a?"":e)}}function qE(r,t,e,n,i,a,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,i,a),r[t]=e??"";return}if(t==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=e;const h=e??"";(r.value!==h||r.tagName==="OPTION")&&(r.value=h),e==null&&r.removeAttribute(t);return}let s=!1;if(e===""||e==null){const h=typeof r[t];h==="boolean"?e=Qp(e):e==null&&h==="string"?(e="",s=!0):h==="number"&&(e=0,s=!0)}try{r[t]=e}catch{}s&&r.removeAttribute(t)}function Sv(r,t,e,n){r.addEventListener(t,e,n)}function GE(r,t,e,n){r.removeEventListener(t,e,n)}function $E(r,t,e,n,i=null){const a=r._vei||(r._vei={}),o=a[t];if(n&&o)o.value=n;else{const[s,h]=ZE(t);if(n){const l=a[t]=QE(n,i);Sv(r,s,l,h)}else o&&(GE(r,s,o,h),a[t]=void 0)}}const Tv=/(?:Once|Passive|Capture)$/;function ZE(r){let t;if(Tv.test(r)){t={};let e;for(;e=r.match(Tv);)r=r.slice(0,r.length-e[0].length),t[e[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Pi(r.slice(2)),t]}let $h=0;const KE=Promise.resolve(),JE=()=>$h||(KE.then(()=>$h=0),$h=Date.now());function QE(r,t){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;Ir(tS(n,e.value),t,5,[n])};return e.value=r,e.attached=JE(),e}function tS(r,t){if(It(t)){const e=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{e.call(r),r._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Iv=/^on[a-z]/,eS=(r,t,e,n,i=!1,a,o,s,h)=>{t==="class"?UE(r,n,i):t==="style"?WE(r,e,n):ll(t)?lh(t)||$E(r,t,e,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):rS(r,t,n,i))?qE(r,t,n,a,o,s,h):(t==="true-value"?r._trueValue=n:t==="false-value"&&(r._falseValue=n),HE(r,t,n,i))};function rS(r,t,e,n){return n?!!(t==="innerHTML"||t==="textContent"||t in r&&Iv.test(t)&&Ct(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA"||Iv.test(t)&&jt(e)?!1:t in r}const ti="transition",Uo="animation",Wo=(r,{slots:t})=>bv(Vm,nS(r),t);Wo.displayName="Transition";const Av={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Wo.props=He({},Vm.props,Av);const Vi=(r,t=[])=>{It(r)?r.forEach(e=>e(...t)):r&&r(...t)},Pv=r=>r?It(r)?r.some(t=>t.length>1):r.length>1:!1;function nS(r){const t={};for(const A in r)A in Av||(t[A]=r[A]);if(r.css===!1)return t;const{name:e="v",type:n,duration:i,enterFromClass:a=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:s=`${e}-enter-to`,appearFromClass:h=a,appearActiveClass:l=o,appearToClass:u=s,leaveFromClass:c=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:d=`${e}-leave-to`}=r,p=iS(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:_,onBeforeAppear:w=v,onAppear:E=y,onAppearCancelled:S=b}=t,T=(A,C,O)=>{Xi(A,C?u:s),Xi(A,C?l:o),O&&O()},I=(A,C)=>{A._isLeaving=!1,Xi(A,c),Xi(A,d),Xi(A,f),C&&C()},R=A=>(C,O)=>{const N=A?E:y,L=()=>T(C,A,O);Vi(N,[C,L]),Cv(()=>{Xi(C,A?h:a),ei(C,A?u:s),Pv(N)||Mv(C,n,m,L)})};return He(t,{onBeforeEnter(A){Vi(v,[A]),ei(A,a),ei(A,o)},onBeforeAppear(A){Vi(w,[A]),ei(A,h),ei(A,l)},onEnter:R(!1),onAppear:R(!0),onLeave(A,C){A._isLeaving=!0;const O=()=>I(A,C);ei(A,c),sS(),ei(A,f),Cv(()=>{!A._isLeaving||(Xi(A,c),ei(A,d),Pv(x)||Mv(A,n,g,O))}),Vi(x,[A,O])},onEnterCancelled(A){T(A,!1),Vi(b,[A])},onAppearCancelled(A){T(A,!0),Vi(S,[A])},onLeaveCancelled(A){I(A),Vi(_,[A])}})}function iS(r){if(r==null)return null;if(Zt(r))return[Zh(r.enter),Zh(r.leave)];{const t=Zh(r);return[t,t]}}function Zh(r){return fh(r)}function ei(r,t){t.split(/\s+/).forEach(e=>e&&r.classList.add(e)),(r._vtc||(r._vtc=new Set)).add(t)}function Xi(r,t){t.split(/\s+/).forEach(n=>n&&r.classList.remove(n));const{_vtc:e}=r;e&&(e.delete(t),e.size||(r._vtc=void 0))}function Cv(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let aS=0;function Mv(r,t,e,n){const i=r._endId=++aS,a=()=>{i===r._endId&&n()};if(e)return setTimeout(a,e);const{type:o,timeout:s,propCount:h}=oS(r,t);if(!o)return n();const l=o+"end";let u=0;const c=()=>{r.removeEventListener(l,f),a()},f=d=>{d.target===r&&++u>=h&&c()};setTimeout(()=>{u<h&&c()},s+1),r.addEventListener(l,f)}function oS(r,t){const e=window.getComputedStyle(r),n=p=>(e[p]||"").split(", "),i=n(`${ti}Delay`),a=n(`${ti}Duration`),o=Rv(i,a),s=n(`${Uo}Delay`),h=n(`${Uo}Duration`),l=Rv(s,h);let u=null,c=0,f=0;t===ti?o>0&&(u=ti,c=o,f=a.length):t===Uo?l>0&&(u=Uo,c=l,f=h.length):(c=Math.max(o,l),u=c>0?o>l?ti:Uo:null,f=u?u===ti?a.length:h.length:0);const d=u===ti&&/\b(transform|all)(,|$)/.test(n(`${ti}Property`).toString());return{type:u,timeout:c,propCount:f,hasTransform:d}}function Rv(r,t){for(;r.length<t.length;)r=r.concat(r);return Math.max(...t.map((e,n)=>Ov(e)+Ov(r[n])))}function Ov(r){return Number(r.slice(0,-1).replace(",","."))*1e3}function sS(){return document.body.offsetHeight}const kv=r=>{const t=r.props["onUpdate:modelValue"]||!1;return It(t)?e=>dl(t,e):t},Fv={created(r,{value:t},e){r.checked=sl(t,e.props.value),r._assign=kv(e),Sv(r,"change",()=>{r._assign(lS(r))})},beforeUpdate(r,{value:t,oldValue:e},n){r._assign=kv(n),t!==e&&(r.checked=sl(t,n.props.value))}};function lS(r){return"_value"in r?r._value:r.value}const uS=["ctrl","shift","alt","meta"],hS={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,t)=>uS.some(e=>r[`${e}Key`]&&!t.includes(e))},ri=(r,t)=>(e,...n)=>{for(let i=0;i<t.length;i++){const a=hS[t[i]];if(a&&a(e,t))return}return r(e,...n)},cS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zo=(r,t)=>e=>{if(!("key"in e))return;const n=Pi(e.key);if(t.some(i=>i===n||cS[i]===n))return r(e)},Kh={beforeMount(r,{value:t},{transition:e}){r._vod=r.style.display==="none"?"":r.style.display,e&&t?e.beforeEnter(r):Ho(r,t)},mounted(r,{value:t},{transition:e}){e&&t&&e.enter(r)},updated(r,{value:t,oldValue:e},{transition:n}){!t!=!e&&(n?t?(n.beforeEnter(r),Ho(r,!0),n.enter(r)):n.leave(r,()=>{Ho(r,!1)}):Ho(r,t))},beforeUnmount(r,{value:t}){Ho(r,t)}};function Ho(r,t){r.style.display=t?r._vod:"none"}const fS=He({patchProp:eS},jE);let Nv;function dS(){return Nv||(Nv=bE(fS))}const pS=(...r)=>{const t=dS().createApp(...r),{mount:e}=t;return t.mount=n=>{const i=mS(n);if(!i)return;const a=t._component;!Ct(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const o=e(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function mS(r){return jt(r)?document.querySelector(r):r}var vS=typeof global=="object"&&global&&global.Object===Object&&global;const Dv=vS;var gS=typeof self=="object"&&self&&self.Object===Object&&self,yS=Dv||gS||Function("return this")();const Wr=yS;var bS=Wr.Symbol;const ni=bS;var Lv=Object.prototype,xS=Lv.hasOwnProperty,_S=Lv.toString,qo=ni?ni.toStringTag:void 0;function wS(r){var t=xS.call(r,qo),e=r[qo];try{r[qo]=void 0;var n=!0}catch{}var i=_S.call(r);return n&&(t?r[qo]=e:delete r[qo]),i}var ES=Object.prototype,SS=ES.toString;function TS(r){return SS.call(r)}var IS="[object Null]",AS="[object Undefined]",Bv=ni?ni.toStringTag:void 0;function La(r){return r==null?r===void 0?AS:IS:Bv&&Bv in Object(r)?wS(r):TS(r)}function Ba(r){return r!=null&&typeof r=="object"}var PS="[object Symbol]";function Ll(r){return typeof r=="symbol"||Ba(r)&&La(r)==PS}function CS(r,t){for(var e=-1,n=r==null?0:r.length,i=Array(n);++e<n;)i[e]=t(r[e],e,r);return i}var MS=Array.isArray;const Yi=MS;var RS=1/0,Vv=ni?ni.prototype:void 0,Xv=Vv?Vv.toString:void 0;function Yv(r){if(typeof r=="string")return r;if(Yi(r))return CS(r,Yv)+"";if(Ll(r))return Xv?Xv.call(r):"";var t=r+"";return t=="0"&&1/r==-RS?"-0":t}var OS=/\s/;function kS(r){for(var t=r.length;t--&&OS.test(r.charAt(t)););return t}var FS=/^\s+/;function NS(r){return r&&r.slice(0,kS(r)+1).replace(FS,"")}function cn(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}var jv=NaN,DS=/^[-+]0x[0-9a-f]+$/i,LS=/^0b[01]+$/i,BS=/^0o[0-7]+$/i,VS=parseInt;function Uv(r){if(typeof r=="number")return r;if(Ll(r))return jv;if(cn(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=cn(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=NS(r);var e=LS.test(r);return e||BS.test(r)?VS(r.slice(2),e?2:8):DS.test(r)?jv:+r}var XS="[object AsyncFunction]",YS="[object Function]",jS="[object GeneratorFunction]",US="[object Proxy]";function Wv(r){if(!cn(r))return!1;var t=La(r);return t==YS||t==jS||t==XS||t==US}var WS=Wr["__core-js_shared__"];const Jh=WS;var zv=function(){var r=/[^.]+$/.exec(Jh&&Jh.keys&&Jh.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function zS(r){return!!zv&&zv in r}var HS=Function.prototype,qS=HS.toString;function ji(r){if(r!=null){try{return qS.call(r)}catch{}try{return r+""}catch{}}return""}var GS=/[\\^$.*+?()[\]{}|]/g,$S=/^\[object .+?Constructor\]$/,ZS=Function.prototype,KS=Object.prototype,JS=ZS.toString,QS=KS.hasOwnProperty,tT=RegExp("^"+JS.call(QS).replace(GS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eT(r){if(!cn(r)||zS(r))return!1;var t=Wv(r)?tT:$S;return t.test(ji(r))}function rT(r,t){return r==null?void 0:r[t]}function Ui(r,t){var e=rT(r,t);return eT(e)?e:void 0}var nT=Ui(Wr,"WeakMap");const Qh=nT;var Hv=Object.create,iT=function(){function r(){}return function(t){if(!cn(t))return{};if(Hv)return Hv(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();const aT=iT;function oT(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var sT=function(){try{var r=Ui(Object,"defineProperty");return r({},"",{}),r}catch{}}();const qv=sT;function lT(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var uT=9007199254740991,hT=/^(?:0|[1-9]\d*)$/;function Gv(r,t){var e=typeof r;return t=t??uT,!!t&&(e=="number"||e!="symbol"&&hT.test(r))&&r>-1&&r%1==0&&r<t}function $v(r,t,e){t=="__proto__"&&qv?qv(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function Zv(r,t){return r===t||r!==r&&t!==t}var cT=Object.prototype,fT=cT.hasOwnProperty;function tc(r,t,e){var n=r[t];(!(fT.call(r,t)&&Zv(n,e))||e===void 0&&!(t in r))&&$v(r,t,e)}function Bl(r,t,e,n){var i=!e;e||(e={});for(var a=-1,o=t.length;++a<o;){var s=t[a],h=void 0;h===void 0&&(h=r[s]),i?$v(e,s,h):tc(e,s,h)}return e}var dT=9007199254740991;function Kv(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=dT}function Jv(r){return r!=null&&Kv(r.length)&&!Wv(r)}var pT=Object.prototype;function ec(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||pT;return r===e}function mT(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var vT="[object Arguments]";function Qv(r){return Ba(r)&&La(r)==vT}var tg=Object.prototype,gT=tg.hasOwnProperty,yT=tg.propertyIsEnumerable,bT=Qv(function(){return arguments}())?Qv:function(r){return Ba(r)&&gT.call(r,"callee")&&!yT.call(r,"callee")};const xT=bT;function _T(){return!1}var eg=typeof tr=="object"&&tr&&!tr.nodeType&&tr,rg=eg&&typeof Ee=="object"&&Ee&&!Ee.nodeType&&Ee,wT=rg&&rg.exports===eg,ng=wT?Wr.Buffer:void 0,ET=ng?ng.isBuffer:void 0,ST=ET||_T;const ig=ST;var TT="[object Arguments]",IT="[object Array]",AT="[object Boolean]",PT="[object Date]",CT="[object Error]",MT="[object Function]",RT="[object Map]",OT="[object Number]",kT="[object Object]",FT="[object RegExp]",NT="[object Set]",DT="[object String]",LT="[object WeakMap]",BT="[object ArrayBuffer]",VT="[object DataView]",XT="[object Float32Array]",YT="[object Float64Array]",jT="[object Int8Array]",UT="[object Int16Array]",WT="[object Int32Array]",zT="[object Uint8Array]",HT="[object Uint8ClampedArray]",qT="[object Uint16Array]",GT="[object Uint32Array]",se={};se[XT]=se[YT]=se[jT]=se[UT]=se[WT]=se[zT]=se[HT]=se[qT]=se[GT]=!0,se[TT]=se[IT]=se[BT]=se[AT]=se[VT]=se[PT]=se[CT]=se[MT]=se[RT]=se[OT]=se[kT]=se[FT]=se[NT]=se[DT]=se[LT]=!1;function $T(r){return Ba(r)&&Kv(r.length)&&!!se[La(r)]}function rc(r){return function(t){return r(t)}}var ag=typeof tr=="object"&&tr&&!tr.nodeType&&tr,Go=ag&&typeof Ee=="object"&&Ee&&!Ee.nodeType&&Ee,ZT=Go&&Go.exports===ag,nc=ZT&&Dv.process,KT=function(){try{var r=Go&&Go.require&&Go.require("util").types;return r||nc&&nc.binding&&nc.binding("util")}catch{}}();const Va=KT;var og=Va&&Va.isTypedArray,JT=og?rc(og):$T;const QT=JT;var tI=Object.prototype,eI=tI.hasOwnProperty;function sg(r,t){var e=Yi(r),n=!e&&xT(r),i=!e&&!n&&ig(r),a=!e&&!n&&!i&&QT(r),o=e||n||i||a,s=o?mT(r.length,String):[],h=s.length;for(var l in r)(t||eI.call(r,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Gv(l,h)))&&s.push(l);return s}function lg(r,t){return function(e){return r(t(e))}}var rI=lg(Object.keys,Object);const nI=rI;var iI=Object.prototype,aI=iI.hasOwnProperty;function oI(r){if(!ec(r))return nI(r);var t=[];for(var e in Object(r))aI.call(r,e)&&e!="constructor"&&t.push(e);return t}function ug(r){return Jv(r)?sg(r):oI(r)}function sI(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var lI=Object.prototype,uI=lI.hasOwnProperty;function hI(r){if(!cn(r))return sI(r);var t=ec(r),e=[];for(var n in r)n=="constructor"&&(t||!uI.call(r,n))||e.push(n);return e}function cI(r){return Jv(r)?sg(r,!0):hI(r)}var fI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dI=/^\w*$/;function pI(r,t){if(Yi(r))return!1;var e=typeof r;return e=="number"||e=="symbol"||e=="boolean"||r==null||Ll(r)?!0:dI.test(r)||!fI.test(r)||t!=null&&r in Object(t)}var mI=Ui(Object,"create");const $o=mI;function vI(){this.__data__=$o?$o(null):{},this.size=0}function gI(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var yI="__lodash_hash_undefined__",bI=Object.prototype,xI=bI.hasOwnProperty;function _I(r){var t=this.__data__;if($o){var e=t[r];return e===yI?void 0:e}return xI.call(t,r)?t[r]:void 0}var wI=Object.prototype,EI=wI.hasOwnProperty;function SI(r){var t=this.__data__;return $o?t[r]!==void 0:EI.call(t,r)}var TI="__lodash_hash_undefined__";function II(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=$o&&t===void 0?TI:t,this}function Wi(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Wi.prototype.clear=vI,Wi.prototype.delete=gI,Wi.prototype.get=_I,Wi.prototype.has=SI,Wi.prototype.set=II;function AI(){this.__data__=[],this.size=0}function Vl(r,t){for(var e=r.length;e--;)if(Zv(r[e][0],t))return e;return-1}var PI=Array.prototype,CI=PI.splice;function MI(r){var t=this.__data__,e=Vl(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():CI.call(t,e,1),--this.size,!0}function RI(r){var t=this.__data__,e=Vl(t,r);return e<0?void 0:t[e][1]}function OI(r){return Vl(this.__data__,r)>-1}function kI(r,t){var e=this.__data__,n=Vl(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function Cn(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Cn.prototype.clear=AI,Cn.prototype.delete=MI,Cn.prototype.get=RI,Cn.prototype.has=OI,Cn.prototype.set=kI;var FI=Ui(Wr,"Map");const Zo=FI;function NI(){this.size=0,this.__data__={hash:new Wi,map:new(Zo||Cn),string:new Wi}}function DI(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function Xl(r,t){var e=r.__data__;return DI(t)?e[typeof t=="string"?"string":"hash"]:e.map}function LI(r){var t=Xl(this,r).delete(r);return this.size-=t?1:0,t}function BI(r){return Xl(this,r).get(r)}function VI(r){return Xl(this,r).has(r)}function XI(r,t){var e=Xl(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function ii(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}ii.prototype.clear=NI,ii.prototype.delete=LI,ii.prototype.get=BI,ii.prototype.has=VI,ii.prototype.set=XI;var YI="Expected a function";function ic(r,t){if(typeof r!="function"||t!=null&&typeof t!="function")throw new TypeError(YI);var e=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=e.cache;if(a.has(i))return a.get(i);var o=r.apply(this,n);return e.cache=a.set(i,o)||a,o};return e.cache=new(ic.Cache||ii),e}ic.Cache=ii;var jI=500;function UI(r){var t=ic(r,function(n){return e.size===jI&&e.clear(),n}),e=t.cache;return t}var WI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zI=/\\(\\)?/g,HI=UI(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(WI,function(e,n,i,a){t.push(i?a.replace(zI,"$1"):n||e)}),t});const qI=HI;function GI(r){return r==null?"":Yv(r)}function hg(r,t){return Yi(r)?r:pI(r,t)?[r]:qI(GI(r))}var $I=1/0;function cg(r){if(typeof r=="string"||Ll(r))return r;var t=r+"";return t=="0"&&1/r==-$I?"-0":t}function ZI(r,t){t=hg(t,r);for(var e=0,n=t.length;r!=null&&e<n;)r=r[cg(t[e++])];return e&&e==n?r:void 0}function fg(r,t,e){var n=r==null?void 0:ZI(r,t);return n===void 0?e:n}function dg(r,t){for(var e=-1,n=t.length,i=r.length;++e<n;)r[i+e]=t[e];return r}var KI=lg(Object.getPrototypeOf,Object);const pg=KI;function ac(){if(!arguments.length)return[];var r=arguments[0];return Yi(r)?r:[r]}function JI(){this.__data__=new Cn,this.size=0}function QI(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function tA(r){return this.__data__.get(r)}function eA(r){return this.__data__.has(r)}var rA=200;function nA(r,t){var e=this.__data__;if(e instanceof Cn){var n=e.__data__;if(!Zo||n.length<rA-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new ii(n)}return e.set(r,t),this.size=e.size,this}function Xa(r){var t=this.__data__=new Cn(r);this.size=t.size}Xa.prototype.clear=JI,Xa.prototype.delete=QI,Xa.prototype.get=tA,Xa.prototype.has=eA,Xa.prototype.set=nA;function iA(r,t){return r&&Bl(t,ug(t),r)}function aA(r,t){return r&&Bl(t,cI(t),r)}var mg=typeof tr=="object"&&tr&&!tr.nodeType&&tr,vg=mg&&typeof Ee=="object"&&Ee&&!Ee.nodeType&&Ee,oA=vg&&vg.exports===mg,gg=oA?Wr.Buffer:void 0,yg=gg?gg.allocUnsafe:void 0;function sA(r,t){var e=r.length,n=yg?yg(e):new r.constructor(e);return r.copy(n),n}function lA(r,t){for(var e=-1,n=r==null?0:r.length,i=0,a=[];++e<n;){var o=r[e];t(o,e,r)&&(a[i++]=o)}return a}function bg(){return[]}var uA=Object.prototype,hA=uA.propertyIsEnumerable,xg=Object.getOwnPropertySymbols,cA=xg?function(r){return r==null?[]:(r=Object(r),lA(xg(r),function(t){return hA.call(r,t)}))}:bg;const oc=cA;function fA(r,t){return Bl(r,oc(r),t)}var dA=Object.getOwnPropertySymbols,pA=dA?function(r){for(var t=[];r;)dg(t,oc(r)),r=pg(r);return t}:bg;const mA=pA;function vA(r,t){return Bl(r,mA(r),t)}function gA(r,t,e){var n=t(r);return Yi(r)?n:dg(n,e(r))}function yA(r){return gA(r,ug,oc)}var bA=Ui(Wr,"DataView");const sc=bA;var xA=Ui(Wr,"Promise");const lc=xA;var _A=Ui(Wr,"Set");const uc=_A;var _g="[object Map]",wA="[object Object]",wg="[object Promise]",Eg="[object Set]",Sg="[object WeakMap]",Tg="[object DataView]",EA=ji(sc),SA=ji(Zo),TA=ji(lc),IA=ji(uc),AA=ji(Qh),zi=La;(sc&&zi(new sc(new ArrayBuffer(1)))!=Tg||Zo&&zi(new Zo)!=_g||lc&&zi(lc.resolve())!=wg||uc&&zi(new uc)!=Eg||Qh&&zi(new Qh)!=Sg)&&(zi=function(r){var t=La(r),e=t==wA?r.constructor:void 0,n=e?ji(e):"";if(n)switch(n){case EA:return Tg;case SA:return _g;case TA:return wg;case IA:return Eg;case AA:return Sg}return t});const hc=zi;var PA=Object.prototype,CA=PA.hasOwnProperty;function MA(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&CA.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var RA=Wr.Uint8Array;const Ig=RA;function OA(r){var t=new r.constructor(r.byteLength);return new Ig(t).set(new Ig(r)),t}function kA(r,t){var e=r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var FA=/\w*$/;function NA(r){var t=new r.constructor(r.source,FA.exec(r));return t.lastIndex=r.lastIndex,t}var Ag=ni?ni.prototype:void 0,Pg=Ag?Ag.valueOf:void 0;function DA(r){return Pg?Object(Pg.call(r)):{}}function LA(r,t){var e=r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var BA="[object Boolean]",VA="[object Date]",XA="[object Map]",YA="[object Number]",jA="[object RegExp]",UA="[object Set]",WA="[object String]",zA="[object Symbol]",HA="[object ArrayBuffer]",qA="[object DataView]",GA="[object Float32Array]",$A="[object Float64Array]",ZA="[object Int8Array]",KA="[object Int16Array]",JA="[object Int32Array]",QA="[object Uint8Array]",t2="[object Uint8ClampedArray]",e2="[object Uint16Array]",r2="[object Uint32Array]";function n2(r,t,e){var n=r.constructor;switch(t){case HA:return OA(r);case BA:case VA:return new n(+r);case qA:return kA(r);case GA:case $A:case ZA:case KA:case JA:case QA:case t2:case e2:case r2:return LA(r);case XA:return new n;case YA:case WA:return new n(r);case jA:return NA(r);case UA:return new n;case zA:return DA(r)}}function i2(r){return typeof r.constructor=="function"&&!ec(r)?aT(pg(r)):{}}var a2="[object Map]";function o2(r){return Ba(r)&&hc(r)==a2}var Cg=Va&&Va.isMap,s2=Cg?rc(Cg):o2;const l2=s2;var u2="[object Set]";function h2(r){return Ba(r)&&hc(r)==u2}var Mg=Va&&Va.isSet,c2=Mg?rc(Mg):h2;const f2=c2;var d2=1,p2=2,Rg="[object Arguments]",m2="[object Array]",v2="[object Boolean]",g2="[object Date]",y2="[object Error]",Og="[object Function]",b2="[object GeneratorFunction]",x2="[object Map]",_2="[object Number]",kg="[object Object]",w2="[object RegExp]",E2="[object Set]",S2="[object String]",T2="[object Symbol]",I2="[object WeakMap]",A2="[object ArrayBuffer]",P2="[object DataView]",C2="[object Float32Array]",M2="[object Float64Array]",R2="[object Int8Array]",O2="[object Int16Array]",k2="[object Int32Array]",F2="[object Uint8Array]",N2="[object Uint8ClampedArray]",D2="[object Uint16Array]",L2="[object Uint32Array]",re={};re[Rg]=re[m2]=re[A2]=re[P2]=re[v2]=re[g2]=re[C2]=re[M2]=re[R2]=re[O2]=re[k2]=re[x2]=re[_2]=re[kg]=re[w2]=re[E2]=re[S2]=re[T2]=re[F2]=re[N2]=re[D2]=re[L2]=!0,re[y2]=re[Og]=re[I2]=!1;function Yl(r,t,e,n,i,a){var o,s=t&d2,h=t&p2;if(o!==void 0)return o;if(!cn(r))return r;var l=Yi(r);if(l){if(o=MA(r),!s)return oT(r,o)}else{var u=hc(r),c=u==Og||u==b2;if(ig(r))return sA(r);if(u==kg||u==Rg||c&&!i){if(o=c?{}:i2(r),!s)return h?vA(r,aA(o,r)):fA(r,iA(o,r))}else{if(!re[u])return i?r:{};o=n2(r,u)}}a||(a=new Xa);var f=a.get(r);if(f)return f;a.set(r,o),f2(r)?r.forEach(function(m){o.add(Yl(m,t,e,m,r,a))}):l2(r)&&r.forEach(function(m,g){o.set(g,Yl(m,t,e,g,r,a))});var d=yA,p=l?void 0:d(r);return lT(p||r,function(m,g){p&&(g=m,m=r[g]),tc(o,g,Yl(m,t,e,g,r,a))}),o}var B2=4;function Fg(r){return Yl(r,B2)}var V2=function(){return Wr.Date.now()};const cc=V2;var X2="Expected a function",Y2=Math.max,j2=Math.min;function Ng(r,t,e){var n,i,a,o,s,h,l=0,u=!1,c=!1,f=!0;if(typeof r!="function")throw new TypeError(X2);t=Uv(t)||0,cn(e)&&(u=!!e.leading,c="maxWait"in e,a=c?Y2(Uv(e.maxWait)||0,t):a,f="trailing"in e?!!e.trailing:f);function d(w){var E=n,S=i;return n=i=void 0,l=w,o=r.apply(S,E),o}function p(w){return l=w,s=setTimeout(v,t),u?d(w):o}function m(w){var E=w-h,S=w-l,T=t-E;return c?j2(T,a-S):T}function g(w){var E=w-h,S=w-l;return h===void 0||E>=t||E<0||c&&S>=a}function v(){var w=cc();if(g(w))return y(w);s=setTimeout(v,m(w))}function y(w){return s=void 0,f&&n?d(w):(n=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),l=0,n=h=i=s=void 0}function x(){return s===void 0?o:y(cc())}function _(){var w=cc(),E=g(w);if(n=arguments,i=this,h=w,E){if(s===void 0)return p(h);if(c)return clearTimeout(s),s=setTimeout(v,t),d(h)}return s===void 0&&(s=setTimeout(v,t)),o}return _.cancel=b,_.flush=x,_}function Dg(r){for(var t=-1,e=r==null?0:r.length,n={};++t<e;){var i=r[t];n[i[0]]=i[1]}return n}function Mn(r){return r==null}function U2(r,t,e,n){if(!cn(r))return r;t=hg(t,r);for(var i=-1,a=t.length,o=a-1,s=r;s!=null&&++i<a;){var h=cg(t[i]),l=e;if(h==="__proto__"||h==="constructor"||h==="prototype")return r;if(i!=o){var u=s[h];l=void 0,l===void 0&&(l=cn(u)?u:Gv(t[i+1])?[]:{})}tc(s,h,l),s=s[h]}return r}function W2(r,t,e){return r==null?r:U2(r,t,e)}const Rn=(r,t,{checkForDefaultPrevented:e=!0}={})=>n=>{const i=r==null?void 0:r(n);if(e===!1||!i)return t==null?void 0:t(n)};var Lg;const zr=typeof window<"u",fn=r=>typeof r=="boolean",le=r=>typeof r=="number",z2=r=>typeof r=="string",H2=()=>{};zr&&((Lg=window==null?void 0:window.navigator)!=null&&Lg.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function fc(r){return typeof r=="function"?r():P(r)}function q2(r,t){function e(...n){r(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return e}function G2(r,t={}){let e,n;return i=>{const a=fc(r),o=fc(t.maxWait);if(e&&clearTimeout(e),a<=0||o!==void 0&&o<=0)return n&&(clearTimeout(n),n=null),i();o&&!n&&(n=setTimeout(()=>{e&&clearTimeout(e),n=null,i()},o)),e=setTimeout(()=>{n&&clearTimeout(n),n=null,i()},a)}}function $2(r){return r}function dc(r){return t1()?(e1(r),!0):!1}function Z2(r,t=200,e={}){return q2(G2(t,e),r)}function K2(r,t=200,e={}){const n=vt(r.value),i=Z2(()=>{n.value=r.value},t,e);return Ft(r,()=>i()),n}function J2(r,t=!0){Qn()?Oe(r):t?r():Ie(r)}function ai(r){var t;const e=fc(r);return(t=e==null?void 0:e.$el)!=null?t:e}const pc=zr?window:void 0;function oi(...r){let t,e,n,i;if(z2(r[0])||Array.isArray(r[0])?([e,n,i]=r,t=pc):[t,e,n,i]=r,!t)return H2;Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);const a=[],o=()=>{a.forEach(u=>u()),a.length=0},s=(u,c,f)=>(u.addEventListener(c,f,i),()=>u.removeEventListener(c,f,i)),h=Ft(()=>ai(t),u=>{o(),u&&a.push(...e.flatMap(c=>n.map(f=>s(u,c,f))))},{immediate:!0,flush:"post"}),l=()=>{h(),o()};return dc(l),l}function Q2(r,t,e={}){const{window:n=pc,ignore:i,capture:a=!0,detectIframe:o=!1}=e;if(!n)return;const s=vt(!0);let h;const l=f=>{n.clearTimeout(h);const d=ai(r);!d||d===f.target||f.composedPath().includes(d)||!s.value||t(f)},u=f=>i&&i.some(d=>{const p=ai(d);return p&&(f.target===p||f.composedPath().includes(p))}),c=[oi(n,"click",l,{passive:!0,capture:a}),oi(n,"pointerdown",f=>{const d=ai(r);s.value=!!d&&!f.composedPath().includes(d)&&!u(f)},{passive:!0}),oi(n,"pointerup",f=>{if(f.button===0){const d=f.composedPath();f.composedPath=()=>d,h=n.setTimeout(()=>l(f),50)}},{passive:!0}),o&&oi(n,"blur",f=>{var d;const p=ai(r);((d=n.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(n.document.activeElement))&&t(f)})].filter(Boolean);return()=>c.forEach(f=>f())}function tP(r,t=!1){const e=vt(),n=()=>e.value=!!r();return n(),J2(n,t),e}const Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vg="__vueuse_ssr_handlers__";Bg[Vg]=Bg[Vg]||{};var Xg=Object.getOwnPropertySymbols,eP=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable,nP=(r,t)=>{var e={};for(var n in r)eP.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&Xg)for(var n of Xg(r))t.indexOf(n)<0&&rP.call(r,n)&&(e[n]=r[n]);return e};function mc(r,t,e={}){const n=e,{window:i=pc}=n,a=nP(n,["window"]);let o;const s=tP(()=>i&&"ResizeObserver"in i),h=()=>{o&&(o.disconnect(),o=void 0)},l=Ft(()=>ai(r),c=>{h(),s.value&&i&&c&&(o=new ResizeObserver(t),o.observe(c,a))},{immediate:!0,flush:"post"}),u=()=>{h(),l()};return dc(u),{isSupported:s,stop:u}}var Yg;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(Yg||(Yg={}));var iP=Object.defineProperty,jg=Object.getOwnPropertySymbols,aP=Object.prototype.hasOwnProperty,oP=Object.prototype.propertyIsEnumerable,Ug=(r,t,e)=>t in r?iP(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,sP=(r,t)=>{for(var e in t||(t={}))aP.call(t,e)&&Ug(r,e,t[e]);if(jg)for(var e of jg(t))oP.call(t,e)&&Ug(r,e,t[e]);return r};sP({linear:$2},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const Ko=r=>r===void 0,jl=r=>typeof Element>"u"?!1:r instanceof Element,lP=r=>jt(r)?!Number.isNaN(Number(r)):!1,vc=(r,t,e)=>({get value(){return fg(r,t,e)},set value(n){W2(r,t,n)}});class uP extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Ul(r,t){throw new uP(`[${r}] ${t}`)}function Ya(r,t="px"){if(!r)return"";if(le(r)||lP(r))return`${r}${t}`;if(jt(r))return r}/*! Element Plus Icons Vue v2.0.10 */var On=(r,t)=>{let e=r.__vccOpts||r;for(let[n,i]of t)e[n]=i;return e},hP={name:"ArrowDown"},cP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fP=Rt("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),dP=[fP];function pP(r,t,e,n,i,a){return ft(),St("svg",cP,dP)}var mP=On(hP,[["render",pP],["__file","arrow-down.vue"]]),vP={name:"ArrowUp"},gP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},yP=Rt("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),bP=[yP];function xP(r,t,e,n,i,a){return ft(),St("svg",gP,bP)}var _P=On(vP,[["render",xP],["__file","arrow-up.vue"]]),wP={name:"CircleCheck"},EP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},SP=Rt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),TP=Rt("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),IP=[SP,TP];function AP(r,t,e,n,i,a){return ft(),St("svg",EP,IP)}var PP=On(wP,[["render",AP],["__file","circle-check.vue"]]),CP={name:"CircleClose"},MP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RP=Rt("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),OP=Rt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),kP=[RP,OP];function FP(r,t,e,n,i,a){return ft(),St("svg",MP,kP)}var Wg=On(CP,[["render",FP],["__file","circle-close.vue"]]),NP={name:"Hide"},DP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LP=Rt("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),BP=Rt("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),VP=[LP,BP];function XP(r,t,e,n,i,a){return ft(),St("svg",DP,VP)}var YP=On(NP,[["render",XP],["__file","hide.vue"]]),jP={name:"Loading"},UP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},WP=Rt("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),zP=[WP];function HP(r,t,e,n,i,a){return ft(),St("svg",UP,zP)}var gc=On(jP,[["render",HP],["__file","loading.vue"]]),qP={name:"Minus"},GP={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$P=Rt("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),ZP=[$P];function KP(r,t,e,n,i,a){return ft(),St("svg",GP,ZP)}var JP=On(qP,[["render",KP],["__file","minus.vue"]]),QP={name:"Plus"},tC={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eC=Rt("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),rC=[eC];function nC(r,t,e,n,i,a){return ft(),St("svg",tC,rC)}var iC=On(QP,[["render",nC],["__file","plus.vue"]]),aC={name:"View"},oC={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sC=Rt("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),lC=[sC];function uC(r,t,e,n,i,a){return ft(),St("svg",oC,lC)}var hC=On(aC,[["render",uC],["__file","view.vue"]]);const zg="__epPropKey",Ut=r=>r,cC=r=>Zt(r)&&!!r[zg],Wl=(r,t)=>{if(!Zt(r)||cC(r))return r;const{values:e,required:n,default:i,type:a,validator:o}=r,s={type:a,required:!!n,validator:e||o?h=>{let l=!1,u=[];if(e&&(u=Array.from(e),qt(r,"default")&&u.push(i),l||(l=u.includes(h))),o&&(l||(l=o(h))),!l&&u.length>0){const c=[...new Set(u)].map(f=>JSON.stringify(f)).join(", ");k1(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${c}], got value ${JSON.stringify(h)}.`)}return l}:void 0,[zg]:!0};return qt(r,"default")&&(s.default=i),s},ne=r=>Dg(Object.entries(r).map(([t,e])=>[t,Wl(e,t)])),ja=Ut([String,Object,Function]),fC={validating:gc,success:PP,error:Wg},Hr=(r,t)=>{if(r.install=e=>{for(const n of[r,...Object.values(t??{})])e.component(n.name,n)},t)for(const[e,n]of Object.entries(t))r[e]=n;return r},zl=r=>(r.install=er,r),Jo={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Ve="update:modelValue",si="change",dn="input",Hl=["","default","small","large"],dC=r=>["",...Hl].includes(r),pC=r=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(r),mC=()=>Math.floor(Math.random()*1e4),vC=r=>r,gC=["class","style"],yC=/^on[A-Z]/,bC=(r={})=>{const{excludeListeners:t=!1,excludeKeys:e}=r,n=st(()=>((e==null?void 0:e.value)||[]).concat(gC)),i=Qn();return st(i?()=>{var a;return Dg(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([o])=>!n.value.includes(o)&&!(t&&yC.test(o))))}:()=>({}))},Hg=Symbol("buttonGroupContextKey"),xC=Symbol(),Ua=Symbol("formContextKey"),Hi=Symbol("formItemContextKey"),qg=Symbol("radioGroupKey"),Gg=Symbol("scrollbarContextKey"),$g=Symbol("sliderContextKey"),yc=Symbol("popper"),Zg=Symbol("popperContent"),bc=Symbol("elTooltip"),Kg=r=>{const t=Qn();return st(()=>{var e,n;return(n=((e=t.proxy)==null?void 0:e.$props)[r])!=null?n:void 0})},Jg=vt();function qi(r,t=void 0){const e=Qn()?ee(xC,Jg):Jg;return r?st(()=>{var n,i;return(i=(n=e.value)==null?void 0:n[r])!=null?i:t}):e}const Gi=Wl({type:String,values:Hl,required:!1}),li=(r,t={})=>{const e=vt(void 0),n=t.prop?e:Kg("size"),i=t.global?e:qi("size"),a=t.form?{size:void 0}:ee(Ua,void 0),o=t.formItem?{size:void 0}:ee(Hi,void 0);return st(()=>n.value||P(r)||(o==null?void 0:o.size)||(a==null?void 0:a.size)||i.value||"")},Wa=r=>{const t=Kg("disabled"),e=ee(Ua,void 0);return st(()=>t.value||P(r)||(e==null?void 0:e.disabled)||!1)},Qg=({from:r,replacement:t,scope:e,version:n,ref:i,type:a="API"},o)=>{Ft(()=>P(o),s=>{},{immediate:!0})},xc="el",_C="is-",$i=(r,t,e,n,i)=>{let a=`${r}-${t}`;return e&&(a+=`-${e}`),n&&(a+=`__${n}`),i&&(a+=`--${i}`),a},ce=r=>{const t=qi("namespace",xc);return{namespace:t,b:(e="")=>$i(t.value,r,e,"",""),e:e=>e?$i(t.value,r,"",e,""):"",m:e=>e?$i(t.value,r,"","",e):"",be:(e,n)=>e&&n?$i(t.value,r,e,n,""):"",em:(e,n)=>e&&n?$i(t.value,r,"",e,n):"",bm:(e,n)=>e&&n?$i(t.value,r,e,"",n):"",bem:(e,n,i)=>e&&n&&i?$i(t.value,r,e,n,i):"",is:(e,...n)=>{const i=n.length>=1?n[0]:!0;return e&&i?`${_C}${e}`:""},cssVar:e=>{const n={};for(const i in e)e[i]&&(n[`--${t.value}-${i}`]=e[i]);return n},cssVarName:e=>`--${t.value}-${e}`,cssVarBlock:e=>{const n={};for(const i in e)e[i]&&(n[`--${t.value}-${r}-${i}`]=e[i]);return n},cssVarBlockName:e=>`--${t.value}-${r}-${e}`}},wC={prefix:Math.floor(Math.random()*1e4),current:0},EC=Symbol("elIdInjection"),ql=r=>{const t=ee(EC,wC),e=qi("namespace",xc);return st(()=>P(r)||`${e.value}-id-${t.prefix}-${t.current++}`)},za=()=>{const r=ee(Ua,void 0),t=ee(Hi,void 0);return{form:r,formItem:t}},Gl=(r,{formItemContext:t,disableIdGeneration:e,disableIdManagement:n})=>{e||(e=vt(!1)),n||(n=vt(!1));const i=vt();let a;const o=st(()=>{var s;return!!(!r.label&&t&&t.inputIds&&((s=t.inputIds)==null?void 0:s.length)<=1)});return Oe(()=>{a=Ft([Yr(r,"id"),e],([s,h])=>{const l=s??(h?void 0:ql().value);l!==i.value&&(t!=null&&t.removeInputId&&(i.value&&t.removeInputId(i.value),!(n!=null&&n.value)&&!h&&l&&t.addInputId(l)),i.value=l)},{immediate:!0})}),Oh(()=>{a&&a(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}};var SC={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const TC=r=>(t,e)=>IC(t,e,P(r)),IC=(r,t,e)=>fg(e,r,r).replace(/\{(\w+)\}/g,(n,i)=>{var a;return`${(a=t==null?void 0:t[i])!=null?a:`{${i}}`}`}),AC=r=>{const t=st(()=>P(r).name),e=Te(r)?r:vt(r);return{lang:t,locale:e,t:TC(r)}},ty=()=>{const r=qi("locale");return AC(st(()=>r.value||SC))},PC=Wl({type:Ut(Boolean),default:null}),CC=Wl({type:Ut(Function)}),MC=r=>{const t=`update:${r}`,e=`onUpdate:${r}`,n=[t],i={[r]:PC,[e]:CC};return{useModelToggle:({indicator:a,toggleReason:o,shouldHideWhenRouteChanges:s,shouldProceed:h,onShow:l,onHide:u})=>{const c=Qn(),{emit:f}=c,d=c.props,p=st(()=>Ct(d[e])),m=st(()=>d[r]===null),g=w=>{a.value!==!0&&(a.value=!0,o&&(o.value=w),Ct(l)&&l(w))},v=w=>{a.value!==!1&&(a.value=!1,o&&(o.value=w),Ct(u)&&u(w))},y=w=>{if(d.disabled===!0||Ct(h)&&!h())return;const E=p.value&&zr;E&&f(t,!0),(m.value||!E)&&g(w)},b=w=>{if(d.disabled===!0||!zr)return;const E=p.value&&zr;E&&f(t,!1),(m.value||!E)&&v(w)},x=w=>{!fn(w)||(d.disabled&&w?p.value&&f(t,!1):a.value!==w&&(w?g():v()))},_=()=>{a.value?b():y()};return Ft(()=>d[r],x),s&&c.appContext.config.globalProperties.$route!==void 0&&Ft(()=>({...c.proxy.$route}),()=>{s.value&&a.value&&b()}),Oe(()=>{x(d[r])}),{hide:b,show:y,toggle:_,hasUpdateHandler:p}},useModelToggleProps:i,useModelToggleEmits:n}};function RC(){let r;const t=(n,i)=>{e(),r=window.setTimeout(n,i)},e=()=>window.clearTimeout(r);return dc(()=>e()),{registerTimeout:t,cancelTimeout:e}}let Ha=[];const ey=r=>{const t=r;t.key===Jo.esc&&Ha.forEach(e=>e(t))},OC=r=>{Oe(()=>{Ha.length===0&&document.addEventListener("keydown",ey),zr&&Ha.push(r)}),Pr(()=>{Ha=Ha.filter(t=>t!==r),Ha.length===0&&zr&&document.removeEventListener("keydown",ey)})};let ry;const kC=qi("namespace",xc),ny=`${kC.value}-popper-container-${mC()}`,iy=`#${ny}`,FC=()=>{const r=document.createElement("div");return r.id=ny,document.body.appendChild(r),r},NC=()=>{zm(()=>{!zr||(!ry||!document.body.querySelector(iy))&&(ry=FC())})},DC=ne({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),LC=({showAfter:r,hideAfter:t,open:e,close:n})=>{const{registerTimeout:i}=RC();return{onOpen:a=>{i(()=>{e(a)},P(r))},onClose:a=>{i(()=>{n(a)},P(t))}}},ay=Symbol("elForwardRef"),BC=r=>{br(ay,{setForwardRef:t=>{r.value=t}})},VC=r=>({mounted(t){r(t)},updated(t){r(t)},unmounted(){r(null)}}),oy=vt(0),XC=()=>{const r=qi("zIndex",2e3),t=st(()=>r.value+oy.value);return{initialZIndex:r,currentZIndex:t,nextZIndex:()=>(oy.value++,t.value)}};function YC(r){const t=vt();function e(){if(r.value==null)return;const{selectionStart:i,selectionEnd:a,value:o}=r.value;if(i==null||a==null)return;const s=o.slice(0,Math.max(0,i)),h=o.slice(Math.max(0,a));t.value={selectionStart:i,selectionEnd:a,value:o,beforeTxt:s,afterTxt:h}}function n(){if(r.value==null||t.value==null)return;const{value:i}=r.value,{beforeTxt:a,afterTxt:o,selectionStart:s}=t.value;if(a==null||o==null||s==null)return;let h=i.length;if(i.endsWith(o))h=i.length-o.length;else if(i.startsWith(a))h=a.length;else{const l=a[s-1],u=i.indexOf(l,s-1);u!==-1&&(h=u+1)}r.value.setSelectionRange(h,h)}return[e,n]}var fe=(r,t)=>{const e=r.__vccOpts||r;for(const[n,i]of t)e[n]=i;return e};const jC=ne({size:{type:Ut([Number,String])},color:{type:String}}),UC=At({name:"ElIcon",inheritAttrs:!1}),WC=At({...UC,props:jC,setup(r){const t=r,e=ce("icon"),n=st(()=>{const{size:i,color:a}=t;return!i&&!a?{}:{fontSize:Ko(i)?void 0:Ya(i),"--color":a}});return(i,a)=>(ft(),St("i",Di({class:P(e).b(),style:P(n)},i.$attrs),[oe(i.$slots,"default")],16))}});var zC=fe(WC,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const _r=Hr(zC);let qr;const HC=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,qC=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function GC(r){const t=window.getComputedStyle(r),e=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:qC.map(a=>`${a}:${t.getPropertyValue(a)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:e}}function sy(r,t=1,e){var n;qr||(qr=document.createElement("textarea"),document.body.appendChild(qr));const{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=GC(r);qr.setAttribute("style",`${s};${HC}`),qr.value=r.value||r.placeholder||"";let h=qr.scrollHeight;const l={};o==="border-box"?h=h+a:o==="content-box"&&(h=h-i),qr.value="";const u=qr.scrollHeight-i;if(le(t)){let c=u*t;o==="border-box"&&(c=c+i+a),h=Math.max(c,h),l.minHeight=`${c}px`}if(le(e)){let c=u*e;o==="border-box"&&(c=c+i+a),h=Math.min(c,h)}return l.height=`${h}px`,(n=qr.parentNode)==null||n.removeChild(qr),qr=void 0,l}const $C=ne({id:{type:String,default:void 0},size:Gi,disabled:Boolean,modelValue:{type:Ut([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ut([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ja},prefixIcon:{type:ja},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ut([Object,Array,String]),default:()=>vC({})}}),ZC={[Ve]:r=>jt(r),input:r=>jt(r),change:r=>jt(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,mouseleave:r=>r instanceof MouseEvent,mouseenter:r=>r instanceof MouseEvent,keydown:r=>r instanceof Event,compositionstart:r=>r instanceof CompositionEvent,compositionupdate:r=>r instanceof CompositionEvent,compositionend:r=>r instanceof CompositionEvent},KC=["role"],JC=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],QC=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],tM=At({name:"ElInput",inheritAttrs:!1}),eM=At({...tM,props:$C,emits:ZC,setup(r,{expose:t,emit:e}){const n=r,i=LE(),a=Hh(),o=st(()=>{const z={};return n.containerRole==="combobox"&&(z["aria-haspopup"]=i["aria-haspopup"],z["aria-owns"]=i["aria-owns"],z["aria-expanded"]=i["aria-expanded"]),z}),s=bC({excludeKeys:st(()=>Object.keys(o.value))}),{form:h,formItem:l}=za(),{inputId:u}=Gl(n,{formItemContext:l}),c=li(),f=Wa(),d=ce("input"),p=ce("textarea"),m=wl(),g=wl(),v=vt(!1),y=vt(!1),b=vt(!1),x=vt(!1),_=vt(),w=wl(n.inputStyle),E=st(()=>m.value||g.value),S=st(()=>{var z;return(z=h==null?void 0:h.statusIcon)!=null?z:!1}),T=st(()=>(l==null?void 0:l.validateState)||""),I=st(()=>T.value&&fC[T.value]),R=st(()=>x.value?hC:YP),A=st(()=>[i.style,n.inputStyle]),C=st(()=>[n.inputStyle,w.value,{resize:n.resize}]),O=st(()=>Mn(n.modelValue)?"":String(n.modelValue)),N=st(()=>n.clearable&&!f.value&&!n.readonly&&!!O.value&&(v.value||y.value)),L=st(()=>n.showPassword&&!f.value&&!n.readonly&&!!O.value&&(!!O.value||v.value)),D=st(()=>n.showWordLimit&&!!s.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!f.value&&!n.readonly&&!n.showPassword),Q=st(()=>Array.from(O.value).length),tt=st(()=>!!D.value&&Q.value>Number(s.value.maxlength)),V=st(()=>!!a.suffix||!!n.suffixIcon||N.value||n.showPassword||D.value||!!T.value&&S.value),[W,X]=YC(m);mc(g,z=>{if(!D.value||n.resize!=="both")return;const nt=z[0],{width:lt}=nt.contentRect;_.value={right:`calc(100% - ${lt+15+6}px)`}});const j=()=>{const{type:z,autosize:nt}=n;if(!(!zr||z!=="textarea"))if(nt){const lt=Zt(nt)?nt.minRows:void 0,pt=Zt(nt)?nt.maxRows:void 0;w.value={...sy(g.value,lt,pt)}}else w.value={minHeight:sy(g.value).minHeight}},Y=()=>{const z=E.value;!z||z.value===O.value||(z.value=O.value)},q=async z=>{W();let{value:nt}=z.target;if(n.formatter&&(nt=n.parser?n.parser(nt):nt,nt=n.formatter(nt)),!b.value){if(nt===O.value){Y();return}e(Ve,nt),e("input",nt),await Ie(),Y(),X()}},$=z=>{e("change",z.target.value)},K=z=>{e("compositionstart",z),b.value=!0},J=z=>{var nt;e("compositionupdate",z);const lt=(nt=z.target)==null?void 0:nt.value,pt=lt[lt.length-1]||"";b.value=!pC(pt)},it=z=>{e("compositionend",z),b.value&&(b.value=!1,q(z))},ut=()=>{x.value=!x.value,at()},at=async()=>{var z;await Ie(),(z=E.value)==null||z.focus()},M=()=>{var z;return(z=E.value)==null?void 0:z.blur()},k=z=>{v.value=!0,e("focus",z)},U=z=>{var nt;v.value=!1,e("blur",z),n.validateEvent&&((nt=l==null?void 0:l.validate)==null||nt.call(l,"blur").catch(lt=>{}))},H=z=>{y.value=!1,e("mouseleave",z)},G=z=>{y.value=!0,e("mouseenter",z)},rt=z=>{e("keydown",z)},ht=()=>{var z;(z=E.value)==null||z.select()},ot=()=>{e(Ve,""),e("change",""),e("clear"),e("input","")};return Ft(()=>n.modelValue,()=>{var z;Ie(()=>j()),n.validateEvent&&((z=l==null?void 0:l.validate)==null||z.call(l,"change").catch(nt=>{}))}),Ft(O,()=>Y()),Ft(()=>n.type,async()=>{await Ie(),Y(),j()}),Oe(()=>{!n.formatter&&n.parser,Y(),Ie(j)}),t({input:m,textarea:g,ref:E,textareaStyle:C,autosize:Yr(n,"autosize"),focus:at,blur:M,select:ht,clear:ot,resizeTextarea:j}),(z,nt)=>Kn((ft(),St("div",Di(P(o),{class:[z.type==="textarea"?P(p).b():P(d).b(),P(d).m(P(c)),P(d).is("disabled",P(f)),P(d).is("exceed",P(tt)),{[P(d).b("group")]:z.$slots.prepend||z.$slots.append,[P(d).bm("group","append")]:z.$slots.append,[P(d).bm("group","prepend")]:z.$slots.prepend,[P(d).m("prefix")]:z.$slots.prefix||z.prefixIcon,[P(d).m("suffix")]:z.$slots.suffix||z.suffixIcon||z.clearable||z.showPassword,[P(d).bm("suffix","password-clear")]:P(N)&&P(L)},z.$attrs.class],style:P(A),role:z.containerRole,onMouseenter:G,onMouseleave:H}),[Nt(" input "),z.type!=="textarea"?(ft(),St(he,{key:0},[Nt(" prepend slot "),z.$slots.prepend?(ft(),St("div",{key:0,class:xt(P(d).be("group","prepend"))},[oe(z.$slots,"prepend")],2)):Nt("v-if",!0),Rt("div",{class:xt([P(d).e("wrapper"),P(d).is("focus",v.value)])},[Nt(" prefix slot "),z.$slots.prefix||z.prefixIcon?(ft(),St("span",{key:0,class:xt(P(d).e("prefix"))},[Rt("span",{class:xt(P(d).e("prefix-inner"))},[oe(z.$slots,"prefix"),z.prefixIcon?(ft(),Bt(P(_r),{key:0,class:xt(P(d).e("icon"))},{default:_t(()=>[(ft(),Bt(jr(z.prefixIcon)))]),_:1},8,["class"])):Nt("v-if",!0)],2)],2)):Nt("v-if",!0),Rt("input",Di({id:P(u),ref_key:"input",ref:m,class:P(d).e("inner")},P(s),{type:z.showPassword?x.value?"text":"password":z.type,disabled:P(f),formatter:z.formatter,parser:z.parser,readonly:z.readonly,autocomplete:z.autocomplete,tabindex:z.tabindex,"aria-label":z.label,placeholder:z.placeholder,style:z.inputStyle,form:n.form,onCompositionstart:K,onCompositionupdate:J,onCompositionend:it,onInput:q,onFocus:k,onBlur:U,onChange:$,onKeydown:rt}),null,16,JC),Nt(" suffix slot "),P(V)?(ft(),St("span",{key:1,class:xt(P(d).e("suffix"))},[Rt("span",{class:xt(P(d).e("suffix-inner"))},[!P(N)||!P(L)||!P(D)?(ft(),St(he,{key:0},[oe(z.$slots,"suffix"),z.suffixIcon?(ft(),Bt(P(_r),{key:0,class:xt(P(d).e("icon"))},{default:_t(()=>[(ft(),Bt(jr(z.suffixIcon)))]),_:1},8,["class"])):Nt("v-if",!0)],64)):Nt("v-if",!0),P(N)?(ft(),Bt(P(_r),{key:1,class:xt([P(d).e("icon"),P(d).e("clear")]),onMousedown:ri(P(er),["prevent"]),onClick:ot},{default:_t(()=>[mt(P(Wg))]),_:1},8,["class","onMousedown"])):Nt("v-if",!0),P(L)?(ft(),Bt(P(_r),{key:2,class:xt([P(d).e("icon"),P(d).e("password")]),onClick:ut},{default:_t(()=>[(ft(),Bt(jr(P(R))))]),_:1},8,["class"])):Nt("v-if",!0),P(D)?(ft(),St("span",{key:3,class:xt(P(d).e("count"))},[Rt("span",{class:xt(P(d).e("count-inner"))},vr(P(Q))+" / "+vr(P(s).maxlength),3)],2)):Nt("v-if",!0),P(T)&&P(I)&&P(S)?(ft(),Bt(P(_r),{key:4,class:xt([P(d).e("icon"),P(d).e("validateIcon"),P(d).is("loading",P(T)==="validating")])},{default:_t(()=>[(ft(),Bt(jr(P(I))))]),_:1},8,["class"])):Nt("v-if",!0)],2)],2)):Nt("v-if",!0)],2),Nt(" append slot "),z.$slots.append?(ft(),St("div",{key:1,class:xt(P(d).be("group","append"))},[oe(z.$slots,"append")],2)):Nt("v-if",!0)],64)):(ft(),St(he,{key:1},[Nt(" textarea "),Rt("textarea",Di({id:P(u),ref_key:"textarea",ref:g,class:P(p).e("inner")},P(s),{tabindex:z.tabindex,disabled:P(f),readonly:z.readonly,autocomplete:z.autocomplete,style:P(C),"aria-label":z.label,placeholder:z.placeholder,form:n.form,onCompositionstart:K,onCompositionupdate:J,onCompositionend:it,onInput:q,onFocus:k,onBlur:U,onChange:$,onKeydown:rt}),null,16,QC),P(D)?(ft(),St("span",{key:0,style:me(_.value),class:xt(P(d).e("count"))},vr(P(Q))+" / "+vr(P(s).maxlength),7)):Nt("v-if",!0)],64))],16,KC)),[[Kh,z.type!=="hidden"]])}});var rM=fe(eM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const nM=Hr(rM),qa=4,iM={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},aM=({move:r,size:t,bar:e})=>({[e.size]:t,transform:`translate${e.axis}(${r}%)`}),oM=ne({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),sM="Thumb",lM=At({__name:"thumb",props:oM,setup(r){const t=r,e=ee(Gg),n=ce("scrollbar");e||Ul(sM,"can not inject scrollbar context");const i=vt(),a=vt(),o=vt({}),s=vt(!1);let h=!1,l=!1,u=zr?document.onselectstart:null;const c=st(()=>iM[t.vertical?"vertical":"horizontal"]),f=st(()=>aM({size:t.size,move:t.move,bar:c.value})),d=st(()=>i.value[c.value.offset]**2/e.wrapElement[c.value.scrollSize]/t.ratio/a.value[c.value.offset]),p=w=>{var E;if(w.stopPropagation(),w.ctrlKey||[1,2].includes(w.button))return;(E=window.getSelection())==null||E.removeAllRanges(),g(w);const S=w.currentTarget;!S||(o.value[c.value.axis]=S[c.value.offset]-(w[c.value.client]-S.getBoundingClientRect()[c.value.direction]))},m=w=>{if(!a.value||!i.value||!e.wrapElement)return;const E=Math.abs(w.target.getBoundingClientRect()[c.value.direction]-w[c.value.client]),S=a.value[c.value.offset]/2,T=(E-S)*100*d.value/i.value[c.value.offset];e.wrapElement[c.value.scroll]=T*e.wrapElement[c.value.scrollSize]/100},g=w=>{w.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),u=document.onselectstart,document.onselectstart=()=>!1},v=w=>{if(!i.value||!a.value||h===!1)return;const E=o.value[c.value.axis];if(!E)return;const S=(i.value.getBoundingClientRect()[c.value.direction]-w[c.value.client])*-1,T=a.value[c.value.offset]-E,I=(S-T)*100*d.value/i.value[c.value.offset];e.wrapElement[c.value.scroll]=I*e.wrapElement[c.value.scrollSize]/100},y=()=>{h=!1,o.value[c.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),_(),l&&(s.value=!1)},b=()=>{l=!1,s.value=!!t.size},x=()=>{l=!0,s.value=h};Pr(()=>{_(),document.removeEventListener("mouseup",y)});const _=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return oi(Yr(e,"scrollbarElement"),"mousemove",b),oi(Yr(e,"scrollbarElement"),"mouseleave",x),(w,E)=>(ft(),Bt(Wo,{name:P(n).b("fade"),persisted:""},{default:_t(()=>[Kn(Rt("div",{ref_key:"instance",ref:i,class:xt([P(n).e("bar"),P(n).is(P(c).key)]),onMousedown:m},[Rt("div",{ref_key:"thumb",ref:a,class:xt(P(n).e("thumb")),style:me(P(f)),onMousedown:p},null,38)],34),[[Kh,w.always||s.value]])]),_:1},8,["name"]))}});var ly=fe(lM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const uM=ne({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),hM=At({__name:"bar",props:uM,setup(r,{expose:t}){const e=r,n=vt(0),i=vt(0);return t({handleScroll:a=>{if(a){const o=a.offsetHeight-qa,s=a.offsetWidth-qa;i.value=a.scrollTop*100/o*e.ratioY,n.value=a.scrollLeft*100/s*e.ratioX}}}),(a,o)=>(ft(),St(he,null,[mt(ly,{move:n.value,ratio:a.ratioX,size:a.width,always:a.always},null,8,["move","ratio","size","always"]),mt(ly,{move:i.value,ratio:a.ratioY,size:a.height,vertical:"",always:a.always},null,8,["move","ratio","size","always"])],64))}});var cM=fe(hM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const fM=ne({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ut([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),dM={scroll:({scrollTop:r,scrollLeft:t})=>[r,t].every(le)},pM="ElScrollbar",mM=At({name:pM}),vM=At({...mM,props:fM,emits:dM,setup(r,{expose:t,emit:e}){const n=r,i=ce("scrollbar");let a,o;const s=vt(),h=vt(),l=vt(),u=vt("0"),c=vt("0"),f=vt(),d=vt(1),p=vt(1),m=st(()=>{const E={};return n.height&&(E.height=Ya(n.height)),n.maxHeight&&(E.maxHeight=Ya(n.maxHeight)),[n.wrapStyle,E]}),g=st(()=>[n.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!n.native}]),v=st(()=>[i.e("view"),n.viewClass]),y=()=>{var E;h.value&&((E=f.value)==null||E.handleScroll(h.value),e("scroll",{scrollTop:h.value.scrollTop,scrollLeft:h.value.scrollLeft}))};function b(E,S){Zt(E)?h.value.scrollTo(E):le(E)&&le(S)&&h.value.scrollTo(E,S)}const x=E=>{!le(E)||(h.value.scrollTop=E)},_=E=>{!le(E)||(h.value.scrollLeft=E)},w=()=>{if(!h.value)return;const E=h.value.offsetHeight-qa,S=h.value.offsetWidth-qa,T=E**2/h.value.scrollHeight,I=S**2/h.value.scrollWidth,R=Math.max(T,n.minSize),A=Math.max(I,n.minSize);d.value=T/(E-T)/(R/(E-R)),p.value=I/(S-I)/(A/(S-A)),c.value=R+qa<E?`${R}px`:"",u.value=A+qa<S?`${A}px`:""};return Ft(()=>n.noresize,E=>{E?(a==null||a(),o==null||o()):({stop:a}=mc(l,w),o=oi("resize",w))},{immediate:!0}),Ft(()=>[n.maxHeight,n.height],()=>{n.native||Ie(()=>{var E;w(),h.value&&((E=f.value)==null||E.handleScroll(h.value))})}),br(Gg,Xr({scrollbarElement:s,wrapElement:h})),Oe(()=>{n.native||Ie(()=>{w()})}),Ml(()=>w()),t({wrapRef:h,update:w,scrollTo:b,setScrollTop:x,setScrollLeft:_,handleScroll:y}),(E,S)=>(ft(),St("div",{ref_key:"scrollbarRef",ref:s,class:xt(P(i).b())},[Rt("div",{ref_key:"wrapRef",ref:h,class:xt(P(g)),style:me(P(m)),onScroll:y},[(ft(),Bt(jr(E.tag),{ref_key:"resizeRef",ref:l,class:xt(P(v)),style:me(E.viewStyle)},{default:_t(()=>[oe(E.$slots,"default")]),_:3},8,["class","style"]))],38),E.native?Nt("v-if",!0):(ft(),Bt(cM,{key:0,ref_key:"barRef",ref:f,height:c.value,width:u.value,always:E.always,"ratio-x":p.value,"ratio-y":d.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var gM=fe(vM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const yM=Hr(gM),bM=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],uy=ne({role:{type:String,values:bM,default:"tooltip"}}),xM=At({name:"ElPopperRoot",inheritAttrs:!1}),_M=At({...xM,props:uy,setup(r,{expose:t}){const e=r,n=vt(),i=vt(),a=vt(),o=vt(),s=st(()=>e.role),h={triggerRef:n,popperInstanceRef:i,contentRef:a,referenceRef:o,role:s};return t(h),br(yc,h),(l,u)=>oe(l.$slots,"default")}});var wM=fe(_M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const hy=ne({arrowOffset:{type:Number,default:5}}),EM=At({name:"ElPopperArrow",inheritAttrs:!1}),SM=At({...EM,props:hy,setup(r,{expose:t}){const e=r,n=ce("popper"),{arrowOffset:i,arrowRef:a}=ee(Zg,void 0);return Ft(()=>e.arrowOffset,o=>{i.value=o}),Pr(()=>{a.value=void 0}),t({arrowRef:a}),(o,s)=>(ft(),St("span",{ref_key:"arrowRef",ref:a,class:xt(P(n).e("arrow")),"data-popper-arrow":""},null,2))}});var TM=fe(SM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const IM="ElOnlyChild",AM=At({name:IM,setup(r,{slots:t,attrs:e}){var n;const i=ee(ay),a=VC((n=i==null?void 0:i.setForwardRef)!=null?n:er);return()=>{var o;const s=(o=t.default)==null?void 0:o.call(t,e);if(!s||s.length>1)return null;const h=cy(s);return h?Kn(Pn(h,e),[[a]]):null}}});function cy(r){if(!r)return null;const t=r;for(const e of t){if(Zt(e))switch(e.type){case xr:continue;case Na:case"svg":return fy(e);case he:return cy(e.children);default:return e}return fy(e)}return null}function fy(r){const t=ce("only-child");return mt("span",{class:t.e("content")},[r])}const dy=ne({virtualRef:{type:Ut(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ut(Function)},onMouseleave:{type:Ut(Function)},onClick:{type:Ut(Function)},onKeydown:{type:Ut(Function)},onFocus:{type:Ut(Function)},onBlur:{type:Ut(Function)},onContextmenu:{type:Ut(Function)},id:String,open:Boolean}),PM=At({name:"ElPopperTrigger",inheritAttrs:!1}),CM=At({...PM,props:dy,setup(r,{expose:t}){const e=r,{role:n,triggerRef:i}=ee(yc,void 0);BC(i);const a=st(()=>s.value?e.id:void 0),o=st(()=>{if(n&&n.value==="tooltip")return e.open&&e.id?e.id:void 0}),s=st(()=>{if(n&&n.value!=="tooltip")return n.value}),h=st(()=>s.value?`${e.open}`:void 0);let l;return Oe(()=>{Ft(()=>e.virtualRef,u=>{u&&(i.value=ai(u))},{immediate:!0}),Ft(i,(u,c)=>{l==null||l(),l=void 0,jl(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var d;const p=e[f];p&&(u.addEventListener(f.slice(2).toLowerCase(),p),(d=c==null?void 0:c.removeEventListener)==null||d.call(c,f.slice(2).toLowerCase(),p))}),l=Ft([a,o,s,h],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((d,p)=>{Mn(f[p])?u.removeAttribute(d):u.setAttribute(d,f[p])})},{immediate:!0})),jl(c)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>c.removeAttribute(f))},{immediate:!0})}),Pr(()=>{l==null||l(),l=void 0}),t({triggerRef:i}),(u,c)=>u.virtualTriggering?Nt("v-if",!0):(ft(),Bt(P(AM),Di({key:0},u.$attrs,{"aria-controls":P(a),"aria-describedby":P(o),"aria-expanded":P(h),"aria-haspopup":P(s)}),{default:_t(()=>[oe(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var MM=fe(CM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),ur="top",Cr="bottom",Mr="right",hr="left",_c="auto",Qo=[ur,Cr,Mr,hr],Ga="start",ts="end",RM="clippingParents",py="viewport",es="popper",OM="reference",my=Qo.reduce(function(r,t){return r.concat([t+"-"+Ga,t+"-"+ts])},[]),rs=[].concat(Qo,[_c]).reduce(function(r,t){return r.concat([t,t+"-"+Ga,t+"-"+ts])},[]),kM="beforeRead",FM="read",NM="afterRead",DM="beforeMain",LM="main",BM="afterMain",VM="beforeWrite",XM="write",YM="afterWrite",jM=[kM,FM,NM,DM,LM,BM,VM,XM,YM];function pn(r){return r?(r.nodeName||"").toLowerCase():null}function Gr(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var t=r.ownerDocument;return t&&t.defaultView||window}return r}function $a(r){var t=Gr(r).Element;return r instanceof t||r instanceof Element}function Rr(r){var t=Gr(r).HTMLElement;return r instanceof t||r instanceof HTMLElement}function wc(r){if(typeof ShadowRoot>"u")return!1;var t=Gr(r).ShadowRoot;return r instanceof t||r instanceof ShadowRoot}function UM(r){var t=r.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},a=t.elements[e];!Rr(a)||!pn(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function WM(r){var t=r.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:e[n]),s=o.reduce(function(h,l){return h[l]="",h},{});!Rr(i)||!pn(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(h){i.removeAttribute(h)}))})}}var vy={name:"applyStyles",enabled:!0,phase:"write",fn:UM,effect:WM,requires:["computeStyles"]};function mn(r){return r.split("-")[0]}var Zi=Math.max,$l=Math.min,Za=Math.round;function Ka(r,t){t===void 0&&(t=!1);var e=r.getBoundingClientRect(),n=1,i=1;if(Rr(r)&&t){var a=r.offsetHeight,o=r.offsetWidth;o>0&&(n=Za(e.width)/o||1),a>0&&(i=Za(e.height)/a||1)}return{width:e.width/n,height:e.height/i,top:e.top/i,right:e.right/n,bottom:e.bottom/i,left:e.left/n,x:e.left/n,y:e.top/i}}function Ec(r){var t=Ka(r),e=r.offsetWidth,n=r.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:r.offsetLeft,y:r.offsetTop,width:e,height:n}}function gy(r,t){var e=t.getRootNode&&t.getRootNode();if(r.contains(t))return!0;if(e&&wc(e)){var n=t;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function kn(r){return Gr(r).getComputedStyle(r)}function zM(r){return["table","td","th"].indexOf(pn(r))>=0}function ui(r){return(($a(r)?r.ownerDocument:r.document)||window.document).documentElement}function Zl(r){return pn(r)==="html"?r:r.assignedSlot||r.parentNode||(wc(r)?r.host:null)||ui(r)}function yy(r){return!Rr(r)||kn(r).position==="fixed"?null:r.offsetParent}function HM(r){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e=navigator.userAgent.indexOf("Trident")!==-1;if(e&&Rr(r)){var n=kn(r);if(n.position==="fixed")return null}var i=Zl(r);for(wc(i)&&(i=i.host);Rr(i)&&["html","body"].indexOf(pn(i))<0;){var a=kn(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function ns(r){for(var t=Gr(r),e=yy(r);e&&zM(e)&&kn(e).position==="static";)e=yy(e);return e&&(pn(e)==="html"||pn(e)==="body"&&kn(e).position==="static")?t:e||HM(r)||t}function Sc(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function is(r,t,e){return Zi(r,$l(t,e))}function qM(r,t,e){var n=is(r,t,e);return n>e?e:n}function by(){return{top:0,right:0,bottom:0,left:0}}function xy(r){return Object.assign({},by(),r)}function _y(r,t){return t.reduce(function(e,n){return e[n]=r,e},{})}var GM=function(r,t){return r=typeof r=="function"?r(Object.assign({},t.rects,{placement:t.placement})):r,xy(typeof r!="number"?r:_y(r,Qo))};function $M(r){var t,e=r.state,n=r.name,i=r.options,a=e.elements.arrow,o=e.modifiersData.popperOffsets,s=mn(e.placement),h=Sc(s),l=[hr,Mr].indexOf(s)>=0,u=l?"height":"width";if(!(!a||!o)){var c=GM(i.padding,e),f=Ec(a),d=h==="y"?ur:hr,p=h==="y"?Cr:Mr,m=e.rects.reference[u]+e.rects.reference[h]-o[h]-e.rects.popper[u],g=o[h]-e.rects.reference[h],v=ns(a),y=v?h==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-g/2,x=c[d],_=y-f[u]-c[p],w=y/2-f[u]/2+b,E=is(x,w,_),S=h;e.modifiersData[n]=(t={},t[S]=E,t.centerOffset=E-w,t)}}function ZM(r){var t=r.state,e=r.options,n=e.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!gy(t.elements.popper,i)||(t.elements.arrow=i))}var KM={name:"arrow",enabled:!0,phase:"main",fn:$M,effect:ZM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ja(r){return r.split("-")[1]}var JM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function QM(r){var t=r.x,e=r.y,n=window,i=n.devicePixelRatio||1;return{x:Za(t*i)/i||0,y:Za(e*i)/i||0}}function wy(r){var t,e=r.popper,n=r.popperRect,i=r.placement,a=r.variation,o=r.offsets,s=r.position,h=r.gpuAcceleration,l=r.adaptive,u=r.roundOffsets,c=r.isFixed,f=o.x,d=f===void 0?0:f,p=o.y,m=p===void 0?0:p,g=typeof u=="function"?u({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=hr,x=ur,_=window;if(l){var w=ns(e),E="clientHeight",S="clientWidth";if(w===Gr(e)&&(w=ui(e),kn(w).position!=="static"&&s==="absolute"&&(E="scrollHeight",S="scrollWidth")),w=w,i===ur||(i===hr||i===Mr)&&a===ts){x=Cr;var T=c&&w===_&&_.visualViewport?_.visualViewport.height:w[E];m-=T-n.height,m*=h?1:-1}if(i===hr||(i===ur||i===Cr)&&a===ts){b=Mr;var I=c&&w===_&&_.visualViewport?_.visualViewport.width:w[S];d-=I-n.width,d*=h?1:-1}}var R=Object.assign({position:s},l&&JM),A=u===!0?QM({x:d,y:m}):{x:d,y:m};if(d=A.x,m=A.y,h){var C;return Object.assign({},R,(C={},C[x]=y?"0":"",C[b]=v?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",C))}return Object.assign({},R,(t={},t[x]=y?m+"px":"",t[b]=v?d+"px":"",t.transform="",t))}function tR(r){var t=r.state,e=r.options,n=e.gpuAcceleration,i=n===void 0?!0:n,a=e.adaptive,o=a===void 0?!0:a,s=e.roundOffsets,h=s===void 0?!0:s,l={placement:mn(t.placement),variation:Ja(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,wy(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,wy(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Ey={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tR,data:{}},Kl={passive:!0};function eR(r){var t=r.state,e=r.instance,n=r.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,h=Gr(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(u){u.addEventListener("scroll",e.update,Kl)}),s&&h.addEventListener("resize",e.update,Kl),function(){a&&l.forEach(function(u){u.removeEventListener("scroll",e.update,Kl)}),s&&h.removeEventListener("resize",e.update,Kl)}}var Sy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eR,data:{}},rR={left:"right",right:"left",bottom:"top",top:"bottom"};function Jl(r){return r.replace(/left|right|bottom|top/g,function(t){return rR[t]})}var nR={start:"end",end:"start"};function Ty(r){return r.replace(/start|end/g,function(t){return nR[t]})}function Tc(r){var t=Gr(r),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function Ic(r){return Ka(ui(r)).left+Tc(r).scrollLeft}function iR(r){var t=Gr(r),e=ui(r),n=t.visualViewport,i=e.clientWidth,a=e.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+Ic(r),y:s}}function aR(r){var t,e=ui(r),n=Tc(r),i=(t=r.ownerDocument)==null?void 0:t.body,a=Zi(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zi(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Ic(r),h=-n.scrollTop;return kn(i||e).direction==="rtl"&&(s+=Zi(e.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:h}}function Ac(r){var t=kn(r),e=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+n)}function Iy(r){return["html","body","#document"].indexOf(pn(r))>=0?r.ownerDocument.body:Rr(r)&&Ac(r)?r:Iy(Zl(r))}function as(r,t){var e;t===void 0&&(t=[]);var n=Iy(r),i=n===((e=r.ownerDocument)==null?void 0:e.body),a=Gr(n),o=i?[a].concat(a.visualViewport||[],Ac(n)?n:[]):n,s=t.concat(o);return i?s:s.concat(as(Zl(o)))}function Pc(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function oR(r){var t=Ka(r);return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function Ay(r,t){return t===py?Pc(iR(r)):$a(t)?oR(t):Pc(aR(ui(r)))}function sR(r){var t=as(Zl(r)),e=["absolute","fixed"].indexOf(kn(r).position)>=0,n=e&&Rr(r)?ns(r):r;return $a(n)?t.filter(function(i){return $a(i)&&gy(i,n)&&pn(i)!=="body"}):[]}function lR(r,t,e){var n=t==="clippingParents"?sR(r):[].concat(t),i=[].concat(n,[e]),a=i[0],o=i.reduce(function(s,h){var l=Ay(r,h);return s.top=Zi(l.top,s.top),s.right=$l(l.right,s.right),s.bottom=$l(l.bottom,s.bottom),s.left=Zi(l.left,s.left),s},Ay(r,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Py(r){var t=r.reference,e=r.element,n=r.placement,i=n?mn(n):null,a=n?Ja(n):null,o=t.x+t.width/2-e.width/2,s=t.y+t.height/2-e.height/2,h;switch(i){case ur:h={x:o,y:t.y-e.height};break;case Cr:h={x:o,y:t.y+t.height};break;case Mr:h={x:t.x+t.width,y:s};break;case hr:h={x:t.x-e.width,y:s};break;default:h={x:t.x,y:t.y}}var l=i?Sc(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(a){case Ga:h[l]=h[l]-(t[u]/2-e[u]/2);break;case ts:h[l]=h[l]+(t[u]/2-e[u]/2);break}}return h}function os(r,t){t===void 0&&(t={});var e=t,n=e.placement,i=n===void 0?r.placement:n,a=e.boundary,o=a===void 0?RM:a,s=e.rootBoundary,h=s===void 0?py:s,l=e.elementContext,u=l===void 0?es:l,c=e.altBoundary,f=c===void 0?!1:c,d=e.padding,p=d===void 0?0:d,m=xy(typeof p!="number"?p:_y(p,Qo)),g=u===es?OM:es,v=r.rects.popper,y=r.elements[f?g:u],b=lR($a(y)?y:y.contextElement||ui(r.elements.popper),o,h),x=Ka(r.elements.reference),_=Py({reference:x,element:v,strategy:"absolute",placement:i}),w=Pc(Object.assign({},v,_)),E=u===es?w:x,S={top:b.top-E.top+m.top,bottom:E.bottom-b.bottom+m.bottom,left:b.left-E.left+m.left,right:E.right-b.right+m.right},T=r.modifiersData.offset;if(u===es&&T){var I=T[i];Object.keys(S).forEach(function(R){var A=[Mr,Cr].indexOf(R)>=0?1:-1,C=[ur,Cr].indexOf(R)>=0?"y":"x";S[R]+=I[C]*A})}return S}function uR(r,t){t===void 0&&(t={});var e=t,n=e.placement,i=e.boundary,a=e.rootBoundary,o=e.padding,s=e.flipVariations,h=e.allowedAutoPlacements,l=h===void 0?rs:h,u=Ja(n),c=u?s?my:my.filter(function(p){return Ja(p)===u}):Qo,f=c.filter(function(p){return l.indexOf(p)>=0});f.length===0&&(f=c);var d=f.reduce(function(p,m){return p[m]=os(r,{placement:m,boundary:i,rootBoundary:a,padding:o})[mn(m)],p},{});return Object.keys(d).sort(function(p,m){return d[p]-d[m]})}function hR(r){if(mn(r)===_c)return[];var t=Jl(r);return[Ty(r),t,Ty(t)]}function cR(r){var t=r.state,e=r.options,n=r.name;if(!t.modifiersData[n]._skip){for(var i=e.mainAxis,a=i===void 0?!0:i,o=e.altAxis,s=o===void 0?!0:o,h=e.fallbackPlacements,l=e.padding,u=e.boundary,c=e.rootBoundary,f=e.altBoundary,d=e.flipVariations,p=d===void 0?!0:d,m=e.allowedAutoPlacements,g=t.options.placement,v=mn(g),y=v===g,b=h||(y||!p?[Jl(g)]:hR(g)),x=[g].concat(b).reduce(function(Y,q){return Y.concat(mn(q)===_c?uR(t,{placement:q,boundary:u,rootBoundary:c,padding:l,flipVariations:p,allowedAutoPlacements:m}):q)},[]),_=t.rects.reference,w=t.rects.popper,E=new Map,S=!0,T=x[0],I=0;I<x.length;I++){var R=x[I],A=mn(R),C=Ja(R)===Ga,O=[ur,Cr].indexOf(A)>=0,N=O?"width":"height",L=os(t,{placement:R,boundary:u,rootBoundary:c,altBoundary:f,padding:l}),D=O?C?Mr:hr:C?Cr:ur;_[N]>w[N]&&(D=Jl(D));var Q=Jl(D),tt=[];if(a&&tt.push(L[A]<=0),s&&tt.push(L[D]<=0,L[Q]<=0),tt.every(function(Y){return Y})){T=R,S=!1;break}E.set(R,tt)}if(S)for(var V=p?3:1,W=function(Y){var q=x.find(function($){var K=E.get($);if(K)return K.slice(0,Y).every(function(J){return J})});if(q)return T=q,"break"},X=V;X>0;X--){var j=W(X);if(j==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}var fR={name:"flip",enabled:!0,phase:"main",fn:cR,requiresIfExists:["offset"],data:{_skip:!1}};function Cy(r,t,e){return e===void 0&&(e={x:0,y:0}),{top:r.top-t.height-e.y,right:r.right-t.width+e.x,bottom:r.bottom-t.height+e.y,left:r.left-t.width-e.x}}function My(r){return[ur,Mr,Cr,hr].some(function(t){return r[t]>=0})}function dR(r){var t=r.state,e=r.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=os(t,{elementContext:"reference"}),s=os(t,{altBoundary:!0}),h=Cy(o,n),l=Cy(s,i,a),u=My(h),c=My(l);t.modifiersData[e]={referenceClippingOffsets:h,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:c},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":c})}var pR={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dR};function mR(r,t,e){var n=mn(r),i=[hr,ur].indexOf(n)>=0?-1:1,a=typeof e=="function"?e(Object.assign({},t,{placement:r})):e,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[hr,Mr].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function vR(r){var t=r.state,e=r.options,n=r.name,i=e.offset,a=i===void 0?[0,0]:i,o=rs.reduce(function(u,c){return u[c]=mR(c,t.rects,a),u},{}),s=o[t.placement],h=s.x,l=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=o}var gR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vR};function yR(r){var t=r.state,e=r.name;t.modifiersData[e]=Py({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Ry={name:"popperOffsets",enabled:!0,phase:"read",fn:yR,data:{}};function bR(r){return r==="x"?"y":"x"}function xR(r){var t=r.state,e=r.options,n=r.name,i=e.mainAxis,a=i===void 0?!0:i,o=e.altAxis,s=o===void 0?!1:o,h=e.boundary,l=e.rootBoundary,u=e.altBoundary,c=e.padding,f=e.tether,d=f===void 0?!0:f,p=e.tetherOffset,m=p===void 0?0:p,g=os(t,{boundary:h,rootBoundary:l,padding:c,altBoundary:u}),v=mn(t.placement),y=Ja(t.placement),b=!y,x=Sc(v),_=bR(x),w=t.modifiersData.popperOffsets,E=t.rects.reference,S=t.rects.popper,T=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,I=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(w){if(a){var C,O=x==="y"?ur:hr,N=x==="y"?Cr:Mr,L=x==="y"?"height":"width",D=w[x],Q=D+g[O],tt=D-g[N],V=d?-S[L]/2:0,W=y===Ga?E[L]:S[L],X=y===Ga?-S[L]:-E[L],j=t.elements.arrow,Y=d&&j?Ec(j):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:by(),$=q[O],K=q[N],J=is(0,E[L],Y[L]),it=b?E[L]/2-V-J-$-I.mainAxis:W-J-$-I.mainAxis,ut=b?-E[L]/2+V+J+K+I.mainAxis:X+J+K+I.mainAxis,at=t.elements.arrow&&ns(t.elements.arrow),M=at?x==="y"?at.clientTop||0:at.clientLeft||0:0,k=(C=R==null?void 0:R[x])!=null?C:0,U=D+it-k-M,H=D+ut-k,G=is(d?$l(Q,U):Q,D,d?Zi(tt,H):tt);w[x]=G,A[x]=G-D}if(s){var rt,ht=x==="x"?ur:hr,ot=x==="x"?Cr:Mr,z=w[_],nt=_==="y"?"height":"width",lt=z+g[ht],pt=z-g[ot],bt=[ur,hr].indexOf(v)!==-1,wt=(rt=R==null?void 0:R[_])!=null?rt:0,Et=bt?lt:z-E[nt]-S[nt]-wt+I.altAxis,Lt=bt?z+E[nt]+S[nt]-wt-I.altAxis:pt,kt=d&&bt?qM(Et,z,Lt):is(d?Et:lt,z,d?Lt:pt);w[_]=kt,A[_]=kt-z}t.modifiersData[n]=A}}var _R={name:"preventOverflow",enabled:!0,phase:"main",fn:xR,requiresIfExists:["offset"]};function wR(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function ER(r){return r===Gr(r)||!Rr(r)?Tc(r):wR(r)}function SR(r){var t=r.getBoundingClientRect(),e=Za(t.width)/r.offsetWidth||1,n=Za(t.height)/r.offsetHeight||1;return e!==1||n!==1}function TR(r,t,e){e===void 0&&(e=!1);var n=Rr(t),i=Rr(t)&&SR(t),a=ui(t),o=Ka(r,i),s={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(n||!n&&!e)&&((pn(t)!=="body"||Ac(a))&&(s=ER(t)),Rr(t)?(h=Ka(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=Ic(a))),{x:o.left+s.scrollLeft-h.x,y:o.top+s.scrollTop-h.y,width:o.width,height:o.height}}function IR(r){var t=new Map,e=new Set,n=[];r.forEach(function(a){t.set(a.name,a)});function i(a){e.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!e.has(s)){var h=t.get(s);h&&i(h)}}),n.push(a)}return r.forEach(function(a){e.has(a.name)||i(a)}),n}function AR(r){var t=IR(r);return jM.reduce(function(e,n){return e.concat(t.filter(function(i){return i.phase===n}))},[])}function PR(r){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(r())})})),t}}function CR(r){var t=r.reduce(function(e,n){var i=e[n.name];return e[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var Oy={placement:"bottom",modifiers:[],strategy:"absolute"};function ky(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Cc(r){r===void 0&&(r={});var t=r,e=t.defaultModifiers,n=e===void 0?[]:e,i=t.defaultOptions,a=i===void 0?Oy:i;return function(o,s,h){h===void 0&&(h=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Oy,a),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},u=[],c=!1,f={state:l,setOptions:function(m){var g=typeof m=="function"?m(l.options):m;p(),l.options=Object.assign({},a,l.options,g),l.scrollParents={reference:$a(o)?as(o):o.contextElement?as(o.contextElement):[],popper:as(s)};var v=AR(CR([].concat(n,l.options.modifiers)));return l.orderedModifiers=v.filter(function(y){return y.enabled}),d(),f.update()},forceUpdate:function(){if(!c){var m=l.elements,g=m.reference,v=m.popper;if(ky(g,v)){l.rects={reference:TR(g,ns(v),l.options.strategy==="fixed"),popper:Ec(v)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(S){return l.modifiersData[S.name]=Object.assign({},S.data)});for(var y=0;y<l.orderedModifiers.length;y++){if(l.reset===!0){l.reset=!1,y=-1;continue}var b=l.orderedModifiers[y],x=b.fn,_=b.options,w=_===void 0?{}:_,E=b.name;typeof x=="function"&&(l=x({state:l,options:w,name:E,instance:f})||l)}}}},update:PR(function(){return new Promise(function(m){f.forceUpdate(),m(l)})}),destroy:function(){p(),c=!0}};if(!ky(o,s))return f;f.setOptions(h).then(function(m){!c&&h.onFirstUpdate&&h.onFirstUpdate(m)});function d(){l.orderedModifiers.forEach(function(m){var g=m.name,v=m.options,y=v===void 0?{}:v,b=m.effect;if(typeof b=="function"){var x=b({state:l,name:g,instance:f,options:y}),_=function(){};u.push(x||_)}})}function p(){u.forEach(function(m){return m()}),u=[]}return f}}Cc();var MR=[Sy,Ry,Ey,vy];Cc({defaultModifiers:MR});var RR=[Sy,Ry,Ey,vy,gR,fR,_R,KM,pR],OR=Cc({defaultModifiers:RR});const Mc="focus-trap.focus-after-trapped",Rc="focus-trap.focus-after-released",kR="focus-trap.focusout-prevented",Fy={cancelable:!0,bubbles:!1},FR={cancelable:!0,bubbles:!1},Ny="focusAfterTrapped",Dy="focusAfterReleased",NR=Symbol("elFocusTrap"),Oc=vt(),Ql=vt(0),kc=vt(0);let tu=0;const Ly=r=>{const t=[],e=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t},By=(r,t)=>{for(const e of r)if(!DR(e,t))return e},DR=(r,t)=>{if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(t&&r===t)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1},LR=r=>{const t=Ly(r),e=By(t,r),n=By(t.reverse(),r);return[e,n]},BR=r=>r instanceof HTMLInputElement&&"select"in r,hi=(r,t)=>{if(r&&r.focus){const e=document.activeElement;if(r.focus({preventScroll:!0}),kc.value=window.performance.now(),r!==e&&BR(r)&&t){if(r.tagName==="INPUT"){r.setSelectionRange(r.value.length,r.value.length);return}r.select()}}};function Vy(r,t){const e=[...r],n=r.indexOf(t);return n!==-1&&e.splice(n,1),e}const VR=()=>{let r=[];return{push:t=>{const e=r[0];e&&t!==e&&e.pause(),r=Vy(r,t),r.unshift(t)},remove:t=>{var e,n;r=Vy(r,t),(n=(e=r[0])==null?void 0:e.resume)==null||n.call(e)}}},XR=(r,t=!1)=>{const e=document.activeElement;for(const n of r)if(hi(n,t),document.activeElement!==e)return},Xy=VR(),YR=()=>Ql.value>kc.value,eu=()=>{Oc.value="pointer",Ql.value=window.performance.now()},Yy=()=>{Oc.value="keyboard",Ql.value=window.performance.now()},jR=()=>(Oe(()=>{tu===0&&(document.addEventListener("mousedown",eu),document.addEventListener("touchstart",eu),document.addEventListener("keydown",Yy)),tu++}),Pr(()=>{tu--,tu<=0&&(document.removeEventListener("mousedown",eu),document.removeEventListener("touchstart",eu),document.removeEventListener("keydown",Yy))}),{focusReason:Oc,lastUserFocusTimestamp:Ql,lastAutomatedFocusTimestamp:kc}),ru=r=>new CustomEvent(kR,{...FR,detail:r}),UR=At({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Ny,Dy,"focusin","focusout","focusout-prevented","release-requested"],setup(r,{emit:t}){const e=vt();let n,i;const{focusReason:a}=jR();OC(p=>{r.trapped&&!o.paused&&t("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=p=>{if(!r.loop&&!r.trapped||o.paused)return;const{key:m,altKey:g,ctrlKey:v,metaKey:y,currentTarget:b,shiftKey:x}=p,{loop:_}=r,w=m===Jo.tab&&!g&&!v&&!y,E=document.activeElement;if(w&&E){const S=b,[T,I]=LR(S);if(T&&I){if(!x&&E===I){const R=ru({focusReason:a.value});t("focusout-prevented",R),R.defaultPrevented||(p.preventDefault(),_&&hi(T,!0))}else if(x&&[T,S].includes(E)){const R=ru({focusReason:a.value});t("focusout-prevented",R),R.defaultPrevented||(p.preventDefault(),_&&hi(I,!0))}}else if(E===S){const R=ru({focusReason:a.value});t("focusout-prevented",R),R.defaultPrevented||p.preventDefault()}}};br(NR,{focusTrapRef:e,onKeydown:s}),Ft(()=>r.focusTrapEl,p=>{p&&(e.value=p)},{immediate:!0}),Ft([e],([p],[m])=>{p&&(p.addEventListener("keydown",s),p.addEventListener("focusin",u),p.addEventListener("focusout",c)),m&&(m.removeEventListener("keydown",s),m.removeEventListener("focusin",u),m.removeEventListener("focusout",c))});const h=p=>{t(Ny,p)},l=p=>t(Dy,p),u=p=>{const m=P(e);if(!m)return;const g=p.target,v=p.relatedTarget,y=g&&m.contains(g);r.trapped||v&&m.contains(v)||(n=v),y&&t("focusin",p),!o.paused&&r.trapped&&(y?i=g:hi(i,!0))},c=p=>{const m=P(e);if(!(o.paused||!m))if(r.trapped){const g=p.relatedTarget;!Mn(g)&&!m.contains(g)&&setTimeout(()=>{if(!o.paused&&r.trapped){const v=ru({focusReason:a.value});t("focusout-prevented",v),v.defaultPrevented||hi(i,!0)}},0)}else{const g=p.target;g&&m.contains(g)||t("focusout",p)}};async function f(){await Ie();const p=P(e);if(p){Xy.push(o);const m=p.contains(document.activeElement)?n:document.activeElement;if(n=m,!p.contains(m)){const g=new Event(Mc,Fy);p.addEventListener(Mc,h),p.dispatchEvent(g),g.defaultPrevented||Ie(()=>{let v=r.focusStartEl;jt(v)||(hi(v),document.activeElement!==v&&(v="first")),v==="first"&&XR(Ly(p),!0),(document.activeElement===m||v==="container")&&hi(p)})}}}function d(){const p=P(e);if(p){p.removeEventListener(Mc,h);const m=new CustomEvent(Rc,{...Fy,detail:{focusReason:a.value}});p.addEventListener(Rc,l),p.dispatchEvent(m),!m.defaultPrevented&&(a.value=="keyboard"||!YR())&&hi(n??document.body,!0),p.removeEventListener(Rc,h),Xy.remove(o)}}return Oe(()=>{r.trapped&&f(),Ft(()=>r.trapped,p=>{p?f():d()})}),Pr(()=>{r.trapped&&d()}),{onKeydown:s}}});function WR(r,t,e,n,i,a){return oe(r.$slots,"default",{handleKeydown:r.onKeydown})}var zR=fe(UR,[["render",WR],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const HR=["fixed","absolute"],qR=ne({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ut(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:rs,default:"bottom"},popperOptions:{type:Ut(Object),default:()=>({})},strategy:{type:String,values:HR,default:"absolute"}}),jy=ne({...qR,id:String,style:{type:Ut([String,Array,Object])},className:{type:Ut([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ut([String,Array,Object])},popperStyle:{type:Ut([String,Array,Object])},referenceEl:{type:Ut(Object)},triggerTargetEl:{type:Ut(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),GR={mouseenter:r=>r instanceof MouseEvent,mouseleave:r=>r instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Uy=(r,t)=>{const{placement:e,strategy:n,popperOptions:i}=r,a={placement:e,strategy:n,...i,modifiers:ZR(r)};return KR(a,t),JR(a,i==null?void 0:i.modifiers),a},$R=r=>{if(zr)return ai(r)};function ZR(r){const{offset:t,gpuAcceleration:e,fallbackPlacements:n}=r;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:e}}]}function KR(r,{arrowEl:t,arrowOffset:e}){r.modifiers.push({name:"arrow",options:{element:t,padding:e??5}})}function JR(r,t){t&&(r.modifiers=[...r.modifiers,...t??[]])}const QR=At({name:"ElPopperContent"}),tO=At({...QR,props:jy,emits:GR,setup(r,{expose:t,emit:e}){const n=r,{popperInstanceRef:i,contentRef:a,triggerRef:o,role:s}=ee(yc,void 0),h=ee(Hi,void 0),{nextZIndex:l}=XC(),u=ce("popper"),c=vt(),f=vt("first"),d=vt(),p=vt();br(Zg,{arrowRef:d,arrowOffset:p}),h&&(h.addInputId||h.removeInputId)&&br(Hi,{...h,addInputId:er,removeInputId:er});const m=vt(n.zIndex||l()),g=vt(!1);let v;const y=st(()=>$R(n.referenceEl)||P(o)),b=st(()=>[{zIndex:P(m)},n.popperStyle]),x=st(()=>[u.b(),u.is("pure",n.pure),u.is(n.effect),n.popperClass]),_=st(()=>s&&s.value==="dialog"?"false":void 0),w=({referenceEl:O,popperContentEl:N,arrowEl:L})=>{const D=Uy(n,{arrowEl:L,arrowOffset:P(p)});return OR(O,N,D)},E=(O=!0)=>{var N;(N=P(i))==null||N.update(),O&&(m.value=n.zIndex||l())},S=()=>{var O,N;const L={name:"eventListeners",enabled:n.visible};(N=(O=P(i))==null?void 0:O.setOptions)==null||N.call(O,D=>({...D,modifiers:[...D.modifiers||[],L]})),E(!1),n.visible&&n.focusOnShow?g.value=!0:n.visible===!1&&(g.value=!1)},T=()=>{e("focus")},I=O=>{var N;((N=O.detail)==null?void 0:N.focusReason)!=="pointer"&&(f.value="first",e("blur"))},R=O=>{n.visible&&!g.value&&(O.target&&(f.value=O.target),g.value=!0)},A=O=>{n.trapping||(O.detail.focusReason==="pointer"&&O.preventDefault(),g.value=!1)},C=()=>{g.value=!1,e("close")};return Oe(()=>{let O;Ft(y,N=>{var L;O==null||O();const D=P(i);if((L=D==null?void 0:D.destroy)==null||L.call(D),N){const Q=P(c);a.value=Q,i.value=w({referenceEl:N,popperContentEl:Q,arrowEl:P(d)}),O=Ft(()=>N.getBoundingClientRect(),()=>E(),{immediate:!0})}else i.value=void 0},{immediate:!0}),Ft(()=>n.triggerTargetEl,(N,L)=>{v==null||v(),v=void 0;const D=P(N||c.value),Q=P(L||c.value);jl(D)&&(v=Ft([s,()=>n.ariaLabel,_,()=>n.id],tt=>{["role","aria-label","aria-modal","id"].forEach((V,W)=>{Mn(tt[W])?D.removeAttribute(V):D.setAttribute(V,tt[W])})},{immediate:!0})),Q!==D&&jl(Q)&&["role","aria-label","aria-modal","id"].forEach(tt=>{Q.removeAttribute(tt)})},{immediate:!0}),Ft(()=>n.visible,S,{immediate:!0}),Ft(()=>Uy(n,{arrowEl:P(d),arrowOffset:P(p)}),N=>{var L;return(L=i.value)==null?void 0:L.setOptions(N)})}),Pr(()=>{v==null||v(),v=void 0}),t({popperContentRef:c,popperInstanceRef:i,updatePopper:E,contentStyle:b}),(O,N)=>(ft(),St("div",{ref_key:"popperContentRef",ref:c,style:me(P(b)),class:xt(P(x)),tabindex:"-1",onMouseenter:N[0]||(N[0]=L=>O.$emit("mouseenter",L)),onMouseleave:N[1]||(N[1]=L=>O.$emit("mouseleave",L))},[mt(P(zR),{trapped:g.value,"trap-on-focus-in":!0,"focus-trap-el":c.value,"focus-start-el":f.value,onFocusAfterTrapped:T,onFocusAfterReleased:I,onFocusin:R,onFocusoutPrevented:A,onReleaseRequested:C},{default:_t(()=>[oe(O.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var eO=fe(tO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const rO=Hr(wM),nO=ce("tooltip"),Wy=ne({...DC,...jy,appendTo:{type:Ut([String,Object]),default:iy},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Ut(Boolean),default:null},transition:{type:String,default:`${nO.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),zy=ne({...dy,disabled:Boolean,trigger:{type:Ut([String,Array]),default:"hover"},triggerKeys:{type:Ut(Array),default:()=>[Jo.enter,Jo.space]}}),{useModelToggleProps:iO,useModelToggleEmits:aO,useModelToggle:oO}=MC("visible"),sO=ne({...uy,...iO,...Wy,...zy,...hy,showArrow:{type:Boolean,default:!0}}),lO=[...aO,"before-show","before-hide","show","hide","open","close"],uO=(r,t)=>It(r)?r.includes(t):r===t,Qa=(r,t,e)=>n=>{uO(P(r),t)&&e(n)},hO=At({name:"ElTooltipTrigger"}),cO=At({...hO,props:zy,setup(r,{expose:t}){const e=r,n=ce("tooltip"),{controlled:i,id:a,open:o,onOpen:s,onClose:h,onToggle:l}=ee(bc,void 0),u=vt(null),c=()=>{if(P(i)||e.disabled)return!0},f=Yr(e,"trigger"),d=Rn(c,Qa(f,"hover",s)),p=Rn(c,Qa(f,"hover",h)),m=Rn(c,Qa(f,"click",x=>{x.button===0&&l(x)})),g=Rn(c,Qa(f,"focus",s)),v=Rn(c,Qa(f,"focus",h)),y=Rn(c,Qa(f,"contextmenu",x=>{x.preventDefault(),l(x)})),b=Rn(c,x=>{const{code:_}=x;e.triggerKeys.includes(_)&&(x.preventDefault(),l(x))});return t({triggerRef:u}),(x,_)=>(ft(),Bt(P(MM),{id:P(a),"virtual-ref":x.virtualRef,open:P(o),"virtual-triggering":x.virtualTriggering,class:xt(P(n).e("trigger")),onBlur:P(v),onClick:P(m),onContextmenu:P(y),onFocus:P(g),onMouseenter:P(d),onMouseleave:P(p),onKeydown:P(b)},{default:_t(()=>[oe(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var fO=fe(cO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const dO=At({name:"ElTooltipContent",inheritAttrs:!1}),pO=At({...dO,props:Wy,setup(r,{expose:t}){const e=r,n=vt(null),i=vt(!1),{controlled:a,id:o,open:s,trigger:h,onClose:l,onOpen:u,onShow:c,onHide:f,onBeforeShow:d,onBeforeHide:p}=ee(bc,void 0),m=st(()=>e.persistent);Pr(()=>{i.value=!0});const g=st(()=>P(m)?!0:P(s)),v=st(()=>e.disabled?!1:P(s)),y=st(()=>{var C;return(C=e.style)!=null?C:{}}),b=st(()=>!P(s)),x=()=>{f()},_=()=>{if(P(a))return!0},w=Rn(_,()=>{e.enterable&&P(h)==="hover"&&u()}),E=Rn(_,()=>{P(h)==="hover"&&l()}),S=()=>{var C,O;(O=(C=n.value)==null?void 0:C.updatePopper)==null||O.call(C),d==null||d()},T=()=>{p==null||p()},I=()=>{c(),A=Q2(st(()=>{var C;return(C=n.value)==null?void 0:C.popperContentRef}),()=>{P(a)||P(h)!=="hover"&&l()})},R=()=>{e.virtualTriggering||l()};let A;return Ft(()=>P(s),C=>{C||A==null||A()},{flush:"post"}),Ft(()=>e.content,()=>{var C,O;(O=(C=n.value)==null?void 0:C.updatePopper)==null||O.call(C)}),t({contentRef:n}),(C,O)=>(ft(),Bt(TE,{disabled:!C.teleported,to:C.appendTo},[mt(Wo,{name:C.transition,onAfterLeave:x,onBeforeEnter:S,onAfterEnter:I,onBeforeLeave:T},{default:_t(()=>[P(g)?Kn((ft(),Bt(P(eO),Di({key:0,id:P(o),ref_key:"contentRef",ref:n},C.$attrs,{"aria-label":C.ariaLabel,"aria-hidden":P(b),"boundaries-padding":C.boundariesPadding,"fallback-placements":C.fallbackPlacements,"gpu-acceleration":C.gpuAcceleration,offset:C.offset,placement:C.placement,"popper-options":C.popperOptions,strategy:C.strategy,effect:C.effect,enterable:C.enterable,pure:C.pure,"popper-class":C.popperClass,"popper-style":[C.popperStyle,P(y)],"reference-el":C.referenceEl,"trigger-target-el":C.triggerTargetEl,visible:P(v),"z-index":C.zIndex,onMouseenter:P(w),onMouseleave:P(E),onBlur:R,onClose:P(l)}),{default:_t(()=>[Nt(" Workaround bug #6378 "),i.value?Nt("v-if",!0):oe(C.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Kh,P(v)]]):Nt("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var mO=fe(pO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const vO=["innerHTML"],gO={key:1},yO=At({name:"ElTooltip"}),bO=At({...yO,props:sO,emits:lO,setup(r,{expose:t,emit:e}){const n=r;NC();const i=ql(),a=vt(),o=vt(),s=()=>{var v;const y=P(a);y&&((v=y.popperInstanceRef)==null||v.update())},h=vt(!1),l=vt(),{show:u,hide:c,hasUpdateHandler:f}=oO({indicator:h,toggleReason:l}),{onOpen:d,onClose:p}=LC({showAfter:Yr(n,"showAfter"),hideAfter:Yr(n,"hideAfter"),open:u,close:c}),m=st(()=>fn(n.visible)&&!f.value);br(bc,{controlled:m,id:i,open:wh(h),trigger:Yr(n,"trigger"),onOpen:v=>{d(v)},onClose:v=>{p(v)},onToggle:v=>{P(h)?p(v):d(v)},onShow:()=>{e("show",l.value)},onHide:()=>{e("hide",l.value)},onBeforeShow:()=>{e("before-show",l.value)},onBeforeHide:()=>{e("before-hide",l.value)},updatePopper:s}),Ft(()=>n.disabled,v=>{v&&h.value&&(h.value=!1)});const g=()=>{var v,y;const b=(y=(v=o.value)==null?void 0:v.contentRef)==null?void 0:y.popperContentRef;return b&&b.contains(document.activeElement)};return Um(()=>h.value&&c()),t({popperRef:a,contentRef:o,isFocusInsideContent:g,updatePopper:s,onOpen:d,onClose:p,hide:c}),(v,y)=>(ft(),Bt(P(rO),{ref_key:"popperRef",ref:a,role:v.role},{default:_t(()=>[mt(fO,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:_t(()=>[v.$slots.default?oe(v.$slots,"default",{key:0}):Nt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),mt(mO,{ref_key:"contentRef",ref:o,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:_t(()=>[oe(v.$slots,"content",{},()=>[v.rawContent?(ft(),St("span",{key:0,innerHTML:v.content},null,8,vO)):(ft(),St("span",gO,vr(v.content),1))]),v.showArrow?(ft(),Bt(P(TM),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Nt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var xO=fe(bO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const _O=Hr(xO),wO=(r,t)=>{Qg({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},st(()=>r.type==="text"));const e=ee(Hg,void 0),n=qi("button"),{form:i}=za(),a=li(st(()=>e==null?void 0:e.size)),o=Wa(),s=vt(),h=Hh(),l=st(()=>r.type||(e==null?void 0:e.type)||""),u=st(()=>{var f,d,p;return(p=(d=r.autoInsertSpace)!=null?d:(f=n.value)==null?void 0:f.autoInsertSpace)!=null?p:!1}),c=st(()=>{var f;const d=(f=h.default)==null?void 0:f.call(h);if(u.value&&(d==null?void 0:d.length)===1){const p=d[0];if((p==null?void 0:p.type)===Na){const m=p.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(m.trim())}}return!1});return{_disabled:o,_size:a,_type:l,_ref:s,shouldAddSpace:c,handleClick:f=>{r.nativeType==="reset"&&(i==null||i.resetFields()),t("click",f)}}},EO=["default","primary","success","warning","info","danger","text",""],SO=["button","submit","reset"],Fc=ne({size:Gi,disabled:Boolean,type:{type:String,values:EO,default:""},icon:{type:ja},nativeType:{type:String,values:SO,default:"button"},loading:Boolean,loadingIcon:{type:ja,default:()=>gc},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),TO={click:r=>r instanceof MouseEvent};function Ge(r,t){IO(r)&&(r="100%");var e=AO(r);return r=t===360?r:Math.min(t,Math.max(0,parseFloat(r))),e&&(r=parseInt(String(r*t),10)/100),Math.abs(r-t)<1e-6?1:(t===360?r=(r<0?r%t+t:r%t)/parseFloat(String(t)):r=r%t/parseFloat(String(t)),r)}function nu(r){return Math.min(1,Math.max(0,r))}function IO(r){return typeof r=="string"&&r.indexOf(".")!==-1&&parseFloat(r)===1}function AO(r){return typeof r=="string"&&r.indexOf("%")!==-1}function Hy(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function iu(r){return r<=1?"".concat(Number(r)*100,"%"):r}function Ki(r){return r.length===1?"0"+r:String(r)}function PO(r,t,e){return{r:Ge(r,255)*255,g:Ge(t,255)*255,b:Ge(e,255)*255}}function qy(r,t,e){r=Ge(r,255),t=Ge(t,255),e=Ge(e,255);var n=Math.max(r,t,e),i=Math.min(r,t,e),a=0,o=0,s=(n+i)/2;if(n===i)o=0,a=0;else{var h=n-i;switch(o=s>.5?h/(2-n-i):h/(n+i),n){case r:a=(t-e)/h+(t<e?6:0);break;case t:a=(e-r)/h+2;break;case e:a=(r-t)/h+4;break}a/=6}return{h:a,s:o,l:s}}function Nc(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*(6*e):e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function CO(r,t,e){var n,i,a;if(r=Ge(r,360),t=Ge(t,100),e=Ge(e,100),t===0)i=e,a=e,n=e;else{var o=e<.5?e*(1+t):e+t-e*t,s=2*e-o;n=Nc(s,o,r+1/3),i=Nc(s,o,r),a=Nc(s,o,r-1/3)}return{r:n*255,g:i*255,b:a*255}}function Gy(r,t,e){r=Ge(r,255),t=Ge(t,255),e=Ge(e,255);var n=Math.max(r,t,e),i=Math.min(r,t,e),a=0,o=n,s=n-i,h=n===0?0:s/n;if(n===i)a=0;else{switch(n){case r:a=(t-e)/s+(t<e?6:0);break;case t:a=(e-r)/s+2;break;case e:a=(r-t)/s+4;break}a/=6}return{h:a,s:h,v:o}}function MO(r,t,e){r=Ge(r,360)*6,t=Ge(t,100),e=Ge(e,100);var n=Math.floor(r),i=r-n,a=e*(1-t),o=e*(1-i*t),s=e*(1-(1-i)*t),h=n%6,l=[e,o,a,a,s,e][h],u=[s,e,e,o,a,a][h],c=[a,a,s,e,e,o][h];return{r:l*255,g:u*255,b:c*255}}function $y(r,t,e,n){var i=[Ki(Math.round(r).toString(16)),Ki(Math.round(t).toString(16)),Ki(Math.round(e).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function RO(r,t,e,n,i){var a=[Ki(Math.round(r).toString(16)),Ki(Math.round(t).toString(16)),Ki(Math.round(e).toString(16)),Ki(OO(n))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function OO(r){return Math.round(parseFloat(r)*255).toString(16)}function Zy(r){return wr(r)/255}function wr(r){return parseInt(r,16)}function kO(r){return{r:r>>16,g:(r&65280)>>8,b:r&255}}var Dc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function FO(r){var t={r:0,g:0,b:0},e=1,n=null,i=null,a=null,o=!1,s=!1;return typeof r=="string"&&(r=LO(r)),typeof r=="object"&&(Fn(r.r)&&Fn(r.g)&&Fn(r.b)?(t=PO(r.r,r.g,r.b),o=!0,s=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Fn(r.h)&&Fn(r.s)&&Fn(r.v)?(n=iu(r.s),i=iu(r.v),t=MO(r.h,n,i),o=!0,s="hsv"):Fn(r.h)&&Fn(r.s)&&Fn(r.l)&&(n=iu(r.s),a=iu(r.l),t=CO(r.h,n,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(r,"a")&&(e=r.a)),e=Hy(e),{ok:o,format:r.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}var NO="[-\\+]?\\d+%?",DO="[-\\+]?\\d*\\.\\d+%?",ci="(?:".concat(DO,")|(?:").concat(NO,")"),Lc="[\\s|\\(]+(".concat(ci,")[,|\\s]+(").concat(ci,")[,|\\s]+(").concat(ci,")\\s*\\)?"),Bc="[\\s|\\(]+(".concat(ci,")[,|\\s]+(").concat(ci,")[,|\\s]+(").concat(ci,")[,|\\s]+(").concat(ci,")\\s*\\)?"),$r={CSS_UNIT:new RegExp(ci),rgb:new RegExp("rgb"+Lc),rgba:new RegExp("rgba"+Bc),hsl:new RegExp("hsl"+Lc),hsla:new RegExp("hsla"+Bc),hsv:new RegExp("hsv"+Lc),hsva:new RegExp("hsva"+Bc),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function LO(r){if(r=r.trim().toLowerCase(),r.length===0)return!1;var t=!1;if(Dc[r])r=Dc[r],t=!0;else if(r==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e=$r.rgb.exec(r);return e?{r:e[1],g:e[2],b:e[3]}:(e=$r.rgba.exec(r),e?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=$r.hsl.exec(r),e?{h:e[1],s:e[2],l:e[3]}:(e=$r.hsla.exec(r),e?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=$r.hsv.exec(r),e?{h:e[1],s:e[2],v:e[3]}:(e=$r.hsva.exec(r),e?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=$r.hex8.exec(r),e?{r:wr(e[1]),g:wr(e[2]),b:wr(e[3]),a:Zy(e[4]),format:t?"name":"hex8"}:(e=$r.hex6.exec(r),e?{r:wr(e[1]),g:wr(e[2]),b:wr(e[3]),format:t?"name":"hex"}:(e=$r.hex4.exec(r),e?{r:wr(e[1]+e[1]),g:wr(e[2]+e[2]),b:wr(e[3]+e[3]),a:Zy(e[4]+e[4]),format:t?"name":"hex8"}:(e=$r.hex3.exec(r),e?{r:wr(e[1]+e[1]),g:wr(e[2]+e[2]),b:wr(e[3]+e[3]),format:t?"name":"hex"}:!1)))))))))}function Fn(r){return!!$r.CSS_UNIT.exec(String(r))}var BO=function(){function r(t,e){t===void 0&&(t=""),e===void 0&&(e={});var n;if(t instanceof r)return t;typeof t=="number"&&(t=kO(t)),this.originalInput=t;var i=FO(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=e.format)!==null&&n!==void 0?n:i.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return r.prototype.isDark=function(){return this.getBrightness()<128},r.prototype.isLight=function(){return!this.isDark()},r.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},r.prototype.getLuminance=function(){var t=this.toRgb(),e,n,i,a=t.r/255,o=t.g/255,s=t.b/255;return a<=.03928?e=a/12.92:e=Math.pow((a+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*e+.7152*n+.0722*i},r.prototype.getAlpha=function(){return this.a},r.prototype.setAlpha=function(t){return this.a=Hy(t),this.roundA=Math.round(100*this.a)/100,this},r.prototype.toHsv=function(){var t=Gy(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},r.prototype.toHsvString=function(){var t=Gy(this.r,this.g,this.b),e=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(e,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(e,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},r.prototype.toHsl=function(){var t=qy(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},r.prototype.toHslString=function(){var t=qy(this.r,this.g,this.b),e=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(e,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(e,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},r.prototype.toHex=function(t){return t===void 0&&(t=!1),$y(this.r,this.g,this.b,t)},r.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},r.prototype.toHex8=function(t){return t===void 0&&(t=!1),RO(this.r,this.g,this.b,this.a,t)},r.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},r.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},r.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(this.roundA,")")},r.prototype.toPercentageRgb=function(){var t=function(e){return"".concat(Math.round(Ge(e,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},r.prototype.toPercentageRgbString=function(){var t=function(e){return Math.round(Ge(e,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},r.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+$y(this.r,this.g,this.b,!1),e=0,n=Object.entries(Dc);e<n.length;e++){var i=n[e],a=i[0],o=i[1];if(t===o)return a}return!1},r.prototype.toString=function(t){var e=!!t;t=t??this.format;var n=!1,i=this.a<1&&this.a>=0,a=!e&&i&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},r.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},r.prototype.clone=function(){return new r(this.toString())},r.prototype.lighten=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=nu(e.l),new r(e)},r.prototype.brighten=function(t){t===void 0&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),new r(e)},r.prototype.darken=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=nu(e.l),new r(e)},r.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},r.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},r.prototype.desaturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=nu(e.s),new r(e)},r.prototype.saturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=nu(e.s),new r(e)},r.prototype.greyscale=function(){return this.desaturate(100)},r.prototype.spin=function(t){var e=this.toHsl(),n=(e.h+t)%360;return e.h=n<0?360+n:n,new r(e)},r.prototype.mix=function(t,e){e===void 0&&(e=50);var n=this.toRgb(),i=new r(t).toRgb(),a=e/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return new r(o)},r.prototype.analogous=function(t,e){t===void 0&&(t=6),e===void 0&&(e=30);var n=this.toHsl(),i=360/e,a=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(new r(n));return a},r.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new r(t)},r.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var e=this.toHsv(),n=e.h,i=e.s,a=e.v,o=[],s=1/t;t--;)o.push(new r({h:n,s:i,v:a})),a=(a+s)%1;return o},r.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new r({h:(e+72)%360,s:t.s,l:t.l}),new r({h:(e+216)%360,s:t.s,l:t.l})]},r.prototype.onBackground=function(t){var e=this.toRgb(),n=new r(t).toRgb();return new r({r:n.r+(e.r-n.r)*e.a,g:n.g+(e.g-n.g)*e.a,b:n.b+(e.b-n.b)*e.a})},r.prototype.triad=function(){return this.polyad(3)},r.prototype.tetrad=function(){return this.polyad(4)},r.prototype.polyad=function(t){for(var e=this.toHsl(),n=e.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new r({h:(n+o*a)%360,s:e.s,l:e.l}));return i},r.prototype.equals=function(t){return this.toRgbString()===new r(t).toRgbString()},r}();function fi(r,t=20){return r.mix("#141414",t).toString()}function VO(r){const t=Wa(),e=ce("button");return st(()=>{let n={};const i=r.color;if(i){const a=new BO(i),o=r.dark?a.tint(20).toString():fi(a,20);if(r.plain)n=e.cssVarBlock({"bg-color":r.dark?fi(a,90):a.tint(90).toString(),"text-color":i,"border-color":r.dark?fi(a,50):a.tint(50).toString(),"hover-text-color":`var(${e.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${e.cssVarName("color-white")})`,"active-border-color":o}),t.value&&(n[e.cssVarBlockName("disabled-bg-color")]=r.dark?fi(a,90):a.tint(90).toString(),n[e.cssVarBlockName("disabled-text-color")]=r.dark?fi(a,50):a.tint(50).toString(),n[e.cssVarBlockName("disabled-border-color")]=r.dark?fi(a,80):a.tint(80).toString());else{const s=r.dark?fi(a,30):a.tint(30).toString(),h=a.isDark()?`var(${e.cssVarName("color-white")})`:`var(${e.cssVarName("color-black")})`;if(n=e.cssVarBlock({"bg-color":i,"text-color":h,"border-color":i,"hover-bg-color":s,"hover-text-color":h,"hover-border-color":s,"active-bg-color":o,"active-border-color":o}),t.value){const l=r.dark?fi(a,50):a.tint(50).toString();n[e.cssVarBlockName("disabled-bg-color")]=l,n[e.cssVarBlockName("disabled-text-color")]=r.dark?"rgba(255, 255, 255, 0.5)":`var(${e.cssVarName("color-white")})`,n[e.cssVarBlockName("disabled-border-color")]=l}}}return n})}const XO=["aria-disabled","disabled","autofocus","type"],YO=At({name:"ElButton"}),jO=At({...YO,props:Fc,emits:TO,setup(r,{expose:t,emit:e}){const n=r,i=VO(n),a=ce("button"),{_ref:o,_size:s,_type:h,_disabled:l,shouldAddSpace:u,handleClick:c}=wO(n,e);return t({ref:o,size:s,type:h,disabled:l,shouldAddSpace:u}),(f,d)=>(ft(),St("button",{ref_key:"_ref",ref:o,class:xt([P(a).b(),P(a).m(P(h)),P(a).m(P(s)),P(a).is("disabled",P(l)),P(a).is("loading",f.loading),P(a).is("plain",f.plain),P(a).is("round",f.round),P(a).is("circle",f.circle),P(a).is("text",f.text),P(a).is("link",f.link),P(a).is("has-bg",f.bg)]),"aria-disabled":P(l)||f.loading,disabled:P(l)||f.loading,autofocus:f.autofocus,type:f.nativeType,style:me(P(i)),onClick:d[0]||(d[0]=(...p)=>P(c)&&P(c)(...p))},[f.loading?(ft(),St(he,{key:0},[f.$slots.loading?oe(f.$slots,"loading",{key:0}):(ft(),Bt(P(_r),{key:1,class:xt(P(a).is("loading"))},{default:_t(()=>[(ft(),Bt(jr(f.loadingIcon)))]),_:1},8,["class"]))],64)):f.icon||f.$slots.icon?(ft(),Bt(P(_r),{key:1},{default:_t(()=>[f.icon?(ft(),Bt(jr(f.icon),{key:0})):oe(f.$slots,"icon",{key:1})]),_:3})):Nt("v-if",!0),f.$slots.default?(ft(),St("span",{key:2,class:xt({[P(a).em("text","expand")]:P(u)})},[oe(f.$slots,"default")],2)):Nt("v-if",!0)],14,XO))}});var UO=fe(jO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const WO={size:Fc.size,type:Fc.type},zO=At({name:"ElButtonGroup"}),HO=At({...zO,props:WO,setup(r){const t=r;br(Hg,Xr({size:Yr(t,"size"),type:Yr(t,"type")}));const e=ce("button");return(n,i)=>(ft(),St("div",{class:xt(`${P(e).b("group")}`)},[oe(n.$slots,"default")],2))}});var Ky=fe(HO,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const qO=Hr(UO,{ButtonGroup:Ky});zl(Ky);var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GO(r){var t=r.default;if(typeof t=="function"){var e=function(){return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}const $O=100,ZO=600,Jy={beforeMount(r,t){const e=t.value,{interval:n=$O,delay:i=ZO}=Ct(e)?{}:e;let a,o;const s=()=>Ct(e)?e():e.handler(),h=()=>{o&&(clearTimeout(o),o=void 0),a&&(clearInterval(a),a=void 0)};r.addEventListener("mousedown",l=>{l.button===0&&(h(),s(),document.addEventListener("mouseup",()=>h(),{once:!0}),o=setTimeout(()=>{a=setInterval(()=>{s()},n)},i))})}},Qy=ne({size:Gi,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),KO=ne({...Qy,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),t0={[Ve]:r=>jt(r)||le(r)||fn(r),[si]:r=>jt(r)||le(r)||fn(r)},e0=(r,t)=>{const e=vt(),n=ee(qg,void 0),i=st(()=>!!n),a=st({get(){return i.value?n.modelValue:r.modelValue},set(u){i.value?n.changeEvent(u):t&&t(Ve,u),e.value.checked=r.modelValue===r.label}}),o=li(st(()=>n==null?void 0:n.size)),s=Wa(st(()=>n==null?void 0:n.disabled)),h=vt(!1),l=st(()=>s.value||i.value&&a.value!==r.label?-1:0);return{radioRef:e,isGroup:i,radioGroup:n,focus:h,size:o,disabled:s,tabIndex:l,modelValue:a}},JO=["value","name","disabled"],QO=At({name:"ElRadio"}),tk=At({...QO,props:KO,emits:t0,setup(r,{emit:t}){const e=r,n=ce("radio"),{radioRef:i,radioGroup:a,focus:o,size:s,disabled:h,modelValue:l}=e0(e,t);function u(){Ie(()=>t("change",l.value))}return(c,f)=>{var d;return ft(),St("label",{class:xt([P(n).b(),P(n).is("disabled",P(h)),P(n).is("focus",P(o)),P(n).is("bordered",c.border),P(n).is("checked",P(l)===c.label),P(n).m(P(s))])},[Rt("span",{class:xt([P(n).e("input"),P(n).is("disabled",P(h)),P(n).is("checked",P(l)===c.label)])},[Kn(Rt("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":f[0]||(f[0]=p=>Te(l)?l.value=p:null),class:xt(P(n).e("original")),value:c.label,name:c.name||((d=P(a))==null?void 0:d.name),disabled:P(h),type:"radio",onFocus:f[1]||(f[1]=p=>o.value=!0),onBlur:f[2]||(f[2]=p=>o.value=!1),onChange:u},null,42,JO),[[Fv,P(l)]]),Rt("span",{class:xt(P(n).e("inner"))},null,2)],2),Rt("span",{class:xt(P(n).e("label")),onKeydown:f[3]||(f[3]=ri(()=>{},["stop"]))},[oe(c.$slots,"default",{},()=>[Ke(vr(c.label),1)])],34)],2)}}});var ek=fe(tk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const rk=ne({...Qy,name:{type:String,default:""}}),nk=["value","name","disabled"],ik=At({name:"ElRadioButton"}),ak=At({...ik,props:rk,setup(r){const t=r,e=ce("radio"),{radioRef:n,focus:i,size:a,disabled:o,modelValue:s,radioGroup:h}=e0(t),l=st(()=>({backgroundColor:(h==null?void 0:h.fill)||"",borderColor:(h==null?void 0:h.fill)||"",boxShadow:h!=null&&h.fill?`-1px 0 0 0 ${h.fill}`:"",color:(h==null?void 0:h.textColor)||""}));return(u,c)=>{var f;return ft(),St("label",{class:xt([P(e).b("button"),P(e).is("active",P(s)===u.label),P(e).is("disabled",P(o)),P(e).is("focus",P(i)),P(e).bm("button",P(a))])},[Kn(Rt("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":c[0]||(c[0]=d=>Te(s)?s.value=d:null),class:xt(P(e).be("button","original-radio")),value:u.label,type:"radio",name:u.name||((f=P(h))==null?void 0:f.name),disabled:P(o),onFocus:c[1]||(c[1]=d=>i.value=!0),onBlur:c[2]||(c[2]=d=>i.value=!1)},null,42,nk),[[Fv,P(s)]]),Rt("span",{class:xt(P(e).be("button","inner")),style:me(P(s)===u.label?P(l):{}),onKeydown:c[3]||(c[3]=ri(()=>{},["stop"]))},[oe(u.$slots,"default",{},()=>[Ke(vr(u.label),1)])],38)],2)}}});var r0=fe(ak,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const ok=ne({id:{type:String,default:void 0},size:Gi,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),sk=t0,lk=["id","aria-label","aria-labelledby"],uk=At({name:"ElRadioGroup"}),hk=At({...uk,props:ok,emits:sk,setup(r,{emit:t}){const e=r,n=ce("radio"),i=ql(),a=vt(),{formItem:o}=za(),{inputId:s,isLabeledByFormItem:h}=Gl(e,{formItemContext:o}),l=c=>{t(Ve,c),Ie(()=>t("change",c))};Oe(()=>{const c=a.value.querySelectorAll("[type=radio]"),f=c[0];!Array.from(c).some(d=>d.checked)&&f&&(f.tabIndex=0)});const u=st(()=>e.name||i.value);return br(qg,Xr({...ka(e),changeEvent:l,name:u})),Ft(()=>e.modelValue,()=>{e.validateEvent&&(o==null||o.validate("change").catch(c=>{}))}),(c,f)=>(ft(),St("div",{id:P(s),ref_key:"radioGroupRef",ref:a,class:xt(P(n).b("group")),role:"radiogroup","aria-label":P(h)?void 0:c.label||"radio-group","aria-labelledby":P(h)?P(o).labelId:void 0},[oe(c.$slots,"default")],10,lk))}});var n0=fe(hk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const ck=Hr(ek,{RadioButton:r0,RadioGroup:n0}),fk=zl(n0);zl(r0);const dk=ne({model:Object,rules:{type:Ut(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:Hl},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),pk={validate:(r,t,e)=>(It(r)||jt(r))&&fn(t)&&jt(e)};function mk(){const r=vt([]),t=st(()=>{if(!r.value.length)return"0";const a=Math.max(...r.value);return a?`${a}px`:""});function e(a){const o=r.value.indexOf(a);return o===-1&&t.value,o}function n(a,o){if(a&&o){const s=e(o);r.value.splice(s,1,a)}else a&&r.value.push(a)}function i(a){const o=e(a);o>-1&&r.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:n,deregisterLabelWidth:i}}const au=(r,t)=>{const e=ac(t);return e.length>0?r.filter(n=>n.prop&&e.includes(n.prop)):r},vk="ElForm",gk=At({name:vk}),yk=At({...gk,props:dk,emits:pk,setup(r,{expose:t,emit:e}){const n=r,i=[],a=li(),o=ce("form"),s=st(()=>{const{labelPosition:y,inline:b}=n;return[o.b(),o.m(a.value||"default"),{[o.m(`label-${y}`)]:y,[o.m("inline")]:b}]}),h=y=>{i.push(y)},l=y=>{y.prop&&i.splice(i.indexOf(y),1)},u=(y=[])=>{!n.model||au(i,y).forEach(b=>b.resetField())},c=(y=[])=>{au(i,y).forEach(b=>b.clearValidate())},f=st(()=>!!n.model),d=y=>{if(i.length===0)return[];const b=au(i,y);return b.length?b:[]},p=async y=>g(void 0,y),m=async(y=[])=>{if(!f.value)return!1;const b=d(y);if(b.length===0)return!0;let x={};for(const _ of b)try{await _.validate("")}catch(w){x={...x,...w}}return Object.keys(x).length===0?!0:Promise.reject(x)},g=async(y=[],b)=>{const x=!Ct(b);try{const _=await m(y);return _===!0&&(b==null||b(_)),_}catch(_){if(_ instanceof Error)throw _;const w=_;return n.scrollToError&&v(Object.keys(w)[0]),b==null||b(!1,w),x&&Promise.reject(w)}},v=y=>{var b;const x=au(i,y)[0];x&&((b=x.$el)==null||b.scrollIntoView())};return Ft(()=>n.rules,()=>{n.validateOnRuleChange&&p().catch(y=>{})},{deep:!0}),br(Ua,Xr({...ka(n),emit:e,resetFields:u,clearValidate:c,validateField:g,addField:h,removeField:l,...mk()})),t({validate:p,validateField:g,resetFields:u,clearValidate:c,scrollToField:v}),(y,b)=>(ft(),St("form",{class:xt(P(s))},[oe(y.$slots,"default")],2))}});var bk=fe(yk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Ji(){return Ji=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ji.apply(this,arguments)}function xk(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,ss(r,t)}function Vc(r){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(r)}function ss(r,t){return ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ss(r,t)}function _k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ou(r,t,e){return _k()?ou=Reflect.construct.bind():ou=function(n,i,a){var o=[null];o.push.apply(o,i);var s=Function.bind.apply(n,o),h=new s;return a&&ss(h,a.prototype),h},ou.apply(null,arguments)}function wk(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Xc(r){var t=typeof Map=="function"?new Map:void 0;return Xc=function(e){if(e===null||!wk(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ou(e,arguments,Vc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ss(n,e)},Xc(r)}var Ek=/%[sdj%]/g,Sk=function(){};function Yc(r){if(!r||!r.length)return null;var t={};return r.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function Er(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var i=0,a=e.length;if(typeof r=="function")return r.apply(null,e);if(typeof r=="string"){var o=r.replace(Ek,function(s){if(s==="%%")return"%";if(i>=a)return s;switch(s){case"%s":return String(e[i++]);case"%d":return Number(e[i++]);case"%j":try{return JSON.stringify(e[i++])}catch{return"[Circular]"}break;default:return s}});return o}return r}function Tk(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function ke(r,t){return!!(r==null||t==="array"&&Array.isArray(r)&&!r.length||Tk(t)&&typeof r=="string"&&!r)}function Ik(r,t,e){var n=[],i=0,a=r.length;function o(s){n.push.apply(n,s||[]),i++,i===a&&e(n)}r.forEach(function(s){t(s,o)})}function i0(r,t,e){var n=0,i=r.length;function a(o){if(o&&o.length){e(o);return}var s=n;n=n+1,s<i?t(r[s],a):e([])}a([])}function Ak(r){var t=[];return Object.keys(r).forEach(function(e){t.push.apply(t,r[e]||[])}),t}var a0=function(r){xk(t,r);function t(e,n){var i;return i=r.call(this,"Async Validation Error")||this,i.errors=e,i.fields=n,i}return t}(Xc(Error));function Pk(r,t,e,n,i){if(t.first){var a=new Promise(function(f,d){var p=function(g){return n(g),g.length?d(new a0(g,Yc(g))):f(i)},m=Ak(r);i0(m,e,p)});return a.catch(function(f){return f}),a}var o=t.firstFields===!0?Object.keys(r):t.firstFields||[],s=Object.keys(r),h=s.length,l=0,u=[],c=new Promise(function(f,d){var p=function(m){if(u.push.apply(u,m),l++,l===h)return n(u),u.length?d(new a0(u,Yc(u))):f(i)};s.length||(n(u),f(i)),s.forEach(function(m){var g=r[m];o.indexOf(m)!==-1?i0(g,e,p):Ik(g,e,p)})});return c.catch(function(f){return f}),c}function Ck(r){return!!(r&&r.message!==void 0)}function Mk(r,t){for(var e=r,n=0;n<t.length;n++){if(e==null)return e;e=e[t[n]]}return e}function o0(r,t){return function(e){var n;return r.fullFields?n=Mk(t,r.fullFields):n=t[e.field||r.fullField],Ck(e)?(e.field=e.field||r.fullField,e.fieldValue=n,e):{message:typeof e=="function"?e():e,fieldValue:n,field:e.field||r.fullField}}}function s0(r,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];typeof n=="object"&&typeof r[e]=="object"?r[e]=Ji({},r[e],n):r[e]=n}}return r}var l0=function(r,t,e,n,i,a){r.required&&(!e.hasOwnProperty(r.field)||ke(t,a||r.type))&&n.push(Er(i.messages.required,r.fullField))},Rk=function(r,t,e,n,i){(/^\s+$/.test(t)||t==="")&&n.push(Er(i.messages.whitespace,r.fullField))},su,Ok=function(){if(su)return su;var r="[a-fA-F\\d:]",t=function(b){return b&&b.includeBoundaries?"(?:(?<=\\s|^)(?="+r+")|(?<="+r+")(?=\\s|$))":""},e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+e+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+e+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+e+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+e+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+e+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+e+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+e+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+e+"$)|(?:^"+i+"$)"),o=new RegExp("^"+e+"$"),s=new RegExp("^"+i+"$"),h=function(b){return b&&b.exact?a:new RegExp("(?:"+t(b)+e+t(b)+")|(?:"+t(b)+i+t(b)+")","g")};h.v4=function(b){return b&&b.exact?o:new RegExp(""+t(b)+e+t(b),"g")},h.v6=function(b){return b&&b.exact?s:new RegExp(""+t(b)+i+t(b),"g")};var l="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",c=h.v4().source,f=h.v6().source,d="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',y="(?:"+l+"|www\\.)"+u+"(?:localhost|"+c+"|"+f+"|"+d+p+m+")"+g+v;return su=new RegExp("(?:^"+y+"$)","i"),su},u0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ls={integer:function(r){return ls.number(r)&&parseInt(r,10)===r},float:function(r){return ls.number(r)&&!ls.integer(r)},array:function(r){return Array.isArray(r)},regexp:function(r){if(r instanceof RegExp)return!0;try{return!!new RegExp(r)}catch{return!1}},date:function(r){return typeof r.getTime=="function"&&typeof r.getMonth=="function"&&typeof r.getYear=="function"&&!isNaN(r.getTime())},number:function(r){return isNaN(r)?!1:typeof r=="number"},object:function(r){return typeof r=="object"&&!ls.array(r)},method:function(r){return typeof r=="function"},email:function(r){return typeof r=="string"&&r.length<=320&&!!r.match(u0.email)},url:function(r){return typeof r=="string"&&r.length<=2048&&!!r.match(Ok())},hex:function(r){return typeof r=="string"&&!!r.match(u0.hex)}},kk=function(r,t,e,n,i){if(r.required&&t===void 0){l0(r,t,e,n,i);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=r.type;a.indexOf(o)>-1?ls[o](t)||n.push(Er(i.messages.types[o],r.fullField,r.type)):o&&typeof t!==r.type&&n.push(Er(i.messages.types[o],r.fullField,r.type))},Fk=function(r,t,e,n,i){var a=typeof r.len=="number",o=typeof r.min=="number",s=typeof r.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=t,u=null,c=typeof t=="number",f=typeof t=="string",d=Array.isArray(t);if(c?u="number":f?u="string":d&&(u="array"),!u)return!1;d&&(l=t.length),f&&(l=t.replace(h,"_").length),a?l!==r.len&&n.push(Er(i.messages[u].len,r.fullField,r.len)):o&&!s&&l<r.min?n.push(Er(i.messages[u].min,r.fullField,r.min)):s&&!o&&l>r.max?n.push(Er(i.messages[u].max,r.fullField,r.max)):o&&s&&(l<r.min||l>r.max)&&n.push(Er(i.messages[u].range,r.fullField,r.min,r.max))},to="enum",Nk=function(r,t,e,n,i){r[to]=Array.isArray(r[to])?r[to]:[],r[to].indexOf(t)===-1&&n.push(Er(i.messages[to],r.fullField,r[to].join(", ")))},Dk=function(r,t,e,n,i){if(r.pattern){if(r.pattern instanceof RegExp)r.pattern.lastIndex=0,r.pattern.test(t)||n.push(Er(i.messages.pattern.mismatch,r.fullField,t,r.pattern));else if(typeof r.pattern=="string"){var a=new RegExp(r.pattern);a.test(t)||n.push(Er(i.messages.pattern.mismatch,r.fullField,t,r.pattern))}}},Wt={required:l0,whitespace:Rk,type:kk,range:Fk,enum:Nk,pattern:Dk},Lk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t,"string")&&!r.required)return e();Wt.required(r,t,n,a,i,"string"),ke(t,"string")||(Wt.type(r,t,n,a,i),Wt.range(r,t,n,a,i),Wt.pattern(r,t,n,a,i),r.whitespace===!0&&Wt.whitespace(r,t,n,a,i))}e(a)},Bk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),t!==void 0&&Wt.type(r,t,n,a,i)}e(a)},Vk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(t===""&&(t=void 0),ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),t!==void 0&&(Wt.type(r,t,n,a,i),Wt.range(r,t,n,a,i))}e(a)},Xk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),t!==void 0&&Wt.type(r,t,n,a,i)}e(a)},Yk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),ke(t)||Wt.type(r,t,n,a,i)}e(a)},jk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),t!==void 0&&(Wt.type(r,t,n,a,i),Wt.range(r,t,n,a,i))}e(a)},Uk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),t!==void 0&&(Wt.type(r,t,n,a,i),Wt.range(r,t,n,a,i))}e(a)},Wk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(t==null&&!r.required)return e();Wt.required(r,t,n,a,i,"array"),t!=null&&(Wt.type(r,t,n,a,i),Wt.range(r,t,n,a,i))}e(a)},zk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),t!==void 0&&Wt.type(r,t,n,a,i)}e(a)},Hk="enum",qk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i),t!==void 0&&Wt[Hk](r,t,n,a,i)}e(a)},Gk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t,"string")&&!r.required)return e();Wt.required(r,t,n,a,i),ke(t,"string")||Wt.pattern(r,t,n,a,i)}e(a)},$k=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t,"date")&&!r.required)return e();if(Wt.required(r,t,n,a,i),!ke(t,"date")){var s;t instanceof Date?s=t:s=new Date(t),Wt.type(r,s,n,a,i),s&&Wt.range(r,s.getTime(),n,a,i)}}e(a)},Zk=function(r,t,e,n,i){var a=[],o=Array.isArray(t)?"array":typeof t;Wt.required(r,t,n,a,i,o),e(a)},jc=function(r,t,e,n,i){var a=r.type,o=[],s=r.required||!r.required&&n.hasOwnProperty(r.field);if(s){if(ke(t,a)&&!r.required)return e();Wt.required(r,t,n,o,i,a),ke(t,a)||Wt.type(r,t,n,o,i)}e(o)},Kk=function(r,t,e,n,i){var a=[],o=r.required||!r.required&&n.hasOwnProperty(r.field);if(o){if(ke(t)&&!r.required)return e();Wt.required(r,t,n,a,i)}e(a)},us={string:Lk,method:Bk,number:Vk,boolean:Xk,regexp:Yk,integer:jk,float:Uk,array:Wk,object:zk,enum:qk,pattern:Gk,date:$k,url:jc,hex:jc,email:jc,required:Zk,any:Kk};function Uc(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var r=JSON.parse(JSON.stringify(this));return r.clone=this.clone,r}}}var Wc=Uc(),hs=function(){function r(e){this.rules=null,this._messages=Wc,this.define(e)}var t=r.prototype;return t.define=function(e){var n=this;if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(i){var a=e[i];n.rules[i]=Array.isArray(a)?a:[a]})},t.messages=function(e){return e&&(this._messages=s0(Uc(),e)),this._messages},t.validate=function(e,n,i){var a=this;n===void 0&&(n={}),i===void 0&&(i=function(){});var o=e,s=n,h=i;if(typeof s=="function"&&(h=s,s={}),!this.rules||Object.keys(this.rules).length===0)return h&&h(null,o),Promise.resolve(o);function l(p){var m=[],g={};function v(b){if(Array.isArray(b)){var x;m=(x=m).concat.apply(x,b)}else m.push(b)}for(var y=0;y<p.length;y++)v(p[y]);m.length?(g=Yc(m),h(m,g)):h(null,o)}if(s.messages){var u=this.messages();u===Wc&&(u=Uc()),s0(u,s.messages),s.messages=u}else s.messages=this.messages();var c={},f=s.keys||Object.keys(this.rules);f.forEach(function(p){var m=a.rules[p],g=o[p];m.forEach(function(v){var y=v;typeof y.transform=="function"&&(o===e&&(o=Ji({},o)),g=o[p]=y.transform(g)),typeof y=="function"?y={validator:y}:y=Ji({},y),y.validator=a.getValidationMethod(y),y.validator&&(y.field=p,y.fullField=y.fullField||p,y.type=a.getType(y),c[p]=c[p]||[],c[p].push({rule:y,value:g,source:o,field:p}))})});var d={};return Pk(c,s,function(p,m){var g=p.rule,v=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");v=v&&(g.required||!g.required&&p.value),g.field=p.field;function y(_,w){return Ji({},w,{fullField:g.fullField+"."+_,fullFields:g.fullFields?[].concat(g.fullFields,[_]):[_]})}function b(_){_===void 0&&(_=[]);var w=Array.isArray(_)?_:[_];!s.suppressWarning&&w.length&&r.warning("async-validator:",w),w.length&&g.message!==void 0&&(w=[].concat(g.message));var E=w.map(o0(g,o));if(s.first&&E.length)return d[g.field]=1,m(E);if(!v)m(E);else{if(g.required&&!p.value)return g.message!==void 0?E=[].concat(g.message).map(o0(g,o)):s.error&&(E=[s.error(g,Er(s.messages.required,g.field))]),m(E);var S={};g.defaultField&&Object.keys(p.value).map(function(R){S[R]=g.defaultField}),S=Ji({},S,p.rule.fields);var T={};Object.keys(S).forEach(function(R){var A=S[R],C=Array.isArray(A)?A:[A];T[R]=C.map(y.bind(null,R))});var I=new r(T);I.messages(s.messages),p.rule.options&&(p.rule.options.messages=s.messages,p.rule.options.error=s.error),I.validate(p.value,p.rule.options||s,function(R){var A=[];E&&E.length&&A.push.apply(A,E),R&&R.length&&A.push.apply(A,R),m(A.length?A:null)})}}var x;if(g.asyncValidator)x=g.asyncValidator(g,p.value,b,p.source,s);else if(g.validator){try{x=g.validator(g,p.value,b,p.source,s)}catch(_){console.error==null||console.error(_),s.suppressValidatorError||setTimeout(function(){throw _},0),b(_.message)}x===!0?b():x===!1?b(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):x instanceof Array?b(x):x instanceof Error&&b(x.message)}x&&x.then&&x.then(function(){return b()},function(_){return b(_)})},function(p){l(p)},o)},t.getType=function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!us.hasOwnProperty(e.type))throw new Error(Er("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if(typeof e.validator=="function")return e.validator;var n=Object.keys(e),i=n.indexOf("message");return i!==-1&&n.splice(i,1),n.length===1&&n[0]==="required"?us.required:us[this.getType(e)]||void 0},r}();hs.register=function(r,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");us[r]=t},hs.warning=Sk,hs.messages=Wc,hs.validators=us;const Jk=["","error","validating","success"],Qk=ne({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Ut([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ut([Object,Array])},error:String,validateStatus:{type:String,values:Jk},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Hl}}),h0="ElLabelWrap";var tF=At({name:h0,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(r,{slots:t}){const e=ee(Ua,void 0),n=ee(Hi);n||Ul(h0,"usage: <el-form-item><label-wrap /></el-form-item>");const i=ce("form"),a=vt(),o=vt(0),s=()=>{var u;if((u=a.value)!=null&&u.firstElementChild){const c=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(c))}else return 0},h=(u="update")=>{Ie(()=>{t.default&&r.isAutoWidth&&(u==="update"?o.value=s():u==="remove"&&(e==null||e.deregisterLabelWidth(o.value)))})},l=()=>h("update");return Oe(()=>{l()}),Pr(()=>{h("remove")}),Ml(()=>l()),Ft(o,(u,c)=>{r.updateAll&&(e==null||e.registerLabelWidth(u,c))}),mc(st(()=>{var u,c;return(c=(u=a.value)==null?void 0:u.firstElementChild)!=null?c:null}),l),()=>{var u,c;if(!t)return null;const{isAutoWidth:f}=r;if(f){const d=e==null?void 0:e.autoLabelWidth,p=n==null?void 0:n.hasLabel,m={};if(p&&d&&d!=="auto"){const g=Math.max(0,Number.parseInt(d,10)-o.value),v=e.labelPosition==="left"?"marginRight":"marginLeft";g&&(m[v]=`${g}px`)}return mt("div",{ref:a,class:[i.be("item","label-wrap")],style:m},[(u=t.default)==null?void 0:u.call(t)])}else return mt(he,{ref:a},[(c=t.default)==null?void 0:c.call(t)])}}});const eF=["role","aria-labelledby"],rF=At({name:"ElFormItem"}),nF=At({...rF,props:Qk,setup(r,{expose:t}){const e=r,n=Hh(),i=ee(Ua,void 0),a=ee(Hi,void 0),o=li(void 0,{formItem:!1}),s=ce("form-item"),h=ql().value,l=vt([]),u=vt(""),c=K2(u,100),f=vt(""),d=vt();let p,m=!1;const g=st(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const K=Ya(e.labelWidth||(i==null?void 0:i.labelWidth)||"");return K?{width:K}:{}}),v=st(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!e.label&&!e.labelWidth&&T)return{};const K=Ya(e.labelWidth||(i==null?void 0:i.labelWidth)||"");return!e.label&&!n.label?{marginLeft:K}:{}}),y=st(()=>[s.b(),s.m(o.value),s.is("error",u.value==="error"),s.is("validating",u.value==="validating"),s.is("success",u.value==="success"),s.is("required",O.value||e.required),s.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:i==null?void 0:i.statusIcon}]),b=st(()=>fn(e.inlineMessage)?e.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),x=st(()=>[s.e("error"),{[s.em("error","inline")]:b.value}]),_=st(()=>e.prop?jt(e.prop)?e.prop:e.prop.join("."):""),w=st(()=>!!(e.label||n.label)),E=st(()=>e.for||l.value.length===1?l.value[0]:void 0),S=st(()=>!E.value&&w.value),T=!!a,I=st(()=>{const K=i==null?void 0:i.model;if(!(!K||!e.prop))return vc(K,e.prop).value}),R=st(()=>{const{required:K}=e,J=[];e.rules&&J.push(...ac(e.rules));const it=i==null?void 0:i.rules;if(it&&e.prop){const ut=vc(it,e.prop).value;ut&&J.push(...ac(ut))}if(K!==void 0){const ut=J.map((at,M)=>[at,M]).filter(([at])=>Object.keys(at).includes("required"));if(ut.length>0)for(const[at,M]of ut)at.required!==K&&(J[M]={...at,required:K});else J.push({required:K})}return J}),A=st(()=>R.value.length>0),C=K=>R.value.filter(J=>!J.trigger||!K?!0:Array.isArray(J.trigger)?J.trigger.includes(K):J.trigger===K).map(({trigger:J,...it})=>it),O=st(()=>R.value.some(K=>K.required)),N=st(()=>{var K;return c.value==="error"&&e.showMessage&&((K=i==null?void 0:i.showMessage)!=null?K:!0)}),L=st(()=>`${e.label||""}${(i==null?void 0:i.labelSuffix)||""}`),D=K=>{u.value=K},Q=K=>{var J,it;const{errors:ut,fields:at}=K;(!ut||!at)&&console.error(K),D("error"),f.value=ut?(it=(J=ut==null?void 0:ut[0])==null?void 0:J.message)!=null?it:`${e.prop} is required`:"",i==null||i.emit("validate",e.prop,!1,f.value)},tt=()=>{D("success"),i==null||i.emit("validate",e.prop,!0,"")},V=async K=>{const J=_.value;return new hs({[J]:K}).validate({[J]:I.value},{firstFields:!0}).then(()=>(tt(),!0)).catch(it=>(Q(it),Promise.reject(it)))},W=async(K,J)=>{if(m||!e.prop)return!1;const it=Ct(J);if(!A.value)return J==null||J(!1),!1;const ut=C(K);return ut.length===0?(J==null||J(!0),!0):(D("validating"),V(ut).then(()=>(J==null||J(!0),!0)).catch(at=>{const{fields:M}=at;return J==null||J(!1,M),it?!1:Promise.reject(M)}))},X=()=>{D(""),f.value="",m=!1},j=async()=>{const K=i==null?void 0:i.model;if(!K||!e.prop)return;const J=vc(K,e.prop);m=!0,J.value=Fg(p),await Ie(),X(),m=!1},Y=K=>{l.value.includes(K)||l.value.push(K)},q=K=>{l.value=l.value.filter(J=>J!==K)};Ft(()=>e.error,K=>{f.value=K||"",D(K?"error":"")},{immediate:!0}),Ft(()=>e.validateStatus,K=>D(K||""));const $=Xr({...ka(e),$el:d,size:o,validateState:u,labelId:h,inputIds:l,isGroup:S,hasLabel:w,addInputId:Y,removeInputId:q,resetField:j,clearValidate:X,validate:W});return br(Hi,$),Oe(()=>{e.prop&&(i==null||i.addField($),p=Fg(I.value))}),Pr(()=>{i==null||i.removeField($)}),t({size:o,validateMessage:f,validateState:u,validate:W,clearValidate:X,resetField:j}),(K,J)=>{var it;return ft(),St("div",{ref_key:"formItemRef",ref:d,class:xt(P(y)),role:P(S)?"group":void 0,"aria-labelledby":P(S)?P(h):void 0},[mt(P(tF),{"is-auto-width":P(g).width==="auto","update-all":((it=P(i))==null?void 0:it.labelWidth)==="auto"},{default:_t(()=>[P(w)?(ft(),Bt(jr(P(E)?"label":"div"),{key:0,id:P(h),for:P(E),class:xt(P(s).e("label")),style:me(P(g))},{default:_t(()=>[oe(K.$slots,"label",{label:P(L)},()=>[Ke(vr(P(L)),1)])]),_:3},8,["id","for","class","style"])):Nt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Rt("div",{class:xt(P(s).e("content")),style:me(P(v))},[oe(K.$slots,"default"),mt(Wo,{name:`${P(s).namespace.value}-zoom-in-top`},{default:_t(()=>[P(N)?oe(K.$slots,"error",{key:0,error:f.value},()=>[Rt("div",{class:xt(P(x))},vr(f.value),3)]):Nt("v-if",!0)]),_:3},8,["name"])],6)],10,eF)}}});var c0=fe(nF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const iF=Hr(bk,{FormItem:c0}),aF=zl(c0),oF=ne({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Gi,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:r=>r===null||le(r)||["min","max"].includes(r),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:r=>r>=0&&r===Number.parseInt(`${r}`,10)},validateEvent:{type:Boolean,default:!0}}),sF={[si]:(r,t)=>r!==t,blur:r=>r instanceof FocusEvent,focus:r=>r instanceof FocusEvent,[dn]:r=>le(r)||Mn(r),[Ve]:r=>le(r)||Mn(r)},lF=["aria-label","onKeydown"],uF=["aria-label","onKeydown"],hF=At({name:"ElInputNumber"}),cF=At({...hF,props:oF,emits:sF,setup(r,{expose:t,emit:e}){const n=r,{t:i}=ty(),a=ce("input-number"),o=vt(),s=Xr({currentValue:n.modelValue,userInput:null}),{formItem:h}=za(),l=st(()=>le(n.modelValue)&&y(n.modelValue,-1)<n.min),u=st(()=>le(n.modelValue)&&y(n.modelValue)>n.max),c=st(()=>{const C=v(n.step);return Ko(n.precision)?Math.max(v(n.modelValue),C):(C>n.precision,n.precision)}),f=st(()=>n.controls&&n.controlsPosition==="right"),d=li(),p=Wa(),m=st(()=>{if(s.userInput!==null)return s.userInput;let C=s.currentValue;if(Mn(C))return"";if(le(C)){if(Number.isNaN(C))return"";Ko(n.precision)||(C=C.toFixed(n.precision))}return C}),g=(C,O)=>{if(Ko(O)&&(O=c.value),O===0)return Math.round(C);let N=String(C);const L=N.indexOf(".");if(L===-1||!N.replace(".","").split("")[L+O])return C;const D=N.length;return N.charAt(D-1)==="5"&&(N=`${N.slice(0,Math.max(0,D-1))}6`),Number.parseFloat(Number(N).toFixed(O))},v=C=>{if(Mn(C))return 0;const O=C.toString(),N=O.indexOf(".");let L=0;return N!==-1&&(L=O.length-N-1),L},y=(C,O=1)=>le(C)?g(C+n.step*O):s.currentValue,b=()=>{if(n.readonly||p.value||u.value)return;const C=Number(m.value)||0,O=y(C);w(O),e(dn,s.currentValue)},x=()=>{if(n.readonly||p.value||l.value)return;const C=Number(m.value)||0,O=y(C,-1);w(O),e(dn,s.currentValue)},_=(C,O)=>{const{max:N,min:L,step:D,precision:Q,stepStrictly:tt,valueOnClear:V}=n;let W=Number(C);if(Mn(C)||Number.isNaN(W))return null;if(C===""){if(V===null)return null;W=jt(V)?{min:L,max:N}[V]:V}return tt&&(W=g(Math.round(W/D)*D,Q)),Ko(Q)||(W=g(W,Q)),(W>N||W<L)&&(W=W>N?N:L,O&&e(Ve,W)),W},w=C=>{var O;const N=s.currentValue,L=_(C);N!==L&&(s.userInput=null,e(Ve,L),e(si,L,N),n.validateEvent&&((O=h==null?void 0:h.validate)==null||O.call(h,"change").catch(D=>{})),s.currentValue=L)},E=C=>{s.userInput=C,e(dn,C===""?null:Number(C))},S=C=>{const O=C!==""?Number(C):"";(le(O)&&!Number.isNaN(O)||C==="")&&w(O),s.userInput=null},T=()=>{var C,O;(O=(C=o.value)==null?void 0:C.focus)==null||O.call(C)},I=()=>{var C,O;(O=(C=o.value)==null?void 0:C.blur)==null||O.call(C)},R=C=>{e("focus",C)},A=C=>{var O;e("blur",C),n.validateEvent&&((O=h==null?void 0:h.validate)==null||O.call(h,"blur").catch(N=>{}))};return Ft(()=>n.modelValue,C=>{s.currentValue=_(C,!0),s.userInput=null},{immediate:!0}),Oe(()=>{var C;const{min:O,max:N,modelValue:L}=n,D=(C=o.value)==null?void 0:C.input;if(D.setAttribute("role","spinbutton"),Number.isFinite(N)?D.setAttribute("aria-valuemax",String(N)):D.removeAttribute("aria-valuemax"),Number.isFinite(O)?D.setAttribute("aria-valuemin",String(O)):D.removeAttribute("aria-valuemin"),D.setAttribute("aria-valuenow",String(s.currentValue)),D.setAttribute("aria-disabled",String(p.value)),!le(L)&&L!=null){let Q=Number(L);Number.isNaN(Q)&&(Q=null),e(Ve,Q)}}),Ml(()=>{var C;const O=(C=o.value)==null?void 0:C.input;O==null||O.setAttribute("aria-valuenow",`${s.currentValue}`)}),t({focus:T,blur:I}),(C,O)=>(ft(),St("div",{class:xt([P(a).b(),P(a).m(P(d)),P(a).is("disabled",P(p)),P(a).is("without-controls",!C.controls),P(a).is("controls-right",P(f))]),onDragstart:O[0]||(O[0]=ri(()=>{},["prevent"]))},[C.controls?Kn((ft(),St("span",{key:0,role:"button","aria-label":P(i)("el.inputNumber.decrease"),class:xt([P(a).e("decrease"),P(a).is("disabled",P(l))]),onKeydown:zo(x,["enter"])},[mt(P(_r),null,{default:_t(()=>[P(f)?(ft(),Bt(P(mP),{key:0})):(ft(),Bt(P(JP),{key:1}))]),_:1})],42,lF)),[[P(Jy),x]]):Nt("v-if",!0),C.controls?Kn((ft(),St("span",{key:1,role:"button","aria-label":P(i)("el.inputNumber.increase"),class:xt([P(a).e("increase"),P(a).is("disabled",P(u))]),onKeydown:zo(b,["enter"])},[mt(P(_r),null,{default:_t(()=>[P(f)?(ft(),Bt(P(_P),{key:0})):(ft(),Bt(P(iC),{key:1}))]),_:1})],42,uF)),[[P(Jy),b]]):Nt("v-if",!0),mt(P(nM),{id:C.id,ref_key:"input",ref:o,type:"number",step:C.step,"model-value":P(m),placeholder:C.placeholder,readonly:C.readonly,disabled:P(p),size:P(d),max:C.max,min:C.min,name:C.name,label:C.label,"validate-event":!1,onKeydown:[zo(ri(b,["prevent"]),["up"]),zo(ri(x,["prevent"]),["down"])],onBlur:A,onFocus:R,onInput:E,onChange:S},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var fF=fe(cF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const dF=Hr(fF),pF=ne({modelValue:{type:Ut([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Gi,inputSize:Gi,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ut(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ut(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:rs,default:"top"},marks:{type:Ut(Object)},validateEvent:{type:Boolean,default:!0}}),zc=r=>le(r)||It(r)&&r.every(le),mF={[Ve]:zc,[dn]:zc,[si]:zc},vF=(r,t,e)=>{const n=vt();return Oe(async()=>{r.range?(Array.isArray(r.modelValue)?(t.firstValue=Math.max(r.min,r.modelValue[0]),t.secondValue=Math.min(r.max,r.modelValue[1])):(t.firstValue=r.min,t.secondValue=r.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof r.modelValue!="number"||Number.isNaN(r.modelValue)?t.firstValue=r.min:t.firstValue=Math.min(r.max,Math.max(r.min,r.modelValue)),t.oldValue=t.firstValue),oi(window,"resize",e),await Ie(),e()}),{sliderWrapper:n}},gF=r=>st(()=>r.marks?Object.keys(r.marks).map(Number.parseFloat).sort((t,e)=>t-e).filter(t=>t<=r.max&&t>=r.min).map(t=>({point:t,position:(t-r.min)*100/(r.max-r.min),mark:r.marks[t]})):[]),yF=(r,t,e)=>{const{form:n,formItem:i}=za(),a=wl(),o=vt(),s=vt(),h={firstButton:o,secondButton:s},l=st(()=>r.disabled||(n==null?void 0:n.disabled)||!1),u=st(()=>Math.min(t.firstValue,t.secondValue)),c=st(()=>Math.max(t.firstValue,t.secondValue)),f=st(()=>r.range?`${100*(c.value-u.value)/(r.max-r.min)}%`:`${100*(t.firstValue-r.min)/(r.max-r.min)}%`),d=st(()=>r.range?`${100*(u.value-r.min)/(r.max-r.min)}%`:"0%"),p=st(()=>r.vertical?{height:r.height}:{}),m=st(()=>r.vertical?{height:f.value,bottom:d.value}:{width:f.value,left:d.value}),g=()=>{a.value&&(t.sliderSize=a.value[`client${r.vertical?"Height":"Width"}`])},v=S=>{const T=r.min+S*(r.max-r.min)/100;if(!r.range)return o;let I;return Math.abs(u.value-T)<Math.abs(c.value-T)?I=t.firstValue<t.secondValue?"firstButton":"secondButton":I=t.firstValue>t.secondValue?"firstButton":"secondButton",h[I]},y=S=>{const T=v(S);return T.value.setPosition(S),T},b=S=>{t.firstValue=S,_(r.range?[u.value,c.value]:S)},x=S=>{t.secondValue=S,r.range&&_([u.value,c.value])},_=S=>{e(Ve,S),e(dn,S)},w=async()=>{await Ie(),e(si,r.range?[u.value,c.value]:r.modelValue)},E=S=>{var T,I,R,A,C,O;if(l.value||t.dragging)return;g();let N=0;if(r.vertical){const L=(R=(I=(T=S.touches)==null?void 0:T.item(0))==null?void 0:I.clientY)!=null?R:S.clientY;N=(a.value.getBoundingClientRect().bottom-L)/t.sliderSize*100}else{const L=(O=(C=(A=S.touches)==null?void 0:A.item(0))==null?void 0:C.clientX)!=null?O:S.clientX,D=a.value.getBoundingClientRect().left;N=(L-D)/t.sliderSize*100}if(!(N<0||N>100))return y(N)};return{elFormItem:i,slider:a,firstButton:o,secondButton:s,sliderDisabled:l,minValue:u,maxValue:c,runwayStyle:p,barStyle:m,resetSize:g,setPosition:y,emitChange:w,onSliderWrapperPrevent:S=>{var T,I;((T=h.firstButton.value)!=null&&T.dragging||(I=h.secondButton.value)!=null&&I.dragging)&&S.preventDefault()},onSliderClick:S=>{E(S)&&w()},onSliderDown:async S=>{const T=E(S);T&&(await Ie(),T.value.onButtonDown(S))},setFirstValue:b,setSecondValue:x}},{left:bF,down:xF,right:_F,up:wF,home:EF,end:SF,pageUp:TF,pageDown:IF}=Jo,AF=(r,t,e)=>{const n=vt(),i=vt(!1),a=st(()=>t.value instanceof Function),o=st(()=>a.value&&t.value(r.modelValue)||r.modelValue),s=Ng(()=>{e.value&&(i.value=!0)},50),h=Ng(()=>{e.value&&(i.value=!1)},50);return{tooltip:n,tooltipVisible:i,formatValue:o,displayTooltip:s,hideTooltip:h}},PF=(r,t,e)=>{const{disabled:n,min:i,max:a,step:o,showTooltip:s,precision:h,sliderSize:l,formatTooltip:u,emitChange:c,resetSize:f,updateDragging:d}=ee($g),{tooltip:p,tooltipVisible:m,formatValue:g,displayTooltip:v,hideTooltip:y}=AF(r,u,s),b=vt(),x=st(()=>`${(r.modelValue-i.value)/(a.value-i.value)*100}%`),_=st(()=>r.vertical?{bottom:x.value}:{left:x.value}),w=()=>{t.hovering=!0,v()},E=()=>{t.hovering=!1,t.dragging||y()},S=X=>{n.value||(X.preventDefault(),Q(X),window.addEventListener("mousemove",tt),window.addEventListener("touchmove",tt),window.addEventListener("mouseup",V),window.addEventListener("touchend",V),window.addEventListener("contextmenu",V),b.value.focus())},T=X=>{n.value||(t.newPosition=Number.parseFloat(x.value)+X/(a.value-i.value)*100,W(t.newPosition),c())},I=()=>{T(-o.value)},R=()=>{T(o.value)},A=()=>{T(-o.value*4)},C=()=>{T(o.value*4)},O=()=>{n.value||(W(0),c())},N=()=>{n.value||(W(100),c())},L=X=>{let j=!0;[bF,xF].includes(X.key)?I():[_F,wF].includes(X.key)?R():X.key===EF?O():X.key===SF?N():X.key===IF?A():X.key===TF?C():j=!1,j&&X.preventDefault()},D=X=>{let j,Y;return X.type.startsWith("touch")?(Y=X.touches[0].clientY,j=X.touches[0].clientX):(Y=X.clientY,j=X.clientX),{clientX:j,clientY:Y}},Q=X=>{t.dragging=!0,t.isClick=!0;const{clientX:j,clientY:Y}=D(X);r.vertical?t.startY=Y:t.startX=j,t.startPosition=Number.parseFloat(x.value),t.newPosition=t.startPosition},tt=X=>{if(t.dragging){t.isClick=!1,v(),f();let j;const{clientX:Y,clientY:q}=D(X);r.vertical?(t.currentY=q,j=(t.startY-t.currentY)/l.value*100):(t.currentX=Y,j=(t.currentX-t.startX)/l.value*100),t.newPosition=t.startPosition+j,W(t.newPosition)}},V=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||y(),t.isClick||W(t.newPosition),c()},0),window.removeEventListener("mousemove",tt),window.removeEventListener("touchmove",tt),window.removeEventListener("mouseup",V),window.removeEventListener("touchend",V),window.removeEventListener("contextmenu",V))},W=async X=>{if(X===null||Number.isNaN(+X))return;X<0?X=0:X>100&&(X=100);const j=100/((a.value-i.value)/o.value);let Y=Math.round(X/j)*j*(a.value-i.value)*.01+i.value;Y=Number.parseFloat(Y.toFixed(h.value)),Y!==r.modelValue&&e(Ve,Y),!t.dragging&&r.modelValue!==t.oldValue&&(t.oldValue=r.modelValue),await Ie(),t.dragging&&v(),p.value.updatePopper()};return Ft(()=>t.dragging,X=>{d(X)}),{disabled:n,button:b,tooltip:p,tooltipVisible:m,showTooltip:s,wrapperStyle:_,formatValue:g,handleMouseEnter:w,handleMouseLeave:E,onButtonDown:S,onKeyDown:L,setPosition:W}},CF=(r,t,e,n)=>({stops:st(()=>{if(!r.showStops||r.min>r.max)return[];if(r.step===0)return[];const i=(r.max-r.min)/r.step,a=100*r.step/(r.max-r.min),o=Array.from({length:i-1}).map((s,h)=>(h+1)*a);return r.range?o.filter(s=>s<100*(e.value-r.min)/(r.max-r.min)||s>100*(n.value-r.min)/(r.max-r.min)):o.filter(s=>s>100*(t.firstValue-r.min)/(r.max-r.min))}),getStopStyle:i=>r.vertical?{bottom:`${i}%`}:{left:`${i}%`}}),MF=(r,t,e,n,i,a)=>{const o=l=>{i(Ve,l),i(dn,l)},s=()=>r.range?![e.value,n.value].every((l,u)=>l===t.oldValue[u]):r.modelValue!==t.oldValue,h=()=>{var l,u;if(r.min>r.max){Ul("Slider","min should not be greater than max.");return}const c=r.modelValue;r.range&&Array.isArray(c)?c[1]<r.min?o([r.min,r.min]):c[0]>r.max?o([r.max,r.max]):c[0]<r.min?o([r.min,c[1]]):c[1]>r.max?o([c[0],r.max]):(t.firstValue=c[0],t.secondValue=c[1],s()&&(r.validateEvent&&((l=a==null?void 0:a.validate)==null||l.call(a,"change").catch(f=>{})),t.oldValue=c.slice())):!r.range&&typeof c=="number"&&!Number.isNaN(c)&&(c<r.min?o(r.min):c>r.max?o(r.max):(t.firstValue=c,s()&&(r.validateEvent&&((u=a==null?void 0:a.validate)==null||u.call(a,"change").catch(f=>{})),t.oldValue=c)))};h(),Ft(()=>t.dragging,l=>{l||h()}),Ft(()=>r.modelValue,(l,u)=>{t.dragging||Array.isArray(l)&&Array.isArray(u)&&l.every((c,f)=>c===u[f])&&t.firstValue===l[0]&&t.secondValue===l[1]||h()},{deep:!0}),Ft(()=>[r.min,r.max],()=>{h()})},RF=ne({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:rs,default:"top"}}),OF={[Ve]:r=>le(r)},kF=["tabindex"],FF=At({name:"ElSliderButton"}),NF=At({...FF,props:RF,emits:OF,setup(r,{expose:t,emit:e}){const n=r,i=ce("slider"),a=Xr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{disabled:o,button:s,tooltip:h,showTooltip:l,tooltipVisible:u,wrapperStyle:c,formatValue:f,handleMouseEnter:d,handleMouseLeave:p,onButtonDown:m,onKeyDown:g,setPosition:v}=PF(n,a,e),{hovering:y,dragging:b}=ka(a);return t({onButtonDown:m,onKeyDown:g,setPosition:v,hovering:y,dragging:b}),(x,_)=>(ft(),St("div",{ref_key:"button",ref:s,class:xt([P(i).e("button-wrapper"),{hover:P(y),dragging:P(b)}]),style:me(P(c)),tabindex:P(o)?-1:0,onMouseenter:_[0]||(_[0]=(...w)=>P(d)&&P(d)(...w)),onMouseleave:_[1]||(_[1]=(...w)=>P(p)&&P(p)(...w)),onMousedown:_[2]||(_[2]=(...w)=>P(m)&&P(m)(...w)),onTouchstart:_[3]||(_[3]=(...w)=>P(m)&&P(m)(...w)),onFocus:_[4]||(_[4]=(...w)=>P(d)&&P(d)(...w)),onBlur:_[5]||(_[5]=(...w)=>P(p)&&P(p)(...w)),onKeydown:_[6]||(_[6]=(...w)=>P(g)&&P(g)(...w))},[mt(P(_O),{ref_key:"tooltip",ref:h,visible:P(u),placement:x.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":x.tooltipClass,disabled:!P(l),persistent:""},{content:_t(()=>[Rt("span",null,vr(P(f)),1)]),default:_t(()=>[Rt("div",{class:xt([P(i).e("button"),{hover:P(y),dragging:P(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,kF))}});var f0=fe(NF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const DF=ne({mark:{type:Ut([String,Object]),default:void 0}});var LF=At({name:"ElSliderMarker",props:DF,setup(r){const t=ce("slider"),e=st(()=>jt(r.mark)?r.mark:r.mark.label),n=st(()=>jt(r.mark)?void 0:r.mark.style);return()=>bv("div",{class:t.e("marks-text"),style:n.value},e.value)}});const BF=["id","role","aria-label","aria-labelledby"],VF={key:1},XF=At({name:"ElSlider"}),YF=At({...XF,props:pF,emits:mF,setup(r,{expose:t,emit:e}){const n=r,i=ce("slider"),{t:a}=ty(),o=Xr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:h,firstButton:l,secondButton:u,sliderDisabled:c,minValue:f,maxValue:d,runwayStyle:p,barStyle:m,resetSize:g,emitChange:v,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:x,setFirstValue:_,setSecondValue:w}=yF(n,o,e),{stops:E,getStopStyle:S}=CF(n,o,f,d),{inputId:T,isLabeledByFormItem:I}=Gl(n,{formItemContext:s}),R=li(),A=st(()=>n.inputSize||R.value),C=st(()=>n.label||a("el.slider.defaultLabel",{min:n.min,max:n.max})),O=st(()=>n.range?n.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):C.value),N=st(()=>n.formatValueText?n.formatValueText(X.value):`${X.value}`),L=st(()=>n.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),D=st(()=>n.formatValueText?n.formatValueText(j.value):`${j.value}`),Q=st(()=>[i.b(),i.m(R.value),i.is("vertical",n.vertical),{[i.m("with-input")]:n.showInput}]),tt=gF(n);MF(n,o,f,d,e,s);const V=st(()=>{const $=[n.min,n.max,n.step].map(K=>{const J=`${K}`.split(".")[1];return J?J.length:0});return Math.max.apply(null,$)}),{sliderWrapper:W}=vF(n,o,g),{firstValue:X,secondValue:j,sliderSize:Y}=ka(o),q=$=>{o.dragging=$};return br($g,{...ka(n),sliderSize:Y,disabled:c,precision:V,emitChange:v,resetSize:g,updateDragging:q}),t({onSliderClick:b}),($,K)=>{var J,it;return ft(),St("div",{id:$.range?P(T):void 0,ref_key:"sliderWrapper",ref:W,class:xt(P(Q)),role:$.range?"group":void 0,"aria-label":$.range&&!P(I)?P(C):void 0,"aria-labelledby":$.range&&P(I)?(J=P(s))==null?void 0:J.labelId:void 0,onTouchstart:K[2]||(K[2]=(...ut)=>P(y)&&P(y)(...ut)),onTouchmove:K[3]||(K[3]=(...ut)=>P(y)&&P(y)(...ut))},[Rt("div",{ref_key:"slider",ref:h,class:xt([P(i).e("runway"),{"show-input":$.showInput&&!$.range},P(i).is("disabled",P(c))]),style:me(P(p)),onMousedown:K[0]||(K[0]=(...ut)=>P(x)&&P(x)(...ut)),onTouchstart:K[1]||(K[1]=(...ut)=>P(x)&&P(x)(...ut))},[Rt("div",{class:xt(P(i).e("bar")),style:me(P(m))},null,6),mt(f0,{id:$.range?void 0:P(T),ref_key:"firstButton",ref:l,"model-value":P(X),vertical:$.vertical,"tooltip-class":$.tooltipClass,placement:$.placement,role:"slider","aria-label":$.range||!P(I)?P(O):void 0,"aria-labelledby":!$.range&&P(I)?(it=P(s))==null?void 0:it.labelId:void 0,"aria-valuemin":$.min,"aria-valuemax":$.range?P(j):$.max,"aria-valuenow":P(X),"aria-valuetext":P(N),"aria-orientation":$.vertical?"vertical":"horizontal","aria-disabled":P(c),"onUpdate:modelValue":P(_)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),$.range?(ft(),Bt(f0,{key:0,ref_key:"secondButton",ref:u,"model-value":P(j),vertical:$.vertical,"tooltip-class":$.tooltipClass,placement:$.placement,role:"slider","aria-label":P(L),"aria-valuemin":P(X),"aria-valuemax":$.max,"aria-valuenow":P(j),"aria-valuetext":P(D),"aria-orientation":$.vertical?"vertical":"horizontal","aria-disabled":P(c),"onUpdate:modelValue":P(w)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Nt("v-if",!0),$.showStops?(ft(),St("div",VF,[(ft(!0),St(he,null,kh(P(E),(ut,at)=>(ft(),St("div",{key:at,class:xt(P(i).e("stop")),style:me(P(S)(ut))},null,6))),128))])):Nt("v-if",!0),P(tt).length>0?(ft(),St(he,{key:2},[Rt("div",null,[(ft(!0),St(he,null,kh(P(tt),(ut,at)=>(ft(),St("div",{key:at,style:me(P(S)(ut.position)),class:xt([P(i).e("stop"),P(i).e("marks-stop")])},null,6))),128))]),Rt("div",{class:xt(P(i).e("marks"))},[(ft(!0),St(he,null,kh(P(tt),(ut,at)=>(ft(),Bt(P(LF),{key:at,mark:ut.mark,style:me(P(S)(ut.position))},null,8,["mark","style"]))),128))],2)],64)):Nt("v-if",!0)],38),$.showInput&&!$.range?(ft(),Bt(P(dF),{key:0,ref:"input","model-value":P(X),class:xt(P(i).e("input")),step:$.step,disabled:P(c),controls:$.showInputControls,min:$.min,max:$.max,debounce:$.debounce,size:P(A),"onUpdate:modelValue":P(_),onChange:P(v)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Nt("v-if",!0)],42,BF)}}});var jF=fe(YF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const UF=Hr(jF),WF=ne({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:ja},inactiveIcon:{type:ja},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Ut(Function)},size:{type:String,validator:dC},tabindex:{type:[String,Number]}}),zF={[Ve]:r=>fn(r)||jt(r)||le(r),[si]:r=>fn(r)||jt(r)||le(r),[dn]:r=>fn(r)||jt(r)||le(r)},HF=["onClick"],qF=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],GF=["aria-hidden"],$F=["aria-hidden"],ZF=["aria-hidden"],Hc="ElSwitch",KF=At({name:Hc}),JF=At({...KF,props:WF,emits:zF,setup(r,{expose:t,emit:e}){const n=r,i=Qn(),{formItem:a}=za(),o=li(),s=ce("switch");Qg({from:'"value"',replacement:'"model-value" or "v-model"',scope:Hc,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},st(()=>{var _;return!!((_=i.vnode.props)!=null&&_.value)}));const{inputId:h}=Gl(n,{formItemContext:a}),l=Wa(st(()=>n.loading)),u=vt(n.modelValue!==!1),c=vt(),f=vt(),d=st(()=>[s.b(),s.m(o.value),s.is("disabled",l.value),s.is("checked",g.value)]),p=st(()=>({width:Ya(n.width)}));Ft(()=>n.modelValue,()=>{u.value=!0}),Ft(()=>n.value,()=>{u.value=!1});const m=st(()=>u.value?n.modelValue:n.value),g=st(()=>m.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(m.value)||(e(Ve,n.inactiveValue),e(si,n.inactiveValue),e(dn,n.inactiveValue)),Ft(g,_=>{var w;c.value.checked=_,n.validateEvent&&((w=a==null?void 0:a.validate)==null||w.call(a,"change").catch(E=>{}))});const v=()=>{const _=g.value?n.inactiveValue:n.activeValue;e(Ve,_),e(si,_),e(dn,_),Ie(()=>{c.value.checked=g.value})},y=()=>{if(l.value)return;const{beforeChange:_}=n;if(!_){v();return}const w=_();[ul(w),fn(w)].includes(!0)||Ul(Hc,"beforeChange must return type `Promise<boolean>` or `boolean`"),ul(w)?w.then(E=>{E&&v()}).catch(E=>{}):w&&v()},b=st(()=>s.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})),x=()=>{var _,w;(w=(_=c.value)==null?void 0:_.focus)==null||w.call(_)};return Oe(()=>{c.value.checked=g.value}),t({focus:x,checked:g}),(_,w)=>(ft(),St("div",{class:xt(P(d)),style:me(P(b)),onClick:ri(y,["prevent"])},[Rt("input",{id:P(h),ref_key:"input",ref:c,class:xt(P(s).e("input")),type:"checkbox",role:"switch","aria-checked":P(g),"aria-disabled":P(l),name:_.name,"true-value":_.activeValue,"false-value":_.inactiveValue,disabled:P(l),tabindex:_.tabindex,onChange:v,onKeydown:zo(y,["enter"])},null,42,qF),!_.inlinePrompt&&(_.inactiveIcon||_.inactiveText)?(ft(),St("span",{key:0,class:xt([P(s).e("label"),P(s).em("label","left"),P(s).is("active",!P(g))])},[_.inactiveIcon?(ft(),Bt(P(_r),{key:0},{default:_t(()=>[(ft(),Bt(jr(_.inactiveIcon)))]),_:1})):Nt("v-if",!0),!_.inactiveIcon&&_.inactiveText?(ft(),St("span",{key:1,"aria-hidden":P(g)},vr(_.inactiveText),9,GF)):Nt("v-if",!0)],2)):Nt("v-if",!0),Rt("span",{ref_key:"core",ref:f,class:xt(P(s).e("core")),style:me(P(p))},[_.inlinePrompt?(ft(),St("div",{key:0,class:xt(P(s).e("inner"))},[_.activeIcon||_.inactiveIcon?(ft(),Bt(P(_r),{key:0,class:xt(P(s).is("icon"))},{default:_t(()=>[(ft(),Bt(jr(P(g)?_.activeIcon:_.inactiveIcon)))]),_:1},8,["class"])):_.activeText||_.inactiveText?(ft(),St("span",{key:1,class:xt(P(s).is("text")),"aria-hidden":!P(g)},vr(P(g)?_.activeText:_.inactiveText),11,$F)):Nt("v-if",!0)],2)):Nt("v-if",!0),Rt("div",{class:xt(P(s).e("action"))},[_.loading?(ft(),Bt(P(_r),{key:0,class:xt(P(s).is("loading"))},{default:_t(()=>[mt(P(gc))]),_:1},8,["class"])):Nt("v-if",!0)],2)],6),!_.inlinePrompt&&(_.activeIcon||_.activeText)?(ft(),St("span",{key:1,class:xt([P(s).e("label"),P(s).em("label","right"),P(s).is("active",P(g))])},[_.activeIcon?(ft(),Bt(P(_r),{key:0},{default:_t(()=>[(ft(),Bt(jr(_.activeIcon)))]),_:1})):Nt("v-if",!0),!_.activeIcon&&_.activeText?(ft(),St("span",{key:1,"aria-hidden":!P(g)},vr(_.activeText),9,ZF)):Nt("v-if",!0)],2)):Nt("v-if",!0)],14,HF))}});var QF=fe(JF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const tN=Hr(QF);var d0={};(function(r){(function(t){var e=t.Promise,n=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var T;return new e(function(I){T=I}),typeof T=="function"}();r?(r.Promise=n?e:S,r.Polyfill=S):n||(t.Promise=S);var i="pending",a="sealed",o="fulfilled",s="rejected",h=function(){};function l(T){return Object.prototype.toString.call(T)==="[object Array]"}var u=typeof setImmediate<"u"?setImmediate:setTimeout,c=[],f;function d(){for(var T=0;T<c.length;T++)c[T][0](c[T][1]);c=[],f=!1}function p(T,I){c.push([T,I]),f||(f=!0,u(d,0))}function m(T,I){function R(C){y(I,C)}function A(C){x(I,C)}try{T(R,A)}catch(C){A(C)}}function g(T){var I=T.owner,R=I.state_,A=I.data_,C=T[R],O=T.then;if(typeof C=="function"){R=o;try{A=C(A)}catch(N){x(O,N)}}v(O,A)||(R===o&&y(O,A),R===s&&x(O,A))}function v(T,I){var R;try{if(T===I)throw new TypeError("A promises callback cannot return that same promise.");if(I&&(typeof I=="function"||typeof I=="object")){var A=I.then;if(typeof A=="function")return A.call(I,function(C){R||(R=!0,I!==C?y(T,C):b(T,C))},function(C){R||(R=!0,x(T,C))}),!0}}catch(C){return R||x(T,C),!0}return!1}function y(T,I){(T===I||!v(T,I))&&b(T,I)}function b(T,I){T.state_===i&&(T.state_=a,T.data_=I,p(w,T))}function x(T,I){T.state_===i&&(T.state_=a,T.data_=I,p(E,T))}function _(T){var I=T.then_;T.then_=void 0;for(var R=0;R<I.length;R++)g(I[R])}function w(T){T.state_=o,_(T)}function E(T){T.state_=s,_(T)}function S(T){if(typeof T!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof S))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],m(T,this)}S.prototype={constructor:S,state_:i,then_:null,data_:void 0,then:function(T,I){var R={owner:this,then:new this.constructor(h),fulfilled:T,rejected:I};return this.state_===o||this.state_===s?p(g,R):this.then_.push(R),R.then},catch:function(T){return this.then(null,T)}},S.all=function(T){var I=this;if(!l(T))throw new TypeError("You must pass an array to Promise.all().");return new I(function(R,A){var C=[],O=0;function N(Q){return O++,function(tt){C[Q]=tt,--O||R(C)}}for(var L=0,D;L<T.length;L++)D=T[L],D&&typeof D.then=="function"?D.then(N(L),A):C[L]=D;O||R(C)})},S.race=function(T){var I=this;if(!l(T))throw new TypeError("You must pass an array to Promise.race().");return new I(function(R,A){for(var C=0,O;C<T.length;C++)O=T[C],O&&typeof O.then=="function"?O.then(R,A):R(O)})},S.resolve=function(T){var I=this;return T&&typeof T=="object"&&T.constructor===I?T:new I(function(R){R(T)})},S.reject=function(T){var I=this;return new I(function(R,A){A(T)})}})(typeof window<"u"?window:typeof Qt<"u"?Qt:typeof self<"u"?self:Qt)})(d0);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var p0=Object.getOwnPropertySymbols,eN=Object.prototype.hasOwnProperty,rN=Object.prototype.propertyIsEnumerable;function nN(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function iN(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var aN=iN()?Object.assign:function(r,t){for(var e,n=nN(r),i,a=1;a<arguments.length;a++){e=Object(arguments[a]);for(var o in e)eN.call(e,o)&&(n[o]=e[o]);if(p0){i=p0(e);for(var s=0;s<i.length;s++)rN.call(e,i[s])&&(n[i[s]]=e[i[s]])}}return n};/*!
* @pixi/polyfill - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/polyfill is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/window.Promise||(window.Promise=d0.Polyfill),Object.assign||(Object.assign=aN);var oN=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(window.performance&&window.performance.now)){var sN=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-sN}}for(var qc=Date.now(),m0=["ms","moz","webkit","o"],Gc=0;Gc<m0.length&&!window.requestAnimationFrame;++Gc){var $c=m0[Gc];window.requestAnimationFrame=window[$c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[$c+"CancelAnimationFrame"]||window[$c+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(r){if(typeof r!="function")throw new TypeError(r+"is not a function");var t=Date.now(),e=oN+qc-t;return e<0&&(e=0),qc=t,window.setTimeout(function(){qc=Date.now(),r(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(r){return clearTimeout(r)}),Math.sign||(Math.sign=function(r){return r=Number(r),r===0||isNaN(r)?r:r>0?1:-1}),Number.isInteger||(Number.isInteger=function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var Zc=/iPhone/i,v0=/iPod/i,g0=/iPad/i,y0=/\biOS-universal(?:.+)Mac\b/i,Kc=/\bAndroid(?:.+)Mobile\b/i,b0=/Android/i,eo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,lu=/Silk/i,Nn=/Windows Phone/i,x0=/\bWindows(?:.+)ARM\b/i,_0=/BlackBerry/i,w0=/BB10/i,E0=/Opera Mini/i,S0=/\b(CriOS|Chrome)(?:.+)Mobile/i,T0=/Mobile(?:.+)Firefox\b/i,I0=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function lN(r){return function(t){return t.test(r)}}function uN(r){var t={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?t.userAgent=r:r&&r.userAgent&&(t={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var e=t.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var i=lN(e),a={apple:{phone:i(Zc)&&!i(Nn),ipod:i(v0),tablet:!i(Zc)&&(i(g0)||I0(t))&&!i(Nn),universal:i(y0),device:(i(Zc)||i(v0)||i(g0)||i(y0)||I0(t))&&!i(Nn)},amazon:{phone:i(eo),tablet:!i(eo)&&i(lu),device:i(eo)||i(lu)},android:{phone:!i(Nn)&&i(eo)||!i(Nn)&&i(Kc),tablet:!i(Nn)&&!i(eo)&&!i(Kc)&&(i(lu)||i(b0)),device:!i(Nn)&&(i(eo)||i(lu)||i(Kc)||i(b0))||i(/\bokhttp\b/i)},windows:{phone:i(Nn),tablet:i(x0),device:i(Nn)||i(x0)},other:{blackberry:i(_0),blackberry10:i(w0),opera:i(E0),firefox:i(T0),chrome:i(S0),device:i(_0)||i(w0)||i(E0)||i(T0)||i(S0)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
* @pixi/settings - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/settings is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var Or=uN(window.navigator);function hN(r){var t=!0;if(Or.tablet||Or.phone){if(Or.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(t=!1)}}if(Or.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(t=!1)}}}return t?r:4}function cN(){return!Or.apple.device}var Tt={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:hN(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Or.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:cN(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},A0={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(h,l,u){this.fn=h,this.context=l,this.once=u||!1}function a(h,l,u,c,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,c||h,f),p=e?e+l:l;return h._events[p]?h._events[p].fn?h._events[p]=[h._events[p],d]:h._events[p].push(d):(h._events[p]=d,h._eventsCount++),h}function o(h,l){--h._eventsCount===0?h._events=new n:delete h._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var h=[],l,u;if(this._eventsCount===0)return h;for(u in l=this._events)t.call(l,u)&&h.push(e?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(l)):h},s.prototype.listeners=function(h){var l=e?e+h:h,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var c=0,f=u.length,d=new Array(f);c<f;c++)d[c]=u[c].fn;return d},s.prototype.listenerCount=function(h){var l=e?e+h:h,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(h,l,u,c,f,d){var p=e?e+h:h;if(!this._events[p])return!1;var m=this._events[p],g=arguments.length,v,y;if(m.fn){switch(m.once&&this.removeListener(h,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,u),!0;case 4:return m.fn.call(m.context,l,u,c),!0;case 5:return m.fn.call(m.context,l,u,c,f),!0;case 6:return m.fn.call(m.context,l,u,c,f,d),!0}for(y=1,v=new Array(g-1);y<g;y++)v[y-1]=arguments[y];m.fn.apply(m.context,v)}else{var b=m.length,x;for(y=0;y<b;y++)switch(m[y].once&&this.removeListener(h,m[y].fn,void 0,!0),g){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,l);break;case 3:m[y].fn.call(m[y].context,l,u);break;case 4:m[y].fn.call(m[y].context,l,u,c);break;default:if(!v)for(x=1,v=new Array(g-1);x<g;x++)v[x-1]=arguments[x];m[y].fn.apply(m[y].context,v)}}return!0},s.prototype.on=function(h,l,u){return a(this,h,l,u,!1)},s.prototype.once=function(h,l,u){return a(this,h,l,u,!0)},s.prototype.removeListener=function(h,l,u,c){var f=e?e+h:h;if(!this._events[f])return this;if(!l)return o(this,f),this;var d=this._events[f];if(d.fn)d.fn===l&&(!c||d.once)&&(!u||d.context===u)&&o(this,f);else{for(var p=0,m=[],g=d.length;p<g;p++)(d[p].fn!==l||c&&!d[p].once||u&&d[p].context!==u)&&m.push(d[p]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},s.prototype.removeAllListeners=function(h){var l;return h?(l=e?e+h:h,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=e,s.EventEmitter=s,r.exports=s})(A0);const ro=A0.exports;var cs={exports:{}};cs.exports=uu,cs.exports.default=uu;function uu(r,t,e){e=e||2;var n=t&&t.length,i=n?t[0]*e:r.length,a=P0(r,0,i,e,!0),o=[];if(!a||a.next===a.prev)return o;var s,h,l,u,c,f,d;if(n&&(a=vN(r,t,a,e)),r.length>80*e){s=l=r[0],h=u=r[1];for(var p=e;p<i;p+=e)c=r[p],f=r[p+1],c<s&&(s=c),f<h&&(h=f),c>l&&(l=c),f>u&&(u=f);d=Math.max(l-s,u-h),d=d!==0?32767/d:0}return fs(a,o,e,s,h,d,0),o}function P0(r,t,e,n,i){var a,o;if(i===tf(r,t,e,n)>0)for(a=t;a<e;a+=n)o=R0(a,r[a],r[a+1],o);else for(a=e-n;a>=t;a-=n)o=R0(a,r[a],r[a+1],o);return o&&hu(o,o.next)&&(ps(o),o=o.next),o}function Qi(r,t){if(!r)return r;t||(t=r);var e=r,n;do if(n=!1,!e.steiner&&(hu(e,e.next)||ve(e.prev,e,e.next)===0)){if(ps(e),e=t=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==t);return t}function fs(r,t,e,n,i,a,o){if(r){!o&&a&&_N(r,n,i,a);for(var s=r,h,l;r.prev!==r.next;){if(h=r.prev,l=r.next,a?dN(r,n,i,a):fN(r)){t.push(h.i/e|0),t.push(r.i/e|0),t.push(l.i/e|0),ps(r),r=l.next,s=l.next;continue}if(r=l,r===s){o?o===1?(r=pN(Qi(r),t,e),fs(r,t,e,n,i,a,2)):o===2&&mN(r,t,e,n,i,a):fs(Qi(r),t,e,n,i,a,1);break}}}}function fN(r){var t=r.prev,e=r,n=r.next;if(ve(t,e,n)>=0)return!1;for(var i=t.x,a=e.x,o=n.x,s=t.y,h=e.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,c=s<h?s<l?s:l:h<l?h:l,f=i>a?i>o?i:o:a>o?a:o,d=s>h?s>l?s:l:h>l?h:l,p=n.next;p!==t;){if(p.x>=u&&p.x<=f&&p.y>=c&&p.y<=d&&no(i,s,a,h,o,l,p.x,p.y)&&ve(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function dN(r,t,e,n){var i=r.prev,a=r,o=r.next;if(ve(i,a,o)>=0)return!1;for(var s=i.x,h=a.x,l=o.x,u=i.y,c=a.y,f=o.y,d=s<h?s<l?s:l:h<l?h:l,p=u<c?u<f?u:f:c<f?c:f,m=s>h?s>l?s:l:h>l?h:l,g=u>c?u>f?u:f:c>f?c:f,v=Jc(d,p,t,e,n),y=Jc(m,g,t,e,n),b=r.prevZ,x=r.nextZ;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&no(s,u,h,c,l,f,b.x,b.y)&&ve(b.prev,b,b.next)>=0||(b=b.prevZ,x.x>=d&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&no(s,u,h,c,l,f,x.x,x.y)&&ve(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&no(s,u,h,c,l,f,b.x,b.y)&&ve(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&no(s,u,h,c,l,f,x.x,x.y)&&ve(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function pN(r,t,e){var n=r;do{var i=n.prev,a=n.next.next;!hu(i,a)&&C0(i,n,n.next,a)&&ds(i,a)&&ds(a,i)&&(t.push(i.i/e|0),t.push(n.i/e|0),t.push(a.i/e|0),ps(n),ps(n.next),n=r=a),n=n.next}while(n!==r);return Qi(n)}function mN(r,t,e,n,i,a){var o=r;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&SN(o,s)){var h=M0(o,s);o=Qi(o,o.next),h=Qi(h,h.next),fs(o,t,e,n,i,a,0),fs(h,t,e,n,i,a,0);return}s=s.next}o=o.next}while(o!==r)}function vN(r,t,e,n){var i=[],a,o,s,h,l;for(a=0,o=t.length;a<o;a++)s=t[a]*n,h=a<o-1?t[a+1]*n:r.length,l=P0(r,s,h,n,!1),l===l.next&&(l.steiner=!0),i.push(EN(l));for(i.sort(gN),a=0;a<i.length;a++)e=yN(i[a],e);return e}function gN(r,t){return r.x-t.x}function yN(r,t){var e=bN(r,t);if(!e)return t;var n=M0(e,r);return Qi(n,n.next),Qi(e,e.next)}function bN(r,t){var e=t,n=r.x,i=r.y,a=-1/0,o;do{if(i<=e.y&&i>=e.next.y&&e.next.y!==e.y){var s=e.x+(i-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(s<=n&&s>a&&(a=s,o=e.x<e.next.x?e:e.next,s===n))return o}e=e.next}while(e!==t);if(!o)return null;var h=o,l=o.x,u=o.y,c=1/0,f;e=o;do n>=e.x&&e.x>=l&&n!==e.x&&no(i<u?n:a,i,l,u,i<u?a:n,i,e.x,e.y)&&(f=Math.abs(i-e.y)/(n-e.x),ds(e,r)&&(f<c||f===c&&(e.x>o.x||e.x===o.x&&xN(o,e)))&&(o=e,c=f)),e=e.next;while(e!==h);return o}function xN(r,t){return ve(r.prev,r,t.prev)<0&&ve(t.next,r,r.next)<0}function _N(r,t,e,n){var i=r;do i.z===0&&(i.z=Jc(i.x,i.y,t,e,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,wN(i)}function wN(r){var t,e,n,i,a,o,s,h,l=1;do{for(e=r,r=null,a=null,o=0;e;){for(o++,n=e,s=0,t=0;t<l&&(s++,n=n.nextZ,!!n);t++);for(h=l;s>0||h>0&&n;)s!==0&&(h===0||!n||e.z<=n.z)?(i=e,e=e.nextZ,s--):(i=n,n=n.nextZ,h--),a?a.nextZ=i:r=i,i.prevZ=a,a=i;e=n}a.nextZ=null,l*=2}while(o>1);return r}function Jc(r,t,e,n,i){return r=(r-e)*i|0,t=(t-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r|t<<1}function EN(r){var t=r,e=r;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==r);return e}function no(r,t,e,n,i,a,o,s){return(i-o)*(t-s)>=(r-o)*(a-s)&&(r-o)*(n-s)>=(e-o)*(t-s)&&(e-o)*(a-s)>=(i-o)*(n-s)}function SN(r,t){return r.next.i!==t.i&&r.prev.i!==t.i&&!TN(r,t)&&(ds(r,t)&&ds(t,r)&&IN(r,t)&&(ve(r.prev,r,t.prev)||ve(r,t.prev,t))||hu(r,t)&&ve(r.prev,r,r.next)>0&&ve(t.prev,t,t.next)>0)}function ve(r,t,e){return(t.y-r.y)*(e.x-t.x)-(t.x-r.x)*(e.y-t.y)}function hu(r,t){return r.x===t.x&&r.y===t.y}function C0(r,t,e,n){var i=fu(ve(r,t,e)),a=fu(ve(r,t,n)),o=fu(ve(e,n,r)),s=fu(ve(e,n,t));return!!(i!==a&&o!==s||i===0&&cu(r,e,t)||a===0&&cu(r,n,t)||o===0&&cu(e,r,n)||s===0&&cu(e,t,n))}function cu(r,t,e){return t.x<=Math.max(r.x,e.x)&&t.x>=Math.min(r.x,e.x)&&t.y<=Math.max(r.y,e.y)&&t.y>=Math.min(r.y,e.y)}function fu(r){return r>0?1:r<0?-1:0}function TN(r,t){var e=r;do{if(e.i!==r.i&&e.next.i!==r.i&&e.i!==t.i&&e.next.i!==t.i&&C0(e,e.next,r,t))return!0;e=e.next}while(e!==r);return!1}function ds(r,t){return ve(r.prev,r,r.next)<0?ve(r,t,r.next)>=0&&ve(r,r.prev,t)>=0:ve(r,t,r.prev)<0||ve(r,r.next,t)<0}function IN(r,t){var e=r,n=!1,i=(r.x+t.x)/2,a=(r.y+t.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&i<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==r);return n}function M0(r,t){var e=new Qc(r.i,r.x,r.y),n=new Qc(t.i,t.x,t.y),i=r.next,a=t.prev;return r.next=t,t.prev=r,e.next=i,i.prev=e,n.next=e,e.prev=n,a.next=n,n.prev=a,n}function R0(r,t,e,n){var i=new Qc(r,t,e);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ps(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Qc(r,t,e){this.i=r,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}uu.deviation=function(r,t,e,n){var i=t&&t.length,a=i?t[0]*e:r.length,o=Math.abs(tf(r,0,a,e));if(i)for(var s=0,h=t.length;s<h;s++){var l=t[s]*e,u=s<h-1?t[s+1]*e:r.length;o-=Math.abs(tf(r,l,u,e))}var c=0;for(s=0;s<n.length;s+=3){var f=n[s]*e,d=n[s+1]*e,p=n[s+2]*e;c+=Math.abs((r[f]-r[p])*(r[d+1]-r[f+1])-(r[f]-r[d])*(r[p+1]-r[f+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function tf(r,t,e,n){for(var i=0,a=t,o=e-n;a<e;a+=n)i+=(r[o]-r[a])*(r[a+1]+r[o+1]),o=a;return i}uu.flatten=function(r){for(var t=r[0][0].length,e={vertices:[],holes:[],dimensions:t},n=0,i=0;i<r.length;i++){for(var a=0;a<r[i].length;a++)for(var o=0;o<t;o++)e.vertices.push(r[i][a][o]);i>0&&(n+=r[i-1].length,e.holes.push(n))}return e};var ta={},ef={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(r,t){(function(e){var n=t&&!t.nodeType&&t,i=r&&!r.nodeType&&r,a=typeof Qt=="object"&&Qt;(a.global===a||a.window===a||a.self===a)&&(e=a);var o,s=2147483647,h=36,l=1,u=26,c=38,f=700,d=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-l,_=Math.floor,w=String.fromCharCode,E;function S(V){throw RangeError(b[V])}function T(V,W){for(var X=V.length,j=[];X--;)j[X]=W(V[X]);return j}function I(V,W){var X=V.split("@"),j="";X.length>1&&(j=X[0]+"@",V=X[1]),V=V.replace(y,".");var Y=V.split("."),q=T(Y,W).join(".");return j+q}function R(V){for(var W=[],X=0,j=V.length,Y,q;X<j;)Y=V.charCodeAt(X++),Y>=55296&&Y<=56319&&X<j?(q=V.charCodeAt(X++),(q&64512)==56320?W.push(((Y&1023)<<10)+(q&1023)+65536):(W.push(Y),X--)):W.push(Y);return W}function A(V){return T(V,function(W){var X="";return W>65535&&(W-=65536,X+=w(W>>>10&1023|55296),W=56320|W&1023),X+=w(W),X}).join("")}function C(V){return V-48<10?V-22:V-65<26?V-65:V-97<26?V-97:h}function O(V,W){return V+22+75*(V<26)-((W!=0)<<5)}function N(V,W,X){var j=0;for(V=X?_(V/f):V>>1,V+=_(V/W);V>x*u>>1;j+=h)V=_(V/x);return _(j+(x+1)*V/(V+c))}function L(V){var W=[],X=V.length,j,Y=0,q=p,$=d,K,J,it,ut,at,M,k,U,H;for(K=V.lastIndexOf(m),K<0&&(K=0),J=0;J<K;++J)V.charCodeAt(J)>=128&&S("not-basic"),W.push(V.charCodeAt(J));for(it=K>0?K+1:0;it<X;){for(ut=Y,at=1,M=h;it>=X&&S("invalid-input"),k=C(V.charCodeAt(it++)),(k>=h||k>_((s-Y)/at))&&S("overflow"),Y+=k*at,U=M<=$?l:M>=$+u?u:M-$,!(k<U);M+=h)H=h-U,at>_(s/H)&&S("overflow"),at*=H;j=W.length+1,$=N(Y-ut,j,ut==0),_(Y/j)>s-q&&S("overflow"),q+=_(Y/j),Y%=j,W.splice(Y++,0,q)}return A(W)}function D(V){var W,X,j,Y,q,$,K,J,it,ut,at,M=[],k,U,H,G;for(V=R(V),k=V.length,W=p,X=0,q=d,$=0;$<k;++$)at=V[$],at<128&&M.push(w(at));for(j=Y=M.length,Y&&M.push(m);j<k;){for(K=s,$=0;$<k;++$)at=V[$],at>=W&&at<K&&(K=at);for(U=j+1,K-W>_((s-X)/U)&&S("overflow"),X+=(K-W)*U,W=K,$=0;$<k;++$)if(at=V[$],at<W&&++X>s&&S("overflow"),at==W){for(J=X,it=h;ut=it<=q?l:it>=q+u?u:it-q,!(J<ut);it+=h)G=J-ut,H=h-ut,M.push(w(O(ut+G%H,0))),J=_(G/H);M.push(w(O(J,0))),q=N(X,U,j==Y),X=0,++j}++X,++W}return M.join("")}function Q(V){return I(V,function(W){return g.test(W)?L(W.slice(4).toLowerCase()):W})}function tt(V){return I(V,function(W){return v.test(W)?"xn--"+D(W):W})}if(o={version:"1.3.2",ucs2:{decode:R,encode:A},decode:L,encode:D,toASCII:tt,toUnicode:Q},n&&i)if(r.exports==n)i.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else e.punycode=o})(Qt)})(ef,ef.exports);var AN={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}},ms={};function PN(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var CN=function(r,t,e,n){t=t||"&",e=e||"=";var i={};if(typeof r!="string"||r.length===0)return i;var a=/\+/g;r=r.split(t);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var s=r.length;o>0&&s>o&&(s=o);for(var h=0;h<s;++h){var l=r[h].replace(a,"%20"),u=l.indexOf(e),c,f,d,p;u>=0?(c=l.substr(0,u),f=l.substr(u+1)):(c=l,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),PN(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i},vs=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},MN=function(r,t,e,n){return t=t||"&",e=e||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(i){var a=encodeURIComponent(vs(i))+e;return Array.isArray(r[i])?r[i].map(function(o){return a+encodeURIComponent(vs(o))}).join(t):a+encodeURIComponent(vs(r[i]))}).join(t):n?encodeURIComponent(vs(n))+e+encodeURIComponent(vs(r)):""};ms.decode=ms.parse=CN,ms.encode=ms.stringify=MN;var RN=ef.exports,vn=AN,ON=ta.parse=gs;ta.resolve=jN,ta.resolveObject=UN,ta.format=YN,ta.Url=kr;function kr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var kN=/^([a-z0-9.+-]+:)/i,FN=/:[0-9]*$/,NN=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,DN=["<",">",'"',"`"," ","\r",`
`,"	"],LN=["{","}","|","\\","^","`"].concat(DN),rf=["'"].concat(LN),O0=["%","/","?",";","#"].concat(rf),k0=["/","?","#"],BN=255,F0=/^[+a-z0-9A-Z_-]{0,63}$/,VN=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,XN={javascript:!0,"javascript:":!0},nf={javascript:!0,"javascript:":!0},io={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},af=ms;function gs(r,t,e){if(r&&vn.isObject(r)&&r instanceof kr)return r;var n=new kr;return n.parse(r,t,e),n}kr.prototype.parse=function(r,t,e){if(!vn.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",a=r.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),r=a.join(i);var s=r;if(s=s.trim(),!e&&r.split("#").length===1){var h=NN.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=af.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=kN.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(e||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=s.substr(0,2)==="//";c&&!(l&&nf[l])&&(s=s.substr(2),this.slashes=!0)}if(!nf[l]&&(c||l&&!io[l])){for(var f=-1,d=0;d<k0.length;d++){var p=s.indexOf(k0[d]);p!==-1&&(f===-1||p<f)&&(f=p)}var m,g;f===-1?g=s.lastIndexOf("@"):g=s.lastIndexOf("@",f),g!==-1&&(m=s.slice(0,g),s=s.slice(g+1),this.auth=decodeURIComponent(m)),f=-1;for(var d=0;d<O0.length;d++){var p=s.indexOf(O0[d]);p!==-1&&(f===-1||p<f)&&(f=p)}f===-1&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var y=this.hostname.split(/\./),d=0,b=y.length;d<b;d++){var x=y[d];if(x&&!x.match(F0)){for(var _="",w=0,E=x.length;w<E;w++)x.charCodeAt(w)>127?_+="x":_+=x[w];if(!_.match(F0)){var S=y.slice(0,d),T=y.slice(d+1),I=x.match(VN);I&&(S.push(I[1]),T.unshift(I[2])),T.length&&(s="/"+T.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>BN?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=RN.toASCII(this.hostname));var R=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+R,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!XN[u])for(var d=0,b=rf.length;d<b;d++){var C=rf[d];if(s.indexOf(C)!==-1){var O=encodeURIComponent(C);O===C&&(O=escape(C)),s=s.split(C).join(O)}}var N=s.indexOf("#");N!==-1&&(this.hash=s.substr(N),s=s.slice(0,N));var L=s.indexOf("?");if(L!==-1?(this.search=s.substr(L),this.query=s.substr(L+1),t&&(this.query=af.parse(this.query)),s=s.slice(0,L)):t&&(this.search="",this.query={}),s&&(this.pathname=s),io[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",D=this.search||"";this.path=R+D}return this.href=this.format(),this};function YN(r){return vn.isString(r)&&(r=gs(r)),r instanceof kr?r.format():kr.prototype.format.call(r)}kr.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var t=this.protocol||"",e=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&vn.isObject(this.query)&&Object.keys(this.query).length&&(a=af.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||io[t])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),e=e.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),t+i+e+o+n};function jN(r,t){return gs(r,!1,!0).resolve(t)}kr.prototype.resolve=function(r){return this.resolveObject(gs(r,!1,!0)).format()};function UN(r,t){return r?gs(r,!1,!0).resolveObject(t):t}kr.prototype.resolveObject=function(r){if(vn.isString(r)){var t=new kr;t.parse(r,!1,!0),r=t}for(var e=new kr,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];e[a]=this[a]}if(e.hash=r.hash,r.href==="")return e.href=e.format(),e;if(r.slashes&&!r.protocol){for(var o=Object.keys(r),s=0;s<o.length;s++){var h=o[s];h!=="protocol"&&(e[h]=r[h])}return io[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(r.protocol&&r.protocol!==e.protocol){if(!io[r.protocol]){for(var l=Object.keys(r),u=0;u<l.length;u++){var c=l[u];e[c]=r[c]}return e.href=e.format(),e}if(e.protocol=r.protocol,!r.host&&!nf[r.protocol]){for(var b=(r.pathname||"").split("/");b.length&&!(r.host=b.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),e.pathname=b.join("/")}else e.pathname=r.pathname;if(e.search=r.search,e.query=r.query,e.host=r.host||"",e.auth=r.auth,e.hostname=r.hostname||r.host,e.port=r.port,e.pathname||e.search){var f=e.pathname||"",d=e.search||"";e.path=f+d}return e.slashes=e.slashes||r.slashes,e.href=e.format(),e}var p=e.pathname&&e.pathname.charAt(0)==="/",m=r.host||r.pathname&&r.pathname.charAt(0)==="/",g=m||p||e.host&&r.pathname,v=g,y=e.pathname&&e.pathname.split("/")||[],b=r.pathname&&r.pathname.split("/")||[],x=e.protocol&&!io[e.protocol];if(x&&(e.hostname="",e.port=null,e.host&&(y[0]===""?y[0]=e.host:y.unshift(e.host)),e.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host=null),g=g&&(b[0]===""||y[0]==="")),m)e.host=r.host||r.host===""?r.host:e.host,e.hostname=r.hostname||r.hostname===""?r.hostname:e.hostname,e.search=r.search,e.query=r.query,y=b;else if(b.length)y||(y=[]),y.pop(),y=y.concat(b),e.search=r.search,e.query=r.query;else if(!vn.isNullOrUndefined(r.search)){if(x){e.hostname=e.host=y.shift();var _=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;_&&(e.auth=_.shift(),e.host=e.hostname=_.shift())}return e.search=r.search,e.query=r.query,(!vn.isNull(e.pathname)||!vn.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!y.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var w=y.slice(-1)[0],E=(e.host||r.host||y.length>1)&&(w==="."||w==="..")||w==="",S=0,T=y.length;T>=0;T--)w=y[T],w==="."?y.splice(T,1):w===".."?(y.splice(T,1),S++):S&&(y.splice(T,1),S--);if(!g&&!v)for(;S--;S)y.unshift("..");g&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),E&&y.join("/").substr(-1)!=="/"&&y.push("");var I=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){e.hostname=e.host=I?"":y.length?y.shift():"";var _=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;_&&(e.auth=_.shift(),e.host=e.hostname=_.shift())}return g=g||e.host&&y.length,g&&!I&&y.unshift(""),y.length?e.pathname=y.join("/"):(e.pathname=null,e.path=null),(!vn.isNull(e.pathname)||!vn.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=r.auth||e.auth,e.slashes=e.slashes||r.slashes,e.href=e.format(),e},kr.prototype.parseHost=function(){var r=this.host,t=FN.exec(r);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),r=r.substr(0,r.length-t.length)),r&&(this.hostname=r)};/*!
* @pixi/constants - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/constants is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var gn;(function(r){r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2"})(gn||(gn={}));var ao;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS"})(ao||(ao={}));var ys;(function(r){r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL"})(ys||(ys={}));var gt;(function(r){r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR"})(gt||(gt={}));var Sr;(function(r){r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Sr||(Sr={}));var oo;(function(r){r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(oo||(oo={}));var di;(function(r){r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(di||(di={}));var Ae;(function(r){r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.FLOAT=5126]="FLOAT",r[r.HALF_FLOAT=36193]="HALF_FLOAT"})(Ae||(Ae={}));var cr;(function(r){r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR"})(cr||(cr={}));var Dn;(function(r){r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Dn||(Dn={}));var ea;(function(r){r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON"})(ea||(ea={}));var Zr;(function(r){r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Zr||(Zr={}));var Kr;(function(r){r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT"})(Kr||(Kr={}));var du;(function(r){r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL"})(du||(du={}));var Jr;(function(r){r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp"})(Jr||(Jr={}));var fr;(function(r){r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE"})(fr||(fr={}));var ra;(function(r){r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH"})(ra||(ra={}));/*!
* @pixi/utils - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/utils is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/Tt.RETINA_PREFIX=/@([0-9\.]+)x/,Tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var of=!1,N0="5.3.12";function WN(){of=!0}function D0(r){var t;if(!of){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=[`
 %c %c %c PixiJS `+N0+" -  "+r+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,e)}else window.console&&window.console.log("PixiJS "+N0+" - "+r+" - http://www.pixijs.com/");of=!0}}var sf;function L0(){return typeof sf>"u"&&(sf=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:Tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),e=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),n=!!(e&&e.getContextAttributes().stencil);if(e){var i=e.getExtension("WEBGL_lose_context");i&&i.loseContext()}return e=null,n}catch{return!1}}()),sf}function pi(r,t){return t===void 0&&(t=[]),t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255,t}function lf(r){var t=r.toString(16);return t="000000".substr(0,6-t.length)+t,"#"+t}function uf(r){return typeof r=="string"&&r[0]==="#"&&(r=r.substr(1)),parseInt(r,16)}function pu(r){return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)}function zN(){for(var r=[],t=[],e=0;e<32;e++)r[e]=e,t[e]=e;r[gt.NORMAL_NPM]=gt.NORMAL,r[gt.ADD_NPM]=gt.ADD,r[gt.SCREEN_NPM]=gt.SCREEN,t[gt.NORMAL]=gt.NORMAL_NPM,t[gt.ADD]=gt.ADD_NPM,t[gt.SCREEN]=gt.SCREEN_NPM;var n=[];return n.push(t),n.push(r),n}var hf=zN();function cf(r,t){return hf[t?1:0][r]}function B0(r,t,e,n){return e=e||new Float32Array(4),n||n===void 0?(e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t):(e[0]=r[0],e[1]=r[1],e[2]=r[2]),e[3]=t,e}function mu(r,t){if(t===1)return(t*255<<24)+r;if(t===0)return 0;var e=r>>16&255,n=r>>8&255,i=r&255;return e=e*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(e<<16)+(n<<8)+i}function ff(r,t,e,n){return e=e||new Float32Array(4),e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255,(n||n===void 0)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function V0(r,t){t===void 0&&(t=null);var e=r*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var n=0,i=0;n<e;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function X0(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}var HN={Float32Array,Uint32Array,Int32Array,Uint8Array};function qN(r,t){for(var e=0,n=0,i={},a=0;a<r.length;a++)n+=t[a],e+=r[a].length;for(var o=new ArrayBuffer(e*4),s=null,h=0,a=0;a<r.length;a++){var l=t[a],u=r[a],c=X0(u);i[c]||(i[c]=new HN[c](o)),s=i[c];for(var f=0;f<u.length;f++){var d=(f/l|0)*n+h,p=f%l;s[d+p]=u[f]}h+=l}return new Float32Array(o)}function bs(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function df(r){return!(r&r-1)&&!!r}function pf(r){var t=(r>65535?1:0)<<4;r>>>=t;var e=(r>255?1:0)<<3;return r>>>=e,t|=e,e=(r>15?1:0)<<2,r>>>=e,t|=e,e=(r>3?1:0)<<1,r>>>=e,t|=e,t|r>>1}function na(r,t,e){var n=r.length,i;if(!(t>=n||e===0)){e=t+e>n?n-t:e;var a=n-e;for(i=t;i<a;++i)r[i]=r[i+e];r.length=a}}function ia(r){return r===0?0:r<0?-1:1}var GN=0;function aa(){return++GN}var Y0={};function ct(r,t,e){if(e===void 0&&(e=3),!Y0[t]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+r):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+r),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+r),console.warn(n))),Y0[t]=!0}}var mf={},dr=Object.create(null),Fr=Object.create(null);function $N(){var r;for(r in dr)dr[r].destroy();for(r in Fr)Fr[r].destroy()}function ZN(){var r;for(r in dr)delete dr[r];for(r in Fr)delete Fr[r]}var vf=function(){function r(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Tt.RESOLUTION,this.resize(t,e)}return r.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},r.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),r}();function j0(r){var t=r.width,e=r.height,n=r.getContext("2d"),i=n.getImageData(0,0,t,e),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},h=null,l,u,c;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%t,c=~~(l/4/t),s.top===null&&(s.top=c),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<c)&&(s.bottom=c));return s.top!==null&&(t=s.right-s.left,e=s.bottom-s.top+1,h=n.getImageData(s.left,s.top,t,e)),{height:e,width:t,data:h}}var U0=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function KN(r){var t=U0.exec(r);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}var vu;function W0(r,t){if(t===void 0&&(t=window.location),r.indexOf("data:")===0)return"";t=t||window.location,vu||(vu=document.createElement("a")),vu.href=r;var e=ON(vu.href),n=!e.port&&t.port===""||e.port===t.port;return e.hostname!==t.hostname||!n||e.protocol!==t.protocol?"anonymous":""}function xs(r,t){var e=Tt.RETINA_PREFIX.exec(r);return e?parseFloat(e[1]):t!==void 0?t:1}const JN=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Fr,CanvasRenderTarget:vf,DATA_URI:U0,ProgramCache:mf,TextureCache:dr,clearTextureCache:ZN,correctBlendMode:cf,createIndicesForQuads:V0,decomposeDataUri:KN,deprecation:ct,destroyTextureCache:$N,determineCrossOrigin:W0,getBufferType:X0,getResolutionOfUrl:xs,hex2rgb:pi,hex2string:lf,interleaveTypedArrays:qN,isPow2:df,isWebGLSupported:L0,log2:pf,nextPow2:bs,premultiplyBlendMode:hf,premultiplyRgba:B0,premultiplyTint:mu,premultiplyTintToRgba:ff,removeItems:na,rgb2hex:pu,sayHello:D0,sign:ia,skipHello:WN,string2hex:uf,trimCanvas:j0,uid:aa,isMobile:Or,EventEmitter:ro,earcut:cs.exports,url:ta},Symbol.toStringTag,{value:"Module"}));/*!
* @pixi/math - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/math is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var so=Math.PI*2,z0=180/Math.PI,H0=Math.PI/180,xe;(function(r){r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC"})(xe||(xe={}));var $t=function(){function r(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(i),this.type=xe.RECT}return Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r,"EMPTY",{get:function(){return new r(0,0,0,0)},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},r.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},r.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},r.prototype.pad=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this},r.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),a=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=i,this.height=Math.max(a-i,0),this},r.prototype.ceil=function(t,e){t===void 0&&(t=1),e===void 0&&(e=.001);var n=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=i-this.y,this},r.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),a=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=i,this.height=a-i,this},r}(),q0=function(){function r(t,e,n){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=t,this.y=e,this.radius=n,this.type=xe.CIRC}return r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,a=this.y-e;return i*=i,a*=a,i+a<=n},r.prototype.getBounds=function(){return new $t(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},r}(),G0=function(){function r(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=e,this.width=n,this.height=i,this.type=xe.ELIP}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(e-this.y)/this.height;return n*=n,i*=i,n+i<=1},r.prototype.getBounds=function(){return new $t(this.x-this.width,this.y-this.height,this.width,this.height)},r}(),oa=function(){function r(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var i=Array.isArray(e[0])?e[0]:e;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=xe.POLY,this.closeStroke=!0}return r.prototype.clone=function(){var t=this.points.slice(),e=new r(t);return e.closeStroke=this.closeStroke,e},r.prototype.contains=function(t,e){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],h=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],c=h>e!=u>e&&t<(l-s)*((e-h)/(u-h))+s;c&&(n=!n)}return n},r}(),$0=function(){function r(t,e,n,i,a){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=t,this.y=e,this.width=n,this.height=i,this.radius=a,this.type=xe.RREC}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),i=e-(this.y+this.radius),a=this.radius*this.radius;if(n*n+i*i<=a||(n=t-(this.x+this.width-this.radius),n*n+i*i<=a)||(i=e-(this.y+this.height-this.radius),n*n+i*i<=a)||(n=t-(this.x+this.radius),n*n+i*i<=a))return!0}return!1},r}(),Fe=function(){function r(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.x=t,this.y=e}return r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},r.prototype.copyTo=function(t){return t.set(this.x,this.y),t},r.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},r.prototype.set=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x=t,this.y=e,this},r}(),sa=function(){function r(t,e,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=e}return r.prototype.clone=function(t,e){return t===void 0&&(t=this.cb),e===void 0&&(e=this.scope),new r(t,e,this._x,this._y)},r.prototype.set=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},r.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},r.prototype.copyTo=function(t){return t.set(this._x,this._y),t},r.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),r}(),ge=function(){function r(t,e,n,i,a,o){t===void 0&&(t=1),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=t,this.b=e,this.c=n,this.d=i,this.tx=a,this.ty=o}return r.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},r.prototype.set=function(t,e,n,i,a,o){return this.a=t,this.b=e,this.c=n,this.d=i,this.tx=a,this.ty=o,this},r.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},r.prototype.apply=function(t,e){e=e||new Fe;var n=t.x,i=t.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},r.prototype.applyInverse=function(t,e){e=e||new Fe;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,a=t.y;return e.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},r.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},r.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},r.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a,a=this.c,o=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=a*e-this.d*n,this.d=a*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},r.prototype.append=function(t){var e=this.a,n=this.b,i=this.c,a=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*n+t.b*a,this.c=t.c*e+t.d*i,this.d=t.c*n+t.d*a,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*a+this.ty,this},r.prototype.setTransform=function(t,e,n,i,a,o,s,h,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-h)*o,this.d=Math.cos(s-h)*o,this.tx=t-(n*this.a+i*this.c),this.ty=e-(n*this.b+i*this.d),this},r.prototype.prepend=function(t){var e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},r.prototype.decompose=function(t){var e=this.a,n=this.b,i=this.c,a=this.d,o=-Math.atan2(-i,a),s=Math.atan2(n,e),h=Math.abs(o+s);return h<1e-5||Math.abs(so-h)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(i*i+a*a),t.position.x=this.tx,t.position.y=this.ty,t},r.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,a=this.tx,o=t*i-e*n;return this.a=i/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(t*this.ty-e*a)/o,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var t=new r;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(r,"IDENTITY",{get:function(){return new r},enumerable:!1,configurable:!0}),Object.defineProperty(r,"TEMP_MATRIX",{get:function(){return new r},enumerable:!1,configurable:!0}),r}(),la=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ua=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ha=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ca=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],gf=[],Z0=[],gu=Math.sign;function QN(){for(var r=0;r<16;r++){var t=[];gf.push(t);for(var e=0;e<16;e++)for(var n=gu(la[r]*la[e]+ha[r]*ua[e]),i=gu(ua[r]*la[e]+ca[r]*ua[e]),a=gu(la[r]*ha[e]+ha[r]*ca[e]),o=gu(ua[r]*ha[e]+ca[r]*ca[e]),s=0;s<16;s++)if(la[s]===n&&ua[s]===i&&ha[s]===a&&ca[s]===o){t.push(s);break}}for(var r=0;r<16;r++){var h=new ge;h.set(la[r],ua[r],ha[r],ca[r],0,0),Z0.push(h)}}QN();var de={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(r){return la[r]},uY:function(r){return ua[r]},vX:function(r){return ha[r]},vY:function(r){return ca[r]},inv:function(r){return r&8?r&15:-r&7},add:function(r,t){return gf[r][t]},sub:function(r,t){return gf[r][de.inv(t)]},rotate180:function(r){return r^4},isVertical:function(r){return(r&3)===2},byDirection:function(r,t){return Math.abs(r)*2<=Math.abs(t)?t>=0?de.S:de.N:Math.abs(t)*2<=Math.abs(r)?r>0?de.E:de.W:t>0?r>0?de.SE:de.SW:r>0?de.NE:de.NW},matrixAppendRotationInv:function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=Z0[de.inv(t)];i.tx=e,i.ty=n,r.append(i)}},yu=function(){function r(){this.worldTransform=new ge,this.localTransform=new ge,this.position=new sa(this.onChange,this,0,0),this.scale=new sa(this.onChange,this,1,1),this.pivot=new sa(this.onChange,this,0,0),this.skew=new sa(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return r.prototype.onChange=function(){this._localID++},r.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},r.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},r.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},r.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(r.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),r.IDENTITY=new r,r}();/*!
* @pixi/display - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/display is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/Tt.SORTABLE_CHILDREN=!1;var _s=function(){function r(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return r.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},r.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},r.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?$t.EMPTY:(t=t||new $t(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},r.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},r.prototype.addQuad=function(t){var e=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=t[0],s=t[1];e=o<e?o:e,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=t[2],s=t[3],e=o<e?o:e,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=t[4],s=t[5],e=o<e?o:e,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=t[6],s=t[7],e=o<e?o:e,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=e,this.minY=n,this.maxX=i,this.maxY=a},r.prototype.addFrame=function(t,e,n,i,a){this.addFrameMatrix(t.worldTransform,e,n,i,a)},r.prototype.addFrameMatrix=function(t,e,n,i,a){var o=t.a,s=t.b,h=t.c,l=t.d,u=t.tx,c=t.ty,f=this.minX,d=this.minY,p=this.maxX,m=this.maxY,g=o*e+h*n+u,v=s*e+l*n+c;f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,m=v>m?v:m,g=o*i+h*n+u,v=s*i+l*n+c,f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,m=v>m?v:m,g=o*e+h*a+u,v=s*e+l*a+c,f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,m=v>m?v:m,g=o*i+h*a+u,v=s*i+l*a+c,f=g<f?g:f,d=v<d?v:d,p=g>p?g:p,m=v>m?v:m,this.minX=f,this.minY=d,this.maxX=p,this.maxY=m},r.prototype.addVertexData=function(t,e,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,h=e;h<n;h+=2){var l=t[h],u=t[h+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},r.prototype.addVertices=function(t,e,n,i){this.addVerticesMatrix(t.worldTransform,e,n,i)},r.prototype.addVerticesMatrix=function(t,e,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=t.a,h=t.b,l=t.c,u=t.d,c=t.tx,f=t.ty,d=this.minX,p=this.minY,m=this.maxX,g=this.maxY,v=n;v<i;v+=2){var y=e[v],b=e[v+1],x=s*y+l*b+c,_=u*b+h*y+f;d=Math.min(d,x-a),m=Math.max(m,x+a),p=Math.min(p,_-o),g=Math.max(g,_+o)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=g},r.prototype.addBounds=function(t){var e=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>a?t.maxY:a},r.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,a=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=a&&i<=o){var s=this.minX,h=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<h?i:h,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},r.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},r.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,a=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=a&&i<=o){var s=this.minX,h=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<h?i:h,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},r.prototype.pad=function(t,e){t===void 0&&(t=0),e===void 0&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},r.prototype.addFramePad=function(t,e,n,i,a,o){t-=a,e-=o,n+=a,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},r}();/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var yf=function(r,t){return yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},yf(r,t)};function bf(r,t){yf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Pe=function(r){bf(t,r);function t(){var e=r.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new yu,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new _s,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return t.mixin=function(e){for(var n=Object.keys(e),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(t.prototype,a,Object.getOwnPropertyDescriptor(e,a))}},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new $t),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new $t),e=this._localBoundsRect),this._localBounds||(this._localBounds=new _s);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,e);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},t.prototype.toGlobal=function(e,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)},t.prototype.toLocal=function(e,n,i,a){return n&&(e=n.toGlobal(e,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,n,i,a,o,s,h,l,u){return e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),h===void 0&&(h=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=e,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=h,this.pivot.x=l,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new xf),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*z0},set:function(e){this.transform.rotation=e*H0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!0,n.isMask=!1}if(this._mask=e,this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!1,n.isMask=!0}},enumerable:!1,configurable:!0}),t}(ro),xf=function(r){bf(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.sortDirty=null,e}return t}(Pe);Pe.prototype.displayObjectUpdateTransform=Pe.prototype.updateTransform;function tD(r,t){return r.zIndex===t.zIndex?r._lastSortedIndex-t._lastSortedIndex:r.zIndex-t.zIndex}var nr=function(r){bf(t,r);function t(){var e=r.call(this)||this;return e.children=[],e.sortableChildren=Tt.SORTABLE_CHILDREN,e.sortDirty=!1,e}return t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},t.prototype.addChildAt=function(e,n){if(n<0||n>this.children.length)throw new Error(e+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e},t.prototype.swapChildren=function(e,n){if(e!==n){var i=this.getChildIndex(e),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=e,this.onChildrenChange(i<a?i:a)}},t.prototype.getChildIndex=function(e){var n=this.children.indexOf(e);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(e,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);na(this.children,i,1),this.children.splice(n,0,e),this.onChildrenChange(n)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,na(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},t.prototype.removeChildAt=function(e){var n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,na(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n},t.prototype.removeChildren=function(e,n){e===void 0&&(e=0),n===void 0&&(n=this.children.length);var i=e,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var h=0;h<s.length;++h)s[h].parent=null,s[h].transform&&(s[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var h=0;h<s.length;++h)s[h].emit("removed",this),this.emit("childRemoved",s[h],this,h);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(tD),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,n=this.children.length;e<n;++e){var i=this.children[e];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var n=this.children[e];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,n){n===void 0&&(n=!1);var i=r.prototype.getLocalBounds.call(this,e);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}i&&e.mask.push(this,this._mask),this._render(e);for(var a=0,o=this.children.length;a<o;a++)this.children[a].render(e);e.batch.flush(),i&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){r.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof e=="boolean"?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var n=this.getLocalBounds().width;n!==0?this.scale.x=e/n:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var n=this.getLocalBounds().height;n!==0?this.scale.y=e/n:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),t}(Pe);nr.prototype.containerUpdateTransform=nr.prototype.updateTransform;/*!
* @pixi/accessibility - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/accessibility is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var K0={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Pe.mixin(K0);var eD=9,bu=100,rD=0,nD=0,J0=2,Q0=1,iD=-1e3,aD=-1e3,oD=2,tb=function(){function r(t){this._hookDiv=null,(Or.tablet||Or.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=bu+"px",e.style.height=bu+"px",e.style.position="absolute",e.style.top=rD+"px",e.style.left=nD+"px",e.style.zIndex=J0.toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(r.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),r.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=Q0+"px",e.style.height=Q0+"px",e.style.position="absolute",e.style.top=iD+"px",e.style.left=aD+"px",e.style.zIndex=oD.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},r.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},r.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},r.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},r.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},r.prototype.update=function(){var t=performance.now();if(!(Or.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,i=e.width/this.renderer.width*n,a=e.height/this.renderer.height*n,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var h=this.children[s];if(h.renderId!==this.renderId)h._accessibleActive=!1,na(this.children,s,1),this.div.removeChild(h._accessibleDiv),this.pool.push(h._accessibleDiv),h._accessibleDiv=null,s--;else{o=h._accessibleDiv;var l=h.hitArea,u=h.worldTransform;h.hitArea?(o.style.left=(u.tx+l.x*u.a)*i+"px",o.style.top=(u.ty+l.y*u.d)*a+"px",o.style.width=l.width*u.a*i+"px",o.style.height=l.height*u.d*a+"px"):(l=h.getBounds(),this.capHitArea(l),o.style.left=l.x*i+"px",o.style.top=l.y*a+"px",o.style.width=l.width*i+"px",o.style.height=l.height*a+"px",o.title!==h.accessibleTitle&&h.accessibleTitle!==null&&(o.title=h.accessibleTitle),o.getAttribute("aria-label")!==h.accessibleHint&&h.accessibleHint!==null&&o.setAttribute("aria-label",h.accessibleHint)),(h.accessibleTitle!==o.title||h.tabIndex!==o.tabIndex)&&(o.title=h.accessibleTitle,o.tabIndex=h.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},r.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},r.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},r.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=bu+"px",e.style.height=bu+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=J0.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},r.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},r.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},r.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},r.prototype._onKeyDown=function(t){t.keyCode===eD&&this.activate()},r.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},r.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},r}();/*!
* @pixi/ticker - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/ticker is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/Tt.TARGET_FPMS=.06;var yn;(function(r){r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY"})(yn||(yn={}));var _f=function(){function r(t,e,n,i){e===void 0&&(e=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.fn=t,this.context=e,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return r.prototype.match=function(t,e){return e===void 0&&(e=null),this.fn===t&&this.context===e},r.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},r.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},r.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},r}(),Xe=function(){function r(){var t=this;this._head=new _f(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Tt.TARGET_FPMS,this.elapsedMS=1/Tt.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return r.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(t,e,n){return n===void 0&&(n=yn.NORMAL),this._addListener(new _f(t,e,n))},r.prototype.addOnce=function(t,e,n){return n===void 0&&(n=yn.NORMAL),this._addListener(new _f(t,e,n,!0))},r.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this},r.prototype.remove=function(t,e){for(var n=this._head.next;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(r.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},r.prototype.update=function(t){t===void 0&&(t=performance.now());var e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Tt.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(r.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Tt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"shared",{get:function(){if(!r._shared){var t=r._shared=new r;t.autoStart=!0,t._protected=!0}return r._shared},enumerable:!1,configurable:!0}),Object.defineProperty(r,"system",{get:function(){if(!r._system){var t=r._system=new r;t.autoStart=!0,t._protected=!0}return r._system},enumerable:!1,configurable:!0}),r}(),eb=function(){function r(){}return r.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,yn.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Xe.shared:new Xe,t.autoStart&&this.start()},r.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},r}();/*!
* @pixi/interaction - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/interaction is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var wf=function(){function r(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Fe,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(r.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),r.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},r.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},r.prototype.reset=function(){this.isPrimary=!1},r}();/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Ef=function(r,t){return Ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Ef(r,t)};function sD(r,t){Ef(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var rb=function(){function r(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return r.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},r.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},r}(),xu=function(){function r(t){this._pointerId=t,this._flags=r.FLAGS.NONE}return r.prototype._doSet=function(t,e){e?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(r.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"none",{get:function(){return this._flags===r.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"over",{get:function(){return(this._flags&r.FLAGS.OVER)!==0},set:function(t){this._doSet(r.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightDown",{get:function(){return(this._flags&r.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(r.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftDown",{get:function(){return(this._flags&r.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(r.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),r.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),r}(),lD=function(){function r(){this._tempPoint=new Fe}return r.prototype.recursiveFindHit=function(t,e,n,i,a){if(!e||!e.visible)return!1;var o=t.data.global;a=e.interactive||a;var s=!1,h=a,l=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),h=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),l&&e.interactiveChildren&&e.children)for(var u=e.children,c=u.length-1;c>=0;c--){var f=u[c],d=this.recursiveFindHit(t,f,n,i,h);if(d){if(!f.parent)continue;h=!1,d&&(t.target&&(i=!1),s=!0)}}return a&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),n&&n(t,e,!!s))),s},r.prototype.findHit=function(t,e,n,i){this.recursiveFindHit(t,e,n,i,!1)},r}(),nb={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(r){r?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Pe.mixin(nb);var _u=1,wu={target:null,data:{global:null}},ib=function(r){sD(t,r);function t(e,n){var i=r.call(this)||this;return n=n||{},i.renderer=e,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new wf,i.mouse.identifier=_u,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[_u]=i.mouse,i.interactionDataPool=[],i.eventData=new rb,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new lD,i._tempDisplayObject=new xf,i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,n){return wu.target=null,wu.data.global=e,n||(n=this.lastObjectRendered),this.processInteractive(wu,n,null,!0),wu.target},t.prototype.setTargetElement=function(e,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Xe.system.add(this.tickerUpdate,this,yn.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(Xe.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":this.interactionDOMElement.style.cursor=n;break;case"function":n(e);break;case"object":Object.assign(this.interactionDOMElement.style,n);break}else typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,n,i){(!i.stopPropagationHint||e===i.stopsPropagatingAt)&&(i.currentTarget=e,i.type=n,e.emit(n,i),e[n]&&e[n](i))},t.prototype.delayDispatchEvent=function(e,n,i){this.delayedEvents.push({displayObject:e,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(e,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:0,height:0};var o=1/this.resolution;e.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,e.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},t.prototype.processInteractive=function(e,n,i,a){var o=this.search.findHit(e,n,i,a),s=this.delayedEvents;if(!s.length)return o;e.stopPropagationHint=!1;var h=s.length;this.delayedEvents=[];for(var l=0;l<h;l++){var u=s[l],c=u.displayObject,f=u.eventString,d=u.eventData;d.stopsPropagatingAt===c&&(d.stopPropagationHint=!0),this.dispatchEvent(c,f,d)}return o},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);if(this.autoPreventDefault&&n[0].isNormalized){var i=e.cancelable||!("cancelable"in e);i&&e.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],h=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,h);if(l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,n,i){var a=e.data,o=e.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new xu(o)),this.dispatchEvent(n,"pointerdown",e),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",e);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",e)}}},t.prototype.onPointerComplete=function(e,n,i){for(var a=this.normalizeToPointerData(e),o=a.length,s=e.target!==this.interactionDOMElement?"outside":"",h=0;h<o;h++){var l=a[h],u=this.getInteractionDataForPointerId(l),c=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,c),l.pointerType==="mouse"||l.pointerType==="pen"){var f=l.button===2;this.emit(f?"rightup"+s:"mouseup"+s,c)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,c),this.releaseInteractionDataForPointerId(l.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,n){var i=e.data,a=e.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",e),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,n,i){var a=e.data,o=e.data.identifier,s=n.trackedPointers[o],h=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var c=a.button===2,f=xu.FLAGS,d=c?f.RIGHT_DOWN:f.LEFT_DOWN,p=s!==void 0&&s.flags&d;i?(this.dispatchEvent(n,c?"rightup":"mouseup",e),p&&(this.dispatchEvent(n,c?"rightclick":"click",e),u=!0)):p&&this.dispatchEvent(n,c?"rightupoutside":"mouseupoutside",e),s&&(c?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",e),h&&this.dispatchEvent(n,"touchend",e),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",e),h&&(this.dispatchEvent(n,"tap",e),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",e),h&&this.dispatchEvent(n,"touchendoutside",e)),s&&s.none&&delete n.trackedPointers[o]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),h=this.configureInteractionEventForDOMEvent(this.eventData,o,s);h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",h),o.pointerType==="touch"&&this.emit("touchmove",h),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",h)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,n,i){var a=e.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(e,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",e),o&&this.dispatchEvent(n,"touchmove",e),s&&this.dispatchEvent(n,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},t.prototype.processPointerOverOut=function(e,n,i){var a=e.data,o=e.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",h=n.trackedPointers[o];i&&!h&&(h=n.trackedPointers[o]=new xu(o)),h!==void 0&&(i&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(n,"pointerover",e),s&&this.delayDispatchEvent(n,"mouseover",e)),s&&this.cursor===null&&(this.cursor=n.cursor)):h.over&&(h.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",e),h.none&&delete n.trackedPointers[o]))},t.prototype.onPointerOver=function(e){var n=this.normalizeToPointerData(e),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},t.prototype.getInteractionDataForPointerId=function(e){var n=e.pointerId,i;return n===_u||e.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new wf,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(e),i},t.prototype.releaseInteractionDataForPointerId=function(e){var n=this.activeInteractionData[e];n&&(delete this.activeInteractionData[e],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(e,n,i){return e.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,a=e.changedTouches.length;i<a;i++){var o=e.changedTouches[i];typeof o.button>"u"&&(o.button=e.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=e.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof window.PointerEvent))){var s=e;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=_u),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(e);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(ro);/*!
* @pixi/runner - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/runner is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var $e=function(){function r(t){this.items=[],this._name=t,this._aliasCount=0}return r.prototype.emit=function(t,e,n,i,a,o,s,h){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,c=l.items;this._aliasCount++;for(var f=0,d=c.length;f<d;f++)c[f][u](t,e,n,i,a,o,s,h);return c===this.items&&this._aliasCount--,this},r.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},r.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},r.prototype.remove=function(t){var e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},r.prototype.contains=function(t){return this.items.indexOf(t)!==-1},r.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},r.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(r.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),r}();Object.defineProperties($e.prototype,{dispatch:{value:$e.prototype.emit},run:{value:$e.prototype.emit}});/*!
* @pixi/core - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/core is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/Tt.PREFER_ENV=Or.any?gn.WEBGL:gn.WEBGL2,Tt.STRICT_TEXTURE_CACHE=!1;var Eu=[];function Sf(r,t){if(!r)return null;var e="";if(typeof r=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(e=n[1].toLowerCase())}for(var i=Eu.length-1;i>=0;--i){var a=Eu[i];if(a.test&&a.test(r,e))return new a(r,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Tf=function(r,t){return Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Tf(r,t)};function Xt(r,t){Tf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var lo=function(){function r(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new $e("setRealSize"),this.onUpdate=new $e("update"),this.onError=new $e("onError")}return r.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},r.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},r.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(r.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),r.prototype.update=function(){this.destroyed||this.onUpdate.emit()},r.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),r.prototype.style=function(t,e,n){return!1},r.prototype.dispose=function(){},r.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},r.test=function(t,e){return!1},r}(),Su=function(r){Xt(t,r);function t(e,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=r.call(this,o,s)||this,i.data=e,i}return t.prototype.upload=function(e,n,i){var a=e.gl;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Zr.UNPACK),i.width===n.width&&i.height===n.height?a.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,a.texImage2D(n.target,0,i.internalFormat,n.width,n.height,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(lo),uD={scaleMode:cr.NEAREST,format:oo.RGBA,alphaMode:Zr.NPM},ue=function(r){Xt(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,h=n.scaleMode,l=n.width,u=n.height,c=n.wrapMode,f=n.format,d=n.type,p=n.target,m=n.resolution,g=n.resourceOptions;return e&&!(e instanceof lo)&&(e=Sf(e,g),e.internal=!0),i.width=l||0,i.height=u||0,i.resolution=m||Tt.RESOLUTION,i.mipmap=o!==void 0?o:Tt.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:Tt.ANISOTROPIC_LEVEL,i.wrapMode=c||Tt.WRAP_MODE,i.scaleMode=h!==void 0?h:Tt.SCALE_MODE,i.format=f||oo.RGBA,i.type=d||Ae.UNSIGNED_BYTE,i.target=p||di.TEXTURE_2D,i.alphaMode=a!==void 0?a:Zr.UNPACK,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.uid=aa(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,n){var i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,n,i){return this.resolution=i||this.resolution,this.width=e,this.height=n,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(e,n,i){return this.resolution=i||this.resolution,this.width=e/this.resolution,this.height=n/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=df(this.realWidth)&&df(this.realHeight)},t.prototype.setResolution=function(e){var n=this.resolution;return n===e?this:(this.resolution=e,this.valid&&(this.width=this.width*n/e,this.height=this.height*n/e,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Fr[this.cacheId],delete dr[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,n,i){i===void 0&&(i=Tt.STRICT_TEXTURE_CACHE);var a=typeof e=="string",o=null;a?o=e:(e._pixiId||(e._pixiId="pixiid_"+aa()),o=e._pixiId);var s=Fr[o];if(a&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||(s=new t(e,n),s.cacheId=o,t.addToCache(s,o)),s},t.fromBuffer=function(e,n,i,a){e=e||new Float32Array(n*i*4);var o=new Su(e,{width:n,height:i}),s=e instanceof Float32Array?Ae.FLOAT:Ae.UNSIGNED_BYTE;return new t(o,Object.assign(uD,a||{width:n,height:i,type:s}))},t.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),Fr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Fr[n]=e)},t.removeFromCache=function(e){if(typeof e=="string"){var n=Fr[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete Fr[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)delete Fr[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(ro),If=function(r){Xt(t,r);function t(e,n){var i=this,a=n||{},o=a.width,s=a.height;i=r.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var h=0;h<e;h++){var l=new ue;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(e,n){for(var i=0;i<this.length;i++)!e[i]||(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof lo?this.addResourceAt(e[i],i):this.addResourceAt(Sf(e[i],n),i))},t.prototype.dispose=function(){for(var e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this},t.prototype.bind=function(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");r.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},t.prototype.unbind=function(e){r.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=e.items[0],o=a.realWidth,s=a.realHeight;return e.resize(o,s),Promise.resolve(e)}),this._load},t}(lo),ab=function(r){Xt(t,r);function t(e,n){var i=this,a=n||{},o=a.width,s=a.height,h,l;return Array.isArray(e)?(h=e,l=e.length):l=e,i=r.call(this,l,{width:o,height:s})||this,h&&i.initFromArray(h,n),i}return t.prototype.addBaseTextureAt=function(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(e){r.prototype.bind.call(this,e),e.target=di.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,n,i){var a=this,o=a.length,s=a.itemDirtyIds,h=a.items,l=e.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.format,this._width,this._height,o,0,n.format,n.type,null);for(var u=0;u<o;u++){var c=h[u];s[u]<c.dirtyId&&(s[u]=c.dirtyId,c.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,n.format,n.type,c.resource.source))}return!0},t}(If),Ln=function(r){Xt(t,r);function t(e){var n=this,i=e,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=r.call(this,a,o)||this,n.source=e,n.noSubImage=!1,n}return t.crossOrigin=function(e,n,i){i===void 0&&n.indexOf("data:")!==0?e.crossOrigin=W0(n):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(e,n,i,a){var o=e.gl,s=n.realWidth,h=n.realHeight;return a=a||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Zr.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===h?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,n.type,a):(i.width=s,i.height=h,o.texImage2D(n.target,0,n.format,n.format,n.type,a)),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(n,i),r.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(lo),Af=function(r){Xt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.test=function(e){var n=window.OffscreenCanvas;return n&&e instanceof n?!0:e instanceof HTMLCanvasElement},t}(Ln),ob=function(r){Xt(t,r);function t(e,n){var i=this,a=n||{},o=a.width,s=a.height,h=a.autoLoad,l=a.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=r.call(this,6,{width:o,height:s})||this;for(var u=0;u<t.SIDES;u++)i.items[u].target=di.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,e&&i.initFromArray(e,n),h!==!1&&i.load(),i}return t.prototype.bind=function(e){r.prototype.bind.call(this,e),e.target=di.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,n,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=di.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this},t.prototype.upload=function(e,n,i){for(var a=this.itemDirtyIds,o=0;o<t.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(e,s,i),a[o]=s.dirtyId):a[o]<-1&&(e.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(If),Pf=function(r){Xt(t,r);function t(e,n){var i=this;if(n=n||{},!(e instanceof HTMLImageElement)){var a=new Image;Ln.crossOrigin(a,e,n.crossorigin),a.src=e,e=a}return i=r.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Tt.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,n.premultiplyAlpha!==void 0&&(i.premultiplyAlpha=n.premultiplyAlpha),i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(e){var n=this;return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(h){a(h),n.onError.emit(h)})}),this._load)},t.prototype.process=function(){var e=this,n=this.source;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(n,0,0,n.width,n.height,{premultiplyAlpha:this.alphaMode===Zr.UNPACK?"premultiply":"none"}).then(function(i){return e.destroyed?Promise.reject():(e.bitmap=i,e.update(),e._process=null,Promise.resolve(e))}),this._process)},t.prototype.upload=function(e,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return r.prototype.upload.call(this,e,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(r.prototype.upload.call(this,e,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var h=o[s];if(h!==i&&h.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,r.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return typeof e=="string"||e instanceof HTMLImageElement},t}(Ln),sb=function(r){Xt(t,r);function t(e,n){var i=this;return n=n||{},i=r.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=e,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var e=this,n=new Image;Ln.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!e._resolve||(n.onerror=null,e.onError.emit(i))},n.onload=function(){if(e._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*e.scale,s=a*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/a*i,s=e._overrideHeight||e._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var h=e.source;h.width=o,h.height=s,h._pixiId="canvas_"+aa(),h.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),e._resolve(),e._resolve=null}}},t.getSize=function(e){var n=t.SVG_SIZE.exec(e),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){r.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,n){return n==="svg"||typeof e=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||typeof e=="string"&&e.indexOf("<svg")===0},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Ln),lb=function(r){Xt(t,r);function t(e,n){var i=this;if(n=n||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);var o=e[0].src||e[0];Ln.crossOrigin(a,o,n.crossorigin);for(var s=0;s<e.length;++s){var h=document.createElement("source"),l=e[s],u=l.src,c=l.mime;u=u||e[s];var f=u.split("?").shift().toLowerCase(),d=f.substr(f.lastIndexOf(".")+1);c=c||t.MIME_TYPES[d]||"video/"+d,h.src=u,h.type=c,a.appendChild(h)}e=a}return i=r.call(this,e)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(e){if(!this.destroyed){var n=Xe.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(r.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){e.valid?i(e):(e._resolve=i,n.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return e.readyState===3||e.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Xe.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Xe.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(e.videoWidth,e.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&Xe.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),r.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Xe.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Xe.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,n){return e instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Ln),ub=function(r){Xt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(Ln);Eu.push(Pf,ub,Af,lb,sb,Su,ob,ab);var hD={Resource:lo,BaseImageResource:Ln,INSTALLED:Eu,autoDetectResource:Sf,AbstractMultiResource:If,ArrayResource:ab,BufferResource:Su,CanvasResource:Af,CubeResource:ob,ImageResource:Pf,SVGResource:sb,VideoResource:lb,ImageBitmapResource:ub},pr=function(){function r(t){this.renderer=t}return r.prototype.destroy=function(){this.renderer=null},r}(),cD=function(r){Xt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.upload=function(e,n,i){var a=e.gl;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Zr.UNPACK),i.width===n.width&&i.height===n.height?a.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(i.width=n.width,i.height=n.height,a.texImage2D(n.target,0,e.context.webGLVersion===1?a.DEPTH_COMPONENT:a.DEPTH_COMPONENT16,n.width,n.height,0,n.format,n.type,this.data)),!0},t}(Su),Tu=function(){function r(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new $e("disposeFramebuffer"),this.multisample=ra.NONE}return Object.defineProperty(r.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),r.prototype.addColorTexture=function(t,e){return t===void 0&&(t=0),this.colorTextures[t]=e||new ue(null,{scaleMode:cr.NEAREST,resolution:1,mipmap:ea.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ue(new cD(null,{width:this.width,height:this.height}),{scaleMode:cr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ea.OFF,format:oo.DEPTH_COMPONENT,type:Ae.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(t/a,e/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(t/a,e/a)}}},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},r}(),ws=function(r){Xt(t,r);function t(e){var n=this;if(typeof e=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:a,scaleMode:o,resolution:s}}n=r.call(this,null,e)||this;var h=e||{},l=h.width,u=h.height;return n.mipmap=0,n.width=Math.ceil(l)||100,n.height=Math.ceil(u)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Tu(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(e,n){e=Math.ceil(e),n=Math.ceil(n),this.framebuffer.resize(e*this.resolution,n*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),r.prototype.dispose.call(this)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(ue),Cf=function(){function r(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return r.prototype.set=function(t,e,n){var i=e.width,a=e.height;if(n){var o=t.width/2/i,s=t.height/2/a,h=t.x/i+o,l=t.y/a+s;n=de.add(n,de.NW),this.x0=h+o*de.uX(n),this.y0=l+s*de.uY(n),n=de.add(n,2),this.x1=h+o*de.uX(n),this.y1=l+s*de.uY(n),n=de.add(n,2),this.x2=h+o*de.uX(n),this.y2=l+s*de.uY(n),n=de.add(n,2),this.x3=h+o*de.uX(n),this.y3=l+s*de.uY(n)}else this.x0=t.x/i,this.y0=t.y/a,this.x1=(t.x+t.width)/i,this.y1=t.y/a,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/a,this.x3=t.x/i,this.y3=(t.y+t.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},r}(),hb=new Cf,Ot=function(r){Xt(t,r);function t(e,n,i,a,o,s){var h=r.call(this)||this;if(h.noFrame=!1,n||(h.noFrame=!0,n=new $t(0,0,1,1)),e instanceof t&&(e=e.baseTexture),h.baseTexture=e,h._frame=n,h.trim=a,h.valid=!1,h._uvs=hb,h.uvMatrix=null,h.orig=i||n,h._rotate=Number(o||0),o===!0)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=s?new Fe(s.x,s.y):new Fe(0,0),h._updateID=0,h.textureCacheIds=[],e.valid?h.noFrame?e.valid&&h.onBaseTextureUpdated(e):h.frame=n:e.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&e.on("update",h.onBaseTextureUpdated,h),h}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture;n&&n.url&&dr[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===hb&&(this._uvs=new Cf),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=Tt.STRICT_TEXTURE_CACHE);var a=typeof e=="string",o=null;a?o=e:(e._pixiId||(e._pixiId="pixiid_"+aa()),o=e._pixiId);var s=dr[o];if(a&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(n.resolution||(n.resolution=xs(e)),s=new t(new ue(e,n)),s.baseTexture.cacheId=o,ue.addToCache(s.baseTexture,o),t.addToCache(s,o)),s},t.fromURL=function(e,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=t.from(e,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},t.fromBuffer=function(e,n,i,a){return new t(ue.fromBuffer(e,n,i,a))},t.fromLoader=function(e,n,i){var a=new Pf(e);a.url=n;var o=new ue(a,{scaleMode:Tt.SCALE_MODE,resolution:xs(n)}),s=new t(o);return i||(i=n),ue.addToCache(s.baseTexture,i),t.addToCache(s,i),i!==n&&(ue.addToCache(s.baseTexture,n),t.addToCache(s,n)),s},t.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),dr[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),dr[n]=e)},t.removeFromCache=function(e){if(typeof e=="string"){var n=dr[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete dr[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)dr[e.textureCacheIds[a]]===e&&delete dr[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var n=e.x,i=e.y,a=e.width,o=e.height,s=n+a>this.baseTexture.width,h=i+o>this.baseTexture.height;if(s||h){var l=s&&h?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,c="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+c))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(ro);function fD(){var r=document.createElement("canvas");r.width=16,r.height=16;var t=r.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Ot(new ue(new Af(r)))}function Iu(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}Ot.EMPTY=new Ot(new ue),Iu(Ot.EMPTY),Iu(Ot.EMPTY.baseTexture),Ot.WHITE=fD(),Iu(Ot.WHITE),Iu(Ot.WHITE.baseTexture);var fa=function(r){Xt(t,r);function t(e,n){var i=this,a=null;if(!(e instanceof ws)){var o=arguments[1],s=arguments[2],h=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),a=arguments[0],n=null,e=new ws({width:o,height:s,scaleMode:h,resolution:l})}return i=r.call(this,e,n)||this,i.legacyRenderer=a,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,n,i){i===void 0&&(i=!0),e=Math.ceil(e),n=Math.ceil(n),this.valid=e>0&&n>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=n,i&&this.baseTexture.resize(e,n),this.updateUvs()},t.prototype.setResolution=function(e){var n=this.baseTexture;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))},t.create=function(e){return typeof e=="number"&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new ws(e))},t}(Ot),cb=function(){function r(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return r.prototype.createTexture=function(t,e){var n=new ws(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new fa(n)},r.prototype.getOptimalTexture=function(t,e,n){n===void 0&&(n=1);var i=r.SCREEN_KEY;t*=n,e*=n,(!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight)&&(t=bs(t),e=bs(e),i=(t&65535)<<16|e&65535),this.texturePool[i]||(this.texturePool[i]=[]);var a=this.texturePool[i].pop();return a||(a=this.createTexture(t,e)),a.filterPoolKey=i,a.setResolution(n),a},r.prototype.getFilterTexture=function(t,e){var n=this.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},r.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},r.prototype.returnFilterTexture=function(t){this.returnTexture(t)},r.prototype.clear=function(t){if(t=t!==!1,t)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},r.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){var e=r.SCREEN_KEY,n=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},r.SCREEN_KEY="screen",r}(),Mf=function(){function r(t,e,n,i,a,o,s){e===void 0&&(e=0),n===void 0&&(n=!1),i===void 0&&(i=5126),this.buffer=t,this.size=e,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return r.prototype.destroy=function(){this.buffer=null},r.from=function(t,e,n,i,a){return new r(t,e,n,i,a)},r}(),dD=0,Ye=function(){function r(t,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=dD++,this.disposeRunner=new $e("disposeBuffer")}return r.prototype.update=function(t){this.data=t||this.data,this._updateID++},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.data=null},r.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new r(t)},r}();function fb(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}var pD={Float32Array,Uint32Array,Int32Array,Uint8Array};function mD(r,t){for(var e=0,n=0,i={},a=0;a<r.length;a++)n+=t[a],e+=r[a].length;for(var o=new ArrayBuffer(e*4),s=null,h=0,a=0;a<r.length;a++){var l=t[a],u=r[a],c=fb(u);i[c]||(i[c]=new pD[c](o)),s=i[c];for(var f=0;f<u.length;f++){var d=(f/l|0)*n+h,p=f%l;s[d+p]=u[f]}h+=l}return new Float32Array(o)}var db={5126:4,5123:2,5121:1},vD=0,gD={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},uo=function(){function r(t,e){t===void 0&&(t=[]),e===void 0&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=vD++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new $e("disposeGeometry"),this.refCount=0}return r.prototype.addAttribute=function(t,e,n,i,a,o,s,h){if(n===void 0&&(n=0),i===void 0&&(i=!1),h===void 0&&(h=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ye||(e instanceof Array&&(e=new Float32Array(e)),e=new Ye(e));var l=t.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],e,n,i,a);return this}var c=this.buffers.indexOf(e);return c===-1&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new Mf(c,n,i,a,o,s,h),this.instanced=this.instanced||h,this},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},r.prototype.addIndex=function(t){return t instanceof Ye||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ye(t)),t.index=!0,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},r.prototype.getIndex=function(){return this.indexBuffer},r.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],e=[],n=new Ye,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];t.push(o.data),e.push(a.size*db[a.type]/4),a.buffer=0}for(n.data=mD(t,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},r.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t],n=this.buffers[e.buffer];return n.data.length/(e.stride/4||e.size)}return 0},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},r.prototype.clone=function(){for(var t=new r,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ye(this.buffers[e].data.slice(0));for(var e in this.attributes){var n=this.attributes[e];t.attributes[e]=new Mf(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},r.merge=function(t){for(var e=new r,n=[],i=[],a=[],o,s=0;s<t.length;s++){o=t[s];for(var h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,a[h]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new gD[fb(o.buffers[s].data)](i[s]),e.buffers[s]=new Ye(n[s]);for(var s=0;s<t.length;s++){o=t[s];for(var h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,a[h]),a[h]+=o.buffers[h].data.length}if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.index=!0;for(var l=0,u=0,c=0,f=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){f=s;break}for(var s in o.attributes){var d=o.attributes[s];(d.buffer|0)===f&&(u+=d.size*db[d.type]/4)}for(var s=0;s<t.length;s++){for(var p=t[s].indexBuffer.data,h=0;h<p.length;h++)e.indexBuffer.data[h+c]+=l;l+=o.buffers[f].data.length/u,c+=p.length}}return e},r}(),pb=function(r){Xt(t,r);function t(){var e=r.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return t}(uo),Rf=function(r){Xt(t,r);function t(){var e=r.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ye(e.vertices),e.uvBuffer=new Ye(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return t.prototype.map=function(e,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/e.width,this.uvs[3]=a,this.uvs[4]=i+n.width/e.width,this.uvs[5]=a+n.height/e.height,this.uvs[6]=i,this.uvs[7]=a+n.height/e.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(uo),yD=0,mi=function(){function r(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=yD++,this.static=!!e}return r.prototype.update=function(){this.dirtyId++},r.prototype.add=function(t,e,n){this.uniforms[t]=new r(e,n)},r.from=function(t,e){return new r(t,e)},r}(),mb=function(){function r(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new $t,this.destinationFrame=new $t,this.filters=[]}return r.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},r}(),vb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.defaultFilterStack=[{}],n.texturePool=new cb,n.texturePool.setScreenSize(e.view),n.statePool=[],n.quad=new pb,n.quadUv=new Rf,n.tempRect=new $t,n.activeState={},n.globalUniforms=new mi({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return t.prototype.push=function(e,n){for(var i=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new mb,s=n[0].resolution,h=n[0].padding,l=n[0].autoFit,u=n[0].legacy,c=1;c<n.length;c++){var f=n[c];s=Math.min(s,f.resolution),h=this.useMaxPadding?Math.max(h,f.padding):h+f.padding,l=l&&f.autoFit,u=u||f.legacy}a.length===1&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),a.push(o),o.resolution=s,o.legacy=u,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(h),l&&o.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),o.sourceFrame.ceil(s),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,s),o.filters=n,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;var d=this.tempRect;d.width=o.sourceFrame.width,d.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,i.renderTexture.bind(o.renderTexture,o.sourceFrame,d),i.renderTexture.clear()},t.prototype.pop=function(){var e=this.defaultFilterStack,n=e.pop(),i=n.filters;this.activeState=n;var a=this.globalUniforms.uniforms;a.outputFrame=n.sourceFrame,a.resolution=n.resolution;var o=a.inputSize,s=a.inputPixel,h=a.inputClamp;if(o[0]=n.destinationFrame.width,o[1]=n.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*n.resolution,s[1]=o[1]*n.resolution,s[2]=1/s[0],s[3]=1/s[1],h[0]=.5*s[2],h[1]=.5*s[3],h[2]=n.sourceFrame.width*o[2]-.5*s[2],h[3]=n.sourceFrame.height*o[3]-.5*s[3],n.legacy){var l=a.filterArea;l[0]=n.destinationFrame.width,l[1]=n.destinationFrame.height,l[2]=n.sourceFrame.x,l[3]=n.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(n.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,n.renderTexture,u.renderTexture,Kr.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var c=n.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,n.resolution);f.filterFrame=c.filterFrame;var d=0;for(d=0;d<i.length-1;++d){i[d].apply(this,c,f,Kr.CLEAR,n);var p=c;c=f,f=p}i[d].apply(this,c,u.renderTexture,Kr.BLEND,n),this.returnFilterTexture(c),this.returnFilterTexture(f)}n.clear(),this.statePool.push(n)},t.prototype.bindAndClear=function(e,n){if(n===void 0&&(n=Kr.CLEAR),e&&e.filterFrame){var i=this.tempRect;i.width=e.filterFrame.width,i.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,i)}else this.renderer.renderTexture.bind(e);typeof n=="boolean"&&(n=n?Kr.CLEAR:Kr.BLEND,ct("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(n===Kr.CLEAR||n===Kr.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},t.prototype.applyFilter=function(e,n,i,a){var o=this.renderer;this.bindAndClear(i,a),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,o.state.set(e.state),o.shader.bind(e),e.legacy?(this.quadUv.map(n._frame,n.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Sr.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Sr.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,n){var i=this.activeState,a=i.sourceFrame,o=i.destinationFrame,s=n._texture.orig,h=e.set(o.width,0,0,o.height,a.x,a.y),l=n.worldTransform.copyTo(ge.TEMP_MATRIX);return l.invert(),h.prepend(l),h.scale(1/s.width,1/s.height),h.translate(n.anchor.x,n.anchor.y),h},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,n,i){return i===void 0&&(i=1),this.texturePool.getOptimalTexture(e,n,i)},t.prototype.getFilterTexture=function(e,n){if(typeof e=="number"){var i=e;e=n,n=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(pr),Es=function(){function r(t){this.renderer=t}return r.prototype.flush=function(){},r.prototype.destroy=function(){this.renderer=null},r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.render=function(t){},r}(),gb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.emptyRenderer=new Es(e),n.currentRenderer=n.emptyRenderer,n}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,n){for(var i=this.renderer.texture.boundTextures,a=n-1;a>=0;--a)e[a]=i[a]||null,e[a]&&(e[a]._batchLocation=a)},t.prototype.boundArray=function(e,n,i,a){for(var o=e.elements,s=e.ids,h=e.count,l=0,u=0;u<h;u++){var c=o[u],f=c._batchLocation;if(f>=0&&f<a&&n[f]===c){s[u]=f;continue}for(;l<a;){var d=n[l];if(d&&d._batchEnabled===i&&d._batchLocation===l){l++;continue}s[u]=l,c._batchLocation=l,n[l]=c;break}}},t}(pr),yb=0,bb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),e.view.addEventListener("webglcontextlost",n.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=yb++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=yb++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var n=this.createContext(this.renderer.view,e);this.initFromContext(n)},t.prototype.createContext=function(e,n){var i;if(Tt.PREFER_ENV>=gn.WEBGL2&&(i=e.getContext("webgl2",n)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var n=e.getContextAttributes(),i="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;i&&(this.webGLVersion=2),n.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var a=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(pr),xb=function(){function r(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=ra.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return r}(),bD=new $t,_b=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new Tu(10,10),n.msaaSamples=null,n}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new $t,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Tt.PREFER_ENV===gn.WEBGL_LEGACY&&(n=null,i=null),n?e.drawBuffers=function(a){return n.drawBuffersWEBGL(a)}:(this.hasMRT=!1,e.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,n){var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,n,i,a){var o=this.viewport;(o.width!==i||o.height!==a||o.x!==e||o.y!==n)&&(o.x=e,o.y=n,o.width=i,o.height=a,this.gl.viewport(e,n,i,a))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,n,i,a,o){o===void 0&&(o=ys.COLOR|ys.DEPTH);var s=this.gl;s.clearColor(e,n,i,a),s.clear(o)},t.prototype.initFramebuffer=function(e){var n=this.gl,i=new xb(n.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i},t.prototype.resizeFramebuffer=function(e){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID];i.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));for(var a=e.colorTextures,o=0;o<a.length;o++)this.renderer.texture.bind(a[o],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&(i.msaaBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer));for(var s=[],h=0;h<o;h++)if(!(h===0&&i.multisample>1)){var l=e.colorTextures[h],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,l.target,u._glTextures[this.CONTEXT_UID].texture,0),s.push(n.COLOR_ATTACHMENT0+h)}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var c=this.writeDepthTexture;if(c){var f=e.depthTexture;this.renderer.texture.bind(f,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0)}}!i.stencil&&(e.stencil||e.depth)&&(i.stencil=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),e.depthTexture||n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil))},t.prototype.detectSamples=function(e){var n=this.msaaSamples,i=ra.NONE;if(e<=1||n===null)return i;for(var a=0;a<n.length;a++)if(n[a]<=e){i=n[a];break}return i===1&&(i=ra.NONE),i},t.prototype.blit=function(e,n,i){var a=this,o=a.current,s=a.renderer,h=a.gl,l=a.CONTEXT_UID;if(s.context.webGLVersion===2&&o){var u=o.glFramebuffers[l];if(u){if(!e){if(u.multisample<=1)return;u.blitFramebuffer||(u.blitFramebuffer=new Tu(o.width,o.height),u.blitFramebuffer.addColorTexture(0,o.colorTextures[0])),e=u.blitFramebuffer,e.width=o.width,e.height=o.height}n||(n=bD,n.width=o.width,n.height=o.height),i||(i=n);var c=n.width===i.width&&n.height===i.height;this.bind(e),h.bindFramebuffer(h.READ_FRAMEBUFFER,u.framebuffer),h.blitFramebuffer(n.x,n.y,n.width,n.height,i.x,i.y,i.width,i.height,h.COLOR_BUFFER_BIT,c?h.NEAREST:h.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,n){var i=e.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(i){delete e.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),n||(a.deleteFramebuffer(i.framebuffer),i.stencil&&a.deleteRenderbuffer(i.stencil))}},t.prototype.disposeAll=function(e){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<n.length;i++)this.disposeFramebuffer(n[i],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var n=e.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){e.enableStencil();var i=e.width,a=e.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,a),n.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new $t},t}(pr),xD=function(){function r(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return r}(),Of={5126:4,5123:2,5121:1},wb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var i=this.renderer.context.extensions.vertexArrayObject;Tt.PREFER_ENV===gn.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=function(){return i.createVertexArrayOES()},e.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},e.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var a=e.getExtension("ANGLE_instanced_arrays");a?(e.vertexAttribDivisor=function(o,s){return a.vertexAttribDivisorANGLE(o,s)},e.drawElementsInstanced=function(o,s,h,l,u){return a.drawElementsInstancedANGLE(o,s,h,l,u)},e.drawArraysInstanced=function(o,s,h,l){return a.drawArraysInstancedANGLE(o,s,h,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},t.prototype.bind=function(e,n){n=n||this.renderer.shader.shader;var i=this.gl,a=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;a||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=a={},o=!0);var s=a[n.program.id]||this.initGeometryVao(e,n.program,o);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(e,n.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,n=this.gl,i=0;i<e.buffers.length;i++){var a=e.buffers[i],o=a._glBuffers[this.CONTEXT_UID];if(a._updateID!==o.updateID){o.updateID=a._updateID;var s=a.index?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;if(n.bindBuffer(s,o.buffer),this._boundBuffer=o,o.byteLength>=a.data.byteLength)n.bufferSubData(s,0,a.data);else{var h=a.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=a.data.byteLength,n.bufferData(s,a.data,h)}}}},t.prototype.checkCompatibility=function(e,n){var i=e.attributes,a=n.attributeData;for(var o in a)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},t.prototype.getSignature=function(e,n){var i=e.attributes,a=n.attributeData,o=["g",e.id];for(var s in i)a[s]&&o.push(s);return o.join("-")},t.prototype.initGeometryVao=function(e,n,i){i===void 0&&(i=!0),this.checkCompatibility(e,n);var a=this.gl,o=this.CONTEXT_UID,s=this.getSignature(e,n),h=e.glVertexArrayObjects[this.CONTEXT_UID],l=h[s];if(l)return h[n.id]=l,l;var u=e.buffers,c=e.attributes,f={},d={};for(var p in u)f[p]=0,d[p]=0;for(var p in c)!c[p].size&&n.attributeData[p]?c[p].size=n.attributeData[p].size:c[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[c[p].buffer]+=c[p].size*Of[c[p].type];for(var p in c){var m=c[p],g=m.size;m.stride===void 0&&(f[m.buffer]===g*Of[m.type]?m.stride=0:m.stride=f[m.buffer]),m.start===void 0&&(m.start=d[m.buffer],d[m.buffer]+=g*Of[m.type])}l=a.createVertexArray(),a.bindVertexArray(l);for(var v=0;v<u.length;v++){var y=u[v];y._glBuffers[o]||(y._glBuffers[o]=new xD(a.createBuffer()),this.managedBuffers[y.id]=y,y.disposeRunner.add(this)),i&&y._glBuffers[o].refCount++}return this.activateVao(e,n),this._activeVao=l,h[n.id]=l,h[s]=l,l},t.prototype.disposeBuffer=function(e,n){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var i=e._glBuffers[this.CONTEXT_UID],a=this.gl;e.disposeRunner.remove(this),i&&(n||a.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(e,n){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers;if(e.disposeRunner.remove(this),!!i){for(var s=0;s<o.length;s++){var h=o[s]._glBuffers[this.CONTEXT_UID];h.refCount--,h.refCount===0&&!n&&this.disposeBuffer(o[s],n)}if(!n){for(var l in i)if(l[0]==="g"){var u=i[l];this._activeVao===u&&this.unbind(),a.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var n=Object.keys(this.managedGeometries),i=0;i<n.length;i++)this.disposeGeometry(this.managedGeometries[n[i]],e);n=Object.keys(this.managedBuffers);for(var i=0;i<n.length;i++)this.disposeBuffer(this.managedBuffers[n[i]],e)},t.prototype.activateVao=function(e,n){var i=this.gl,a=this.CONTEXT_UID,o=e.buffers,s=e.attributes;e.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[a].buffer);var h=null;for(var l in s){var u=s[l],c=o[u.buffer],f=c._glBuffers[a];if(n.attributeData[l]){h!==f&&(i.bindBuffer(i.ARRAY_BUFFER,f.buffer),h=f);var d=n.attributeData[l].location;if(i.enableVertexAttribArray(d),i.vertexAttribPointer(d,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)i.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,n,i,a){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var h=s.indexBuffer.data.BYTES_PER_ELEMENT,l=h===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(e,n||s.indexBuffer.data.length,l,(i||0)*h,a||1):o.drawElements(e,n||s.indexBuffer.data.length,l,(i||0)*h):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(e,i,n||s.getSize(),a||1):o.drawArrays(e,i,n||s.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(pr),Eb=function(){function r(t){t===void 0&&(t=null),this.type=fr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return r.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=fr.NONE,this.autoDetect=!0),this._target=null},r.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},r}();function Sb(r,t,e){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function Tb(r,t,e,n){var i=Sb(r,r.VERTEX_SHADER,t),a=Sb(r,r.FRAGMENT_SHADER,e),o=r.createProgram();if(r.attachShader(o,i),r.attachShader(o,a),n)for(var s in n)r.bindAttribLocation(o,n[s],s);return r.linkProgram(o),r.getProgramParameter(o,r.LINK_STATUS)||(r.getShaderParameter(i,r.COMPILE_STATUS)||(console.warn(t),console.error(r.getShaderInfoLog(i))),r.getShaderParameter(a,r.COMPILE_STATUS)||(console.warn(e),console.error(r.getShaderInfoLog(a))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",r.getProgramParameter(o,r.VALIDATE_STATUS)),console.error("gl.getError()",r.getError()),r.getProgramInfoLog(o)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(o)),r.deleteProgram(o),o=null),r.deleteShader(i),r.deleteShader(a),o}function kf(r){for(var t=new Array(r),e=0;e<t.length;e++)t[e]=!1;return t}function Ib(r,t){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return kf(2*t);case"bvec3":return kf(3*t);case"bvec4":return kf(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ab={},Ss=Ab;function Pb(){if(Ss===Ab||Ss&&Ss.isContextLost()){var r=document.createElement("canvas"),t=void 0;Tt.PREFER_ENV>=gn.WEBGL2&&(t=r.getContext("webgl2",{})),t||(t=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Ss=t}return Ss}var Au;function _D(){if(!Au){Au=Jr.MEDIUM;var r=Pb();if(r&&r.getShaderPrecisionFormat){var t=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);Au=t.precision?Jr.HIGH:Jr.MEDIUM}}return Au}function Cb(r,t,e){if(r.substring(0,9)!=="precision"){var n=t;return t===Jr.HIGH&&e!==Jr.HIGH&&(n=Jr.MEDIUM),"precision "+n+` float;
`+r}else if(e!==Jr.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}var wD={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ED(r){return wD[r]}var Pu=null,Mb={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Rb(r,t){if(!Pu){var e=Object.keys(Mb);Pu={};for(var n=0;n<e.length;++n){var i=e[n];Pu[r[i]]=Mb[i]}}return Pu[t]}var Cu=[{test:function(r){return r.type==="float"&&r.size===1},code:function(r){return`
            if(uv["`+r+'"] !== ud["'+r+`"].value)
            {
                ud["`+r+'"].value = uv["'+r+`"]
                gl.uniform1f(ud["`+r+'"].location, uv["'+r+`"])
            }
            `}},{test:function(r){return(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray},code:function(r){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+r+`"], t);

            if(ud["`+r+`"].value !== t)
            {
                ud["`+r+`"].value = t;
                gl.uniform1i(ud["`+r+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(r,t){return r.type==="mat3"&&r.size===1&&t.a!==void 0},code:function(r){return`
            gl.uniformMatrix3fv(ud["`+r+'"].location, false, uv["'+r+`"].toArray(true));
            `}},{test:function(r,t){return r.type==="vec2"&&r.size===1&&t.x!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+r+`"].location, v.x, v.y);
                }`}},{test:function(r){return r.type==="vec2"&&r.size===1},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+r+`"].location, v[0], v[1]);
                }
            `}},{test:function(r,t){return r.type==="vec4"&&r.size===1&&t.width!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+r+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(r){return r.type==="vec4"&&r.size===1},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+r+`"].location, v[0], v[1], v[2], v[3])
                }`}}],SD={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},TD={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function ID(r,t){var e=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var n in r.uniforms){var i=t[n];if(!i){r.uniforms[n].group&&e.push(`
                    renderer.shader.syncUniformGroup(uv["`+n+`"], syncData);
                `);continue}for(var a=r.uniforms[n],o=!1,s=0;s<Cu.length;s++)if(Cu[s].test(i,a)){e.push(Cu[s].code(n,a)),o=!0;break}if(!o){var h=i.size===1?SD:TD,l=h[i.type].replace("location",'ud["'+n+'"].location');e.push(`
            cv = ud["`+n+`"].value;
            v = uv["`+n+`"];
            `+l+";")}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}var AD=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function PD(r){for(var t="",e=0;e<r;++e)e>0&&(t+=`
else `),e<r-1&&(t+="if(test == "+e+".0){}");return t}function Ob(r,t){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var n=AD.replace(/%forloop%/gi,PD(r));if(t.shaderSource(e,n),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))r=r/2|0;else break}return r}var Ts;function CD(){if(typeof Ts=="boolean")return Ts;try{var r=new Function("param1","param2","param3","return param1[param2] === param3;");Ts=r({a:"b"},"a","b")===!0}catch{Ts=!1}return Ts}var MD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,RD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,OD=0,Mu={},Is=function(){function r(t,e,n){n===void 0&&(n="pixi-shader"),this.id=OD++,this.vertexSrc=t||r.defaultVertexSrc,this.fragmentSrc=e||r.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Mu[n]?(Mu[n]++,n+="-"+Mu[n]):Mu[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Cb(this.vertexSrc,Tt.PRECISION_VERTEX,Jr.HIGH),this.fragmentSrc=Cb(this.fragmentSrc,Tt.PRECISION_FRAGMENT,_D())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return r.prototype.extractData=function(t,e){var n=Pb();if(n){var i=Tb(n,t,e);this.attributeData=this.getAttributeData(i,n),this.uniformData=this.getUniformData(i,n),n.deleteProgram(i)}else this.uniformData={},this.attributeData={}},r.prototype.getAttributeData=function(t,e){for(var n={},i=[],a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<a;o++){var s=e.getActiveAttrib(t,o),h=Rb(e,s.type),l={type:h,name:s.name,size:ED(h),location:0};n[s.name]=l,i.push(l)}i.sort(function(u,c){return u.name>c.name?1:-1});for(var o=0;o<i.length;o++)i[o].location=o;return n},r.prototype.getUniformData=function(t,e){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=0;a<i;a++){var o=e.getActiveUniform(t,a),s=o.name.replace(/\[.*?\]$/,""),h=o.name.match(/\[.*?\]$/),l=Rb(e,o.type);n[s]={type:l,size:o.size,isArray:h,value:Ib(l,o.size)}}return n},Object.defineProperty(r,"defaultVertexSrc",{get:function(){return RD},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return MD},enumerable:!1,configurable:!0}),r.from=function(t,e,n){var i=t+e,a=mf[i];return a||(mf[i]=a=new r(t,e,n)),a},r}(),vi=function(){function r(t,e){this.program=t,e?e instanceof mi?this.uniformGroup=e:this.uniformGroup=new mi(e):this.uniformGroup=new mi({});for(var n in t.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return r.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var n in e.uniforms){var i=e.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},r.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(r.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),r.from=function(t,e,n){var i=Is.from(t,e);return new r(i,n)},r}(),Ff=0,Nf=1,Df=2,Lf=3,Bf=4,gi=function(){function r(){this.data=0,this.blendMode=gt.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(r.prototype,"blend",{get:function(){return!!(this.data&1<<Ff)},set:function(t){!!(this.data&1<<Ff)!==t&&(this.data^=1<<Ff)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsets",{get:function(){return!!(this.data&1<<Nf)},set:function(t){!!(this.data&1<<Nf)!==t&&(this.data^=1<<Nf)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"culling",{get:function(){return!!(this.data&1<<Df)},set:function(t){!!(this.data&1<<Df)!==t&&(this.data^=1<<Df)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depthTest",{get:function(){return!!(this.data&1<<Lf)},set:function(t){!!(this.data&1<<Lf)!==t&&(this.data^=1<<Lf)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Bf)},set:function(t){!!(this.data&1<<Bf)!==t&&(this.data^=1<<Bf)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==gt.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),r.for2d=function(){var t=new r;return t.depthTest=!1,t.blend=!0,t},r}(),kD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,FD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Bn=function(r){Xt(t,r);function t(e,n,i){var a=this,o=Is.from(e||t.defaultVertexSrc,n||t.defaultFragmentSrc);return a=r.call(this,o,i)||this,a.padding=0,a.resolution=Tt.FILTER_RESOLUTION,a.enabled=!0,a.autoFit=!0,a.legacy=!!a.program.attributeData.aTextureCoord,a.state=new gi,a}return t.prototype.apply=function(e,n,i,a,o){e.applyFilter(this,n,i,a)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return kD},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return FD},enumerable:!1,configurable:!0}),t}(vi),ND=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,DD=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,kb=new ge,Ru=function(){function r(t,e){this._texture=t,this.mapCoord=new ge,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),r.prototype.multiplyUvs=function(t,e){e===void 0&&(e=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var a=t[i],o=t[i+1];e[i]=a*n.a+o*n.c+n.tx,e[i+1]=a*n.b+o*n.d+n.ty}return e},r.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=e.orig,a=e.trim;a&&(kb.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(kb));var o=e.baseTexture,s=this.uClampFrame,h=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+h+l)/o.width,s[1]=(e._frame.y+h+l)/o.height,s[2]=(e._frame.x+e._frame.width-h+l)/o.width,s[3]=(e._frame.y+e._frame.height-h+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&e.rotate===0,!0},r}(),Fb=function(r){Xt(t,r);function t(e){var n=this,i=new ge;return n=r.call(this,ND,DD)||this,e.renderable=!1,n.maskSprite=e,n.maskMatrix=i,n}return t.prototype.apply=function(e,n,i,a){var o=this.maskSprite,s=o._texture;!s.valid||(s.uvMatrix||(s.uvMatrix=new Ru(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,n,i,a))},t}(Bn),Nb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,n){var i=n;if(!i.isMaskData){var a=this.maskDataPool.pop()||new Eb;a.pooled=!0,a.maskObject=n,i=a}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=e,i.type){case fr.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case fr.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case fr.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i);break}},t.prototype.pop=function(e){var n=this.maskStack.pop();if(!(!n||n._target!==e)){switch(n.type){case fr.SCISSOR:this.renderer.scissor.pop();break;case fr.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case fr.SPRITE:this.popSpriteMask();break}n.reset(),n.pooled&&this.maskDataPool.push(n)}},t.prototype.detect=function(e){var n=e.maskObject;if(n.isSprite){e.type=fr.SPRITE;return}if(e.type=fr.STENCIL,this.enableScissor&&n.isFastRect&&n.isFastRect()){var i=n.worldTransform,a=Math.atan2(i.b,i.a),o=Math.atan2(i.d,i.c);a=Math.round(a*(180/Math.PI)*100),o=Math.round(o*(180/Math.PI)*100)-a,a=(a%9e3+9e3)%9e3,o=(o%18e3+18e3)%18e3,a===0&&o===9e3&&(e.type=fr.SCISSOR)}},t.prototype.pushSpriteMask=function(e){var n=e.maskObject,i=e._target,a=this.alphaMaskPool[this.alphaMaskIndex];a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new Fb(n)]),a[0].resolution=this.renderer.resolution,a[0].maskSprite=n;var o=i.filterArea;i.filterArea=n.getBounds(!0),this.renderer.filter.push(i,a),i.filterArea=o,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}(pr),Db=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.maskStack=[],n.glConst=0,n}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var n=this.renderer.gl,i=this.getStackLength();this.maskStack=e;var a=this.getStackLength();a!==i&&(a===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.maskStack=null},t}(pr),Lb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var n=e.maskObject;n.renderable=!0;var i=e._scissorRect,a=n.getBounds(!0),o=this.renderer.gl;n.renderable=!1,i?a.fit(i):o.enable(o.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=a,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,n=this.renderer.renderTexture.current,i=this.renderer.projection,a=i.transform,o=i.sourceFrame,s=i.destinationFrame,h=n?n.resolution:this.renderer.resolution,l=(e.x-o.x)*h+s.x,u=(e.y-o.y)*h+s.y,c=e.width*h,f=e.height*h;a&&(l+=a.tx*h,u+=a.ty*h),n||(u=this.renderer.height-f-u),this.renderer.gl.scissor(l,u,c,f)},t}(Db),Bb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var n=e.maskObject,i=this.renderer.gl,a=e._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),e._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var n=this.renderer.gl;this.getStackLength()===0?(n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.clearStencil(0)):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(Db),Vb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new ge,n.transform=null,n}return t.prototype.update=function(e,n,i,a){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,a),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,n,i,a){var o=this.projectionMatrix,s=a?-1:1;o.identity(),o.a=1/n.width*2,o.d=s*(1/n.height*2),o.tx=-1-n.x*o.a,o.ty=-s-n.y*o.d},t.prototype.setTransform=function(e){},t}(pr),da=new $t,As=new $t,Ps=new $t,Xb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.clearColor=e._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new $t,n.destinationFrame=new $t,n}return t.prototype.bind=function(e,n,i){e===void 0&&(e=null);var a=this.renderer;this.current=e;var o,s,h;e?(o=e.baseTexture,h=o.resolution,n||(da.width=e.frame.width,da.height=e.frame.height,n=da),i||(As.x=e.frame.x,As.y=e.frame.y,As.width=n.width,As.height=n.height,i=As),s=o.framebuffer):(h=a.resolution,n||(da.width=a.screen.width,da.height=a.screen.height,n=da),i||(i=da,i.width=n.width,i.height=n.height)),Ps.x=i.x*h,Ps.y=i.y*h,Ps.width=i.width*h,Ps.height=i.height*h,this.renderer.framebuffer.bind(s,Ps),this.renderer.projection.update(i,n,h,!s),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(i)},t.prototype.clear=function(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(pr),LD=function(){function r(){}return r}(),Yb=function(){function r(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return r.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},r}(),BD=0,jb={textureCount:0},Ub=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=BD++,n}return t.prototype.systemCheck=function(){if(!CD())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,n){e.uniforms.globals=this.renderer.globalUniforms;var i=e.program,a=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(a.program)),n||(jb.textureCount=0,this.syncUniformGroup(e.uniformGroup,jb)),a},t.prototype.setUniforms=function(e){var n=this.shader.program,i=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(i.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,n){var i=this.getglProgram();(!e.static||e.dirtyId!==i.uniformGroups[e.id])&&(i.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,n))},t.prototype.syncUniforms=function(e,n,i){var a=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);a(n.uniformData,e.uniforms,this.renderer,i)},t.prototype.createSyncGroups=function(e){var n=this.getSignature(e,this.shader.program.uniformData);return this.cache[n]||(this.cache[n]=ID(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,n){var i=e.uniforms,a=[];for(var o in i)a.push(o),n[o]&&a.push(n[o].type);return a.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var n=this.gl,i=e.program,a={};for(var o in i.attributeData)a[o]=i.attributeData[o].location;var s=Tb(n,i.vertexSrc,i.fragmentSrc,a),h={};for(var o in i.uniformData){var l=i.uniformData[o];h[o]={location:n.getUniformLocation(s,o),value:Ib(l.type,l.size)}}var u=new Yb(s,h);return i.glPrograms[this.renderer.CONTEXT_UID]=u,u},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(pr);function VD(r,t){return t===void 0&&(t=[]),t[gt.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.ADD]=[r.ONE,r.ONE],t[gt.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.NONE]=[0,0],t[gt.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],t[gt.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[gt.SRC_IN]=[r.DST_ALPHA,r.ZERO],t[gt.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],t[gt.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],t[gt.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],t[gt.DST_IN]=[r.ZERO,r.SRC_ALPHA],t[gt.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],t[gt.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],t[gt.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],t[gt.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],t}var XD=0,YD=1,jD=2,UD=3,WD=4,Wb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=gt.NONE,n._blendEq=!1,n.map=[],n.map[XD]=n.setBlend,n.map[YD]=n.setOffset,n.map[jD]=n.setCullFace,n.map[UD]=n.setDepthTest,n.map[WD]=n.setFrontFace,n.checks=[],n.defaultState=new gi,n.defaultState.blend=!0,n}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=VD(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var n=this.stateId^e.data,i=0;n;)n&1&&this.map[i].call(this,!!(e.data&1<<i)),n=n>>1,i++;this.stateId=e.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(e.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var n=this.blendModes[e],i=this.gl;n.length===2?i.blendFunc(n[0],n[1]):i.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,i.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,n){this.gl.polygonOffset(e,n)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,n){var i=this.checks.indexOf(e);n&&i===-1?this.checks.push(e):!n&&i!==-1&&this.checks.splice(i,1)},t.checkBlendMode=function(e,n){e.setBlendMode(n.blendMode)},t.checkPolygonOffset=function(e,n){e.setPolygonOffset(1,n.polygonOffset)},t}(pr),zb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.count=0,n.checkCount=0,n.maxIdle=Tt.GC_MAX_IDLE,n.checkCountMax=Tt.GC_MAX_CHECK_COUNT,n.mode=Tt.GC_MODE,n}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==du.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,n=e.managedTextures,i=!1,a=0;a<n.length;a++){var o=n[a];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),n[a]=null,i=!0)}if(i){for(var s=0,a=0;a<n.length;a++)n[a]!==null&&(n[s++]=n[a]);n.length=s}},t.prototype.unload=function(e){var n=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&n.destroyTexture(i);for(var a=e.children.length-1;a>=0;a--)this.unload(e.children[a])},t}(pr),Ou=function(){function r(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return r}(),Hb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new ue,n}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};var a=new Ou(e.createTexture());e.bindTexture(e.TEXTURE_2D,a.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=a,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ou(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var i=0;i<this.boundTextures.length;i++)this.bind(null,i)},t.prototype.bind=function(e,n){n===void 0&&(n=0);var i=this.gl;if(e){if(e=e.castToBaseTexture(),e.parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var a=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(e.target,a.texture)),a.dirtyId!==e.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),this.updateTexture(e)),this.boundTextures[n]=e}}else this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[n]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var n=this,i=n.gl,a=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<a.length;o++)a[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<a.length;o++)a[o]===e&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(e.target,this.emptyTextures[e.target].texture),a[o]=null)},t.prototype.initTexture=function(e){var n=new Ou(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n},t.prototype.initTextureType=function(e,n){if(n.internalFormat=e.format,n.type=e.type,this.webGLVersion===2){var i=this.renderer.gl;e.type===i.FLOAT&&e.format===i.RGBA&&(n.internalFormat=i.RGBA32F),e.type===Ae.HALF_FLOAT&&(n.type=i.HALF_FLOAT),n.type===i.HALF_FLOAT&&e.format===i.RGBA&&(n.internalFormat=i.RGBA16F)}},t.prototype.updateTexture=function(e){var n=e._glTextures[this.CONTEXT_UID];if(n){var i=this.renderer;if(this.initTextureType(e,n),!(e.resource&&e.resource.upload(i,e,n))){var a=e.realWidth,o=e.realHeight,s=i.gl;(n.width!==a||n.height!==o||n.dirtyId<0)&&(n.width=a,n.height=o,s.texImage2D(e.target,0,n.internalFormat,a,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,n){var i=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){var a=this.managedTextures.indexOf(e);a!==-1&&na(this.managedTextures,a,1)}},t.prototype.updateTextureStyle=function(e){var n=e._glTextures[this.CONTEXT_UID];!n||((e.mipmap===ea.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Dn.CLAMP:n.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,n){var i=this.gl;if(n.mipmap&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,n.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===cr.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var a=this.renderer.context.extensions.anisotropicFiltering;if(a&&e.anisotropicLevel>0&&e.scaleMode===cr.LINEAR){var o=Math.min(e.anisotropicLevel,i.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,a.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===cr.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===cr.LINEAR?i.LINEAR:i.NEAREST)},t}(pr),zD={FilterSystem:vb,BatchSystem:gb,ContextSystem:bb,FramebufferSystem:_b,GeometrySystem:wb,MaskSystem:Nb,ScissorSystem:Lb,StencilSystem:Bb,ProjectionSystem:Vb,RenderTextureSystem:Xb,ShaderSystem:Ub,StateSystem:Wb,TextureGCSystem:zb,TextureSystem:Hb},Vf=new ge,qb=function(r){Xt(t,r);function t(e,n){e===void 0&&(e=ao.UNKNOWN);var i=r.call(this)||this;return n=Object.assign({},Tt.RENDER_OPTIONS,n),n.roundPixels&&(Tt.ROUND_PIXELS=n.roundPixels,ct("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=n,i.type=e,i.screen=new $t(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Tt.RESOLUTION,i.transparent=n.transparent,i.autoDensity=n.autoDensity||n.autoResize||!1,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(e){for(var n in e)this.plugins[n]=new e[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,n){this.screen.width=e,this.screen.height=n,this.view.width=e*this.resolution,this.view.height=n*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=n+"px"),this.emit("resize",e,n)},t.prototype.generateTexture=function(e,n,i,a){a=a||e.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var o=fa.create({width:a.width|0,height:a.height|0,scaleMode:n,resolution:i});return Vf.tx=-a.x,Vf.ty=-a.y,this.render(e,o,!1,Vf,!!e.parent),o},t.prototype.destroy=function(e){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=ao.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=lf(e),pi(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),t}(ro),Vn=function(r){Xt(t,r);function t(e){var n=r.call(this,ao.WEBGL,e)||this;return e=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new $e("destroy"),contextChange:new $e("contextChange"),reset:new $e("reset"),update:new $e("update"),postrender:new $e("postrender"),prerender:new $e("prerender"),resize:new $e("resize")},n.globalUniforms=new mi({projectionMatrix:new ge},!0),n.addSystem(Nb,"mask").addSystem(bb,"context").addSystem(Wb,"state").addSystem(Ub,"shader").addSystem(Hb,"texture").addSystem(wb,"geometry").addSystem(_b,"framebuffer").addSystem(Lb,"scissor").addSystem(Bb,"stencil").addSystem(Vb,"projection").addSystem(zb,"textureGC").addSystem(vb,"filter").addSystem(Xb,"renderTexture").addSystem(gb,"batch"),n.initPlugins(t.__plugins),e.context?n.context.initFromContext(e.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:e.antialias,premultipliedAlpha:n.transparent&&n.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,D0(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(e){if(L0())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(e,n){n||(n=e.name);var i=new e(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},t.prototype.render=function(e,n,i,a,o){if(this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(n||(this._lastObjectRendered=e),!o){var s=e.enableTempParent();e.updateTransform(),e.disableTempParent(s)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(i!==void 0?i:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(e,n){r.prototype.resize.call(this,e,n),this.runners.resize.emit(e,n)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();r.prototype.destroy.call(this,e),this.gl=null},t.registerPlugin=function(e,n){t.__plugins=t.__plugins||{},t.__plugins[e]=n},t}(qb);function Gb(r){return Vn.create(r)}var $b=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Xf=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,ku=function(){function r(){this.texArray=null,this.blend=0,this.type=Sr.TRIANGLES,this.start=0,this.size=0,this.data=null}return r}(),Fu=function(){function r(){this.elements=[],this.ids=[],this.count=0}return r.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},r}(),Zb=function(){function r(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(r.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),r.prototype.view=function(t){return this[t+"View"]},r.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},r.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},r}(),Kb=function(r){Xt(t,r);function t(e){var n=r.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=gi.for2d(),n.size=Tt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var e=this.renderer.gl;Tt.PREFER_ENV===gn.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Tt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Ob(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new ku);for(;n.length<a;)n.push(new Fu);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this,n=e._bufferedTextures,i=e.MAX_TEXTURES,a=t._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,h=this.renderer.textureGC.count,l=++ue._globalBatch,u=0,c=a[0],f=0;o.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var p=n[d];n[d]=null,p._batchEnabled!==l&&(c.count>=i&&(o.boundArray(c,s,l,i),this.buildDrawCalls(c,f,d),f=d,c=a[++u],++l),p._batchEnabled=l,p.touched=h,c.elements[c.count++]=p)}c.count>0&&(o.boundArray(c,s,l,i),this.buildDrawCalls(c,f,this._bufferSize),++u,++l);for(var d=0;d<s.length;d++)s[d]=null;ue._globalBatch=l},t.prototype.buildDrawCalls=function(e,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,h=a._indexBuffer,l=a.vertexSize,u=t._drawCallPool,c=this._dcIndex,f=this._aIndex,d=this._iIndex,p=u[c];p.start=this._iIndex,p.texArray=e;for(var m=n;m<i;++m){var g=o[m],v=g._texture.baseTexture,y=hf[v.alphaMode?1:0][g.blendMode];o[m]=null,n<m&&p.blend!==y&&(p.size=d-p.start,n=m,p=u[++c],p.texArray=e,p.start=d),this.packInterleavedGeometry(g,s,h,f,d),f+=g.vertexData.length/2*l,d+=g.indices.length,p.blend=y}n<i&&(p.size=d-p.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=d},t.prototype.bindAndClearTexArray=function(e){for(var n=this.renderer.texture,i=0;i<e.count;i++)n.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,n=e._packedGeometries,i=e._attributeBuffer,a=e._indexBuffer;Tt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=t._drawCallPool,s=null,h=0;h<e;h++){var l=o[h],u=l.texArray,c=l.type,f=l.size,d=l.start,p=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,a.set(this.state),i.drawElements(c,f,i.UNSIGNED_SHORT,d*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Tt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),r.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var n=bs(Math.ceil(e/8)),i=pf(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Zb(a*this.vertexSize*4)),o},t.prototype.getIndexBuffer=function(e){var n=bs(Math.ceil(e/12)),i=pf(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},t.prototype.packInterleavedGeometry=function(e,n,i,a,o){for(var s=n.uint32View,h=n.float32View,l=a/this.vertexSize,u=e.uvs,c=e.indices,f=e.vertexData,d=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),m=p<1&&e._texture.baseTexture.alphaMode?mu(e._tintRGB,p):e._tintRGB+(p*255<<24),g=0;g<f.length;g+=2)h[a++]=f[g],h[a++]=f[g+1],h[a++]=u[g],h[a++]=u[g+1],s[a++]=m,h[a++]=d;for(var g=0;g<c.length;g++)i[o++]=l+c[g]},t._drawCallPool=[],t._textureArrayPool=[],t}(Es),Jb=function(){function r(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return r.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=mi.from({uSamplers:e},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Is(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ge,default:this.defaultGroupCache[t]};return new vi(this.programCache[t],a)},r.prototype.generateSampleSrc=function(t){var e="";e+=`
`,e+=`
`;for(var n=0;n<t;n++)n>0&&(e+=`
else `),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+=`
{`,e+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",e+=`
}`;return e+=`
`,e+=`
`,e},r}(),Yf=function(r){Xt(t,r);function t(e){e===void 0&&(e=!1);var n=r.call(this)||this;return n._buffer=new Ye(null,e,!1),n._indexBuffer=new Ye(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Ae.FLOAT).addAttribute("aColor",n._buffer,4,!0,Ae.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Ae.FLOAT).addIndex(n._indexBuffer),n}return t}(uo),Qb=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,tx=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ex=function(){function r(){}return r.create=function(t){var e=Object.assign({vertex:Qb,fragment:tx,geometryClass:Yf,vertexSize:6},t),n=e.vertex,i=e.fragment,a=e.vertexSize,o=e.geometryClass;return function(s){Xt(h,s);function h(l){var u=s.call(this,l)||this;return u.shaderGenerator=new Jb(n,i),u.geometryClass=o,u.vertexSize=a,u}return h}(Kb)},Object.defineProperty(r,"defaultVertexSrc",{get:function(){return Qb},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentTemplate",{get:function(){return tx},enumerable:!1,configurable:!0}),r}(),rx=ex.create();/*!
* @pixi/app - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/app is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var ho=function(){function r(t){var e=this;t=Object.assign({forceCanvas:!1},t),this.renderer=Gb(t),this.stage=new nr,r._plugins.forEach(function(n){n.init.call(e,t)})}return r.registerPlugin=function(t){r._plugins.push(t)},r.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(r.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),r.prototype.destroy=function(t,e){var n=this,i=r._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},r}();ho._plugins=[];var HD=function(){function r(){}return r.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(n){window.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){e.cancelResize();var n,i;if(e._resizeTo===window)n=window.innerWidth,i=window.innerHeight;else{var a=e._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}e.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},r.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},r}();ho.registerPlugin(HD);/*!
* @pixi/extract - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/extract is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var nx=new $t,ix=4,ax=function(){function r(t){this.renderer=t,t.extract=this}return r.prototype.image=function(t,e,n){var i=new Image;return i.src=this.base64(t,e,n),i},r.prototype.base64=function(t,e,n){return this.canvas(t).toDataURL(e,n)},r.prototype.canvas=function(t){var e=this.renderer,n,i,a=!1,o,s=!1;t&&(t instanceof fa?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,e.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=nx,i.width=this.renderer.width,i.height=this.renderer.height,e.renderTexture.bind(null));var h=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new vf(h,l,1),c=new Uint8Array(ix*h*l),f=e.gl;f.readPixels(i.x*n,i.y*n,h,l,f.RGBA,f.UNSIGNED_BYTE,c);var d=u.context.getImageData(0,0,h,l);if(r.arrayPostDivide(c,d.data),u.context.putImageData(d,0,0),a){var p=new vf(u.width,u.height,1);p.context.scale(1,-1),p.context.drawImage(u.canvas,0,-l),u.destroy(),u=p}return s&&o.destroy(!0),u.canvas},r.prototype.pixels=function(t){var e=this.renderer,n,i,a,o=!1;t&&(t instanceof fa?a=t:(a=this.renderer.generateTexture(t),o=!0)),a?(n=a.baseTexture.resolution,i=a.frame,e.renderTexture.bind(a)):(n=e.resolution,i=nx,i.width=e.width,i.height=e.height,e.renderTexture.bind(null));var s=i.width*n,h=i.height*n,l=new Uint8Array(ix*s*h),u=e.gl;return u.readPixels(i.x*n,i.y*n,s,h,u.RGBA,u.UNSIGNED_BYTE,l),o&&a.destroy(!0),r.arrayPostDivide(l,l),l},r.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},r.arrayPostDivide=function(t,e){for(var n=0;n<t.length;n+=4){var i=e[n+3]=t[n+3];i!==0?(e[n]=Math.round(Math.min(t[n]*255/i,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}},r}(),ox=(r,t={})=>{if(!r)return;const e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[t.strictMode?"strict":"loose"].exec(r),i={};let a=14;for(;a--;)i[e.key[a]]=n[a]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(o,s,h){s&&(i[e.q.name][s]=h)}),i};class Nu{constructor(t,e=!1,n){this._fn=t,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function sx(r,t){return r._head?(r._tail._next=t,t._prev=r._tail,r._tail=t):(r._head=t,r._tail=t),t._owner=r,t}class Xn{constructor(){this._head=this._tail=void 0}handlers(t=!1){let e=this._head;if(t)return!!e;const n=[];for(;e;)n.push(e),e=e._next;return n}has(t){if(!(t instanceof Nu))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}dispatch(){let t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}add(t,e=null){if(typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return sx(this,new Nu(t,!1,e))}once(t,e=null){if(typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return sx(this,new Nu(t,!0,e))}detach(t){if(!(t instanceof Nu))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}detachAll(){let t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}/*!
* resource-loader - v3.0.1
* https://github.com/pixijs/pixi-sound
* Compiled Tue, 02 Jul 2019 14:06:18 UTC
*
* resource-loader is licensed under the MIT license.
* http://www.opensource.org/licenses/mit-license
*/function pa(){}function lx(r,t,e,n){var i=0,a=r.length;(function o(s){if(s||i===a){e&&e(s);return}setTimeout(function(){t(r[i++],o)},1)})()}function qD(r){return function(){if(r===null)throw new Error("Callback was already called.");var t=r;r=null,t.apply(this,arguments)}}function GD(r,t){if(t==null)t=1;else if(t===0)throw new Error("Concurrency must not be zero");var e=0,n={_tasks:[],concurrency:t,saturated:pa,unsaturated:pa,buffer:t/4,empty:pa,drain:pa,error:pa,started:!1,paused:!1,push:function(o,s){i(o,!1,s)},kill:function(){e=0,n.drain=pa,n.started=!1,n._tasks=[]},unshift:function(o,s){i(o,!0,s)},process:function(){for(;!n.paused&&e<n.concurrency&&n._tasks.length;){var o=n._tasks.shift();n._tasks.length===0&&n.empty(),e+=1,e===n.concurrency&&n.saturated(),r(o.data,qD(a(o)))}},length:function(){return n._tasks.length},running:function(){return e},idle:function(){return n._tasks.length+e===0},pause:function(){n.paused!==!0&&(n.paused=!0)},resume:function(){if(n.paused!==!1){n.paused=!1;for(var o=1;o<=n.concurrency;o++)n.process()}}};function i(o,s,h){if(h!=null&&typeof h!="function")throw new Error("task callback must be a function");if(n.started=!0,o==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var l={data:o,callback:typeof h=="function"?h:pa};s?n._tasks.unshift(l):n._tasks.push(l),setTimeout(function(){return n.process()},1)}function a(o){return function(){e-=1,o.callback.apply(o,arguments),arguments[0]!=null&&n.error(arguments[0],o.data),e<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}var jf={};function $D(r,t){var e=this;jf[r.url]?(r.data=jf[r.url],r.complete()):r.onComplete.once(function(){return jf[e.url]=e.data}),t()}function ZD(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function ux(r,t,e){return t&&ZD(r.prototype,t),r}var KD=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Du=null,JD=0,hx=200,QD=204,t3=1223,e3=2;function r3(){}var Pt=function(){r.setExtensionLoadType=function(e,n){cx(r._loadTypeMap,e,n)},r.setExtensionXhrType=function(e,n){cx(r._xhrTypeMap,e,n)};function r(e,n,i){if(typeof e!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(r.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=r.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=r3,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Xn,this.onProgress=new Xn,this.onComplete=new Xn,this.onAfterMiddleware=new Xn}var t=r.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=r.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(e){var n=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(n)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(r.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this.type=r.TYPE.IMAGE,this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this.type=r.TYPE.AUDIO,this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this.type=r.TYPE.VIDEO,this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:KD&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t._hasFlag=function(e){return(this._flags&e)!==0},t._setFlag=function(e,n){this._flags=n?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(r.STATUS_FLAGS.COMPLETE,!0),this._setFlag(r.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(e,this.url[i],Array.isArray(n)?n[i]:n));else{var a=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(a)?a[0]:a))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=r.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t._createSource=function(e,n,i){i||(i=e+"/"+this._getExtension(n));var a=document.createElement("source");return a.src=n,a.type=i,a},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort(Uf(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t._xhrOnTimeout=function(){var e=this.xhr;this.abort(Uf(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort(Uf(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var e=this.xhr,n="",i=typeof e.status>"u"?hx:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(n=e.responseText),i===JD&&(n.length>0||e.responseType===r.XHR_RESPONSE_TYPE.BUFFER)?i=hx:i===t3&&(i=QD);var a=i/100|0;if(a===e3)if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=r.TYPE.TEXT;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=r.TYPE.JSON}catch(h){this.abort("Error trying to parse loaded json: "+h);return}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(n,"text/xml")}else{var s=document.createElement("div");s.innerHTML=n,this.data=s}this.type=r.TYPE.XML}catch(h){this.abort("Error trying to parse loaded xml: "+h);return}else this.data=e.response||n;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t._determineCrossOrigin=function(e,n){if(e.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";n=n||window.location,Du||(Du=document.createElement("a")),Du.href=e,e=ox(Du.href,{strictMode:!0});var i=!e.port&&n.port===""||e.port===n.port,a=e.protocol?e.protocol+":":"";return e.host!==n.hostname||!i||a!==n.protocol?"anonymous":""},t._determineXhrType=function(){return r._xhrTypeMap[this.extension]||r.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return r._loadTypeMap[this.extension]||r.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,n="";if(this.isDataUrl){var i=e.indexOf("/");n=e.substring(i+1,e.indexOf(";",i))}else{var a=e.indexOf("?"),o=e.indexOf("#"),s=Math.min(a>-1?a:e.length,o>-1?o:e.length);e=e.substring(0,s),n=e.substring(e.lastIndexOf(".")+1)}return n.toLowerCase()},t._getMimeFromXhrType=function(e){switch(e){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},ux(r,[{key:"isDataUrl",get:function(){return this._hasFlag(r.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(r.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(r.STATUS_FLAGS.LOADING)}}]),r}();Pt.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Pt.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Pt.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Pt.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Pt._loadTypeMap={gif:Pt.LOAD_TYPE.IMAGE,png:Pt.LOAD_TYPE.IMAGE,bmp:Pt.LOAD_TYPE.IMAGE,jpg:Pt.LOAD_TYPE.IMAGE,jpeg:Pt.LOAD_TYPE.IMAGE,tif:Pt.LOAD_TYPE.IMAGE,tiff:Pt.LOAD_TYPE.IMAGE,webp:Pt.LOAD_TYPE.IMAGE,tga:Pt.LOAD_TYPE.IMAGE,svg:Pt.LOAD_TYPE.IMAGE,"svg+xml":Pt.LOAD_TYPE.IMAGE,mp3:Pt.LOAD_TYPE.AUDIO,ogg:Pt.LOAD_TYPE.AUDIO,wav:Pt.LOAD_TYPE.AUDIO,mp4:Pt.LOAD_TYPE.VIDEO,webm:Pt.LOAD_TYPE.VIDEO},Pt._xhrTypeMap={xhtml:Pt.XHR_RESPONSE_TYPE.DOCUMENT,html:Pt.XHR_RESPONSE_TYPE.DOCUMENT,htm:Pt.XHR_RESPONSE_TYPE.DOCUMENT,xml:Pt.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Pt.XHR_RESPONSE_TYPE.DOCUMENT,svg:Pt.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Pt.XHR_RESPONSE_TYPE.DOCUMENT,gif:Pt.XHR_RESPONSE_TYPE.BLOB,png:Pt.XHR_RESPONSE_TYPE.BLOB,bmp:Pt.XHR_RESPONSE_TYPE.BLOB,jpg:Pt.XHR_RESPONSE_TYPE.BLOB,jpeg:Pt.XHR_RESPONSE_TYPE.BLOB,tif:Pt.XHR_RESPONSE_TYPE.BLOB,tiff:Pt.XHR_RESPONSE_TYPE.BLOB,webp:Pt.XHR_RESPONSE_TYPE.BLOB,tga:Pt.XHR_RESPONSE_TYPE.BLOB,json:Pt.XHR_RESPONSE_TYPE.JSON,text:Pt.XHR_RESPONSE_TYPE.TEXT,txt:Pt.XHR_RESPONSE_TYPE.TEXT,ttf:Pt.XHR_RESPONSE_TYPE.BUFFER,otf:Pt.XHR_RESPONSE_TYPE.BUFFER},Pt.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function cx(r,t,e){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(r[t]=e)}function Uf(r){return r.toString().replace("object ","")}var n3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i3(r){for(var t="",e=0;e<r.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)e<r.length?n[a]=r.charCodeAt(e++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=e-(r.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)t+=n3.charAt(i[s])}return t}var fx=window.URL||window.webkitURL;function a3(r,t){if(!r.data){t();return}if(r.xhr&&r.xhrType===Pt.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof r.data=="string"){var e=r.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){r.data=new Image,r.data.src="data:"+e+";base64,"+i3(r.xhr.responseText),r.type=Pt.TYPE.IMAGE,r.data.onload=function(){r.data.onload=null,t()};return}}else if(r.data.type.indexOf("image")===0){var n=fx.createObjectURL(r.data);r.blob=r.data,r.data=new Image,r.data.src=n,r.type=Pt.TYPE.IMAGE,r.data.onload=function(){fx.revokeObjectURL(n),r.data.onload=null,t()};return}}t()}var o3={caching:$D,parsing:a3},Wf=100,s3=/(#[\w-]+)?$/,Yn=function(){function r(e,n){var i=this;e===void 0&&(e=""),n===void 0&&(n=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(s,h){return i._loadResource(s,h)},this._queue=GD(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new Xn,this.onError=new Xn,this.onLoad=new Xn,this.onStart=new Xn,this.onComplete=new Xn;for(var a=0;a<r._defaultBeforeMiddleware.length;++a)this.pre(r._defaultBeforeMiddleware[a]);for(var o=0;o<r._defaultAfterMiddleware.length;++o)this.use(r._defaultAfterMiddleware[o])}var t=r.prototype;return t.add=function(e,n,i,a){if(Array.isArray(e)){for(var o=0;o<e.length;++o)this.add(e[o]);return this}if(typeof e=="object"&&(a=n||e.callback||e.onComplete,i=e,n=e.url,e=e.name||e.key||e.url),typeof n!="string"&&(a=i,i=n,n=e),typeof n!="string")throw new Error("No url passed to add resource to loader.");if(typeof i=="function"&&(a=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(n=this._prepareUrl(n),this.resources[e]=new Pt(e,n,i),typeof a=="function"&&this.resources[e].onAfterMiddleware.once(a),this.loading){for(var s=i.parentResource,h=[],l=0;l<s.children.length;++l)s.children[l].isComplete||h.push(s.children[l]);var u=s.progressChunk*(h.length+1),c=u/(h.length+2);s.children.push(this.resources[e]),s.progressChunk=c;for(var f=0;f<h.length;++f)h[f].progressChunk=c;this.resources[e].progressChunk=c}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var n=this.resources[e];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort()}return this.resources={},this},t.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,i=Wf/n,a=0;a<this._queue._tasks.length;++a)this._queue._tasks[a].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var n=ox(e,{strictMode:!0}),i;if(n.protocol||!n.path||e.indexOf("//")===0?i=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?i=this.baseUrl+"/"+e:i=this.baseUrl+e,this.defaultQueryString){var a=s3.exec(i)[0];i=i.substr(0,i.length-a.length),i.indexOf("?")!==-1?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=a}return i},t._loadResource=function(e,n){var i=this;e._dequeue=n,lx(this._beforeMiddleware,function(a,o){a.call(i,e,function(){o(e.isComplete?{}:null)})},function(){e.isComplete?i._onLoad(e):(e._onLoadBinding=e.onComplete.once(i._onLoad,i),e.load())})},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=Wf,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var n=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),lx(this._afterMiddleware,function(i,a){i.call(n,e,a)},function(){e.onAfterMiddleware.dispatch(e),n.progress=Math.min(Wf,n.progress+e.progressChunk),n.onProgress.dispatch(n,e),e.error?n.onError.dispatch(e.error,n,e):n.onLoad.dispatch(n,e),n._resourcesParsing.splice(n._resourcesParsing.indexOf(e),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()})},ux(r,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),r}();Yn._defaultBeforeMiddleware=[],Yn._defaultAfterMiddleware=[],Yn.pre=function(r){return Yn._defaultBeforeMiddleware.push(r),Yn},Yn.use=function(r){return Yn._defaultAfterMiddleware.push(r),Yn};/*!
* @pixi/loaders - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/loaders is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var bn=Pt;/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var zf=function(r,t){return zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},zf(r,t)};function l3(r,t){zf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var dx=function(){function r(){}return r.use=function(t,e){t.data&&t.type===Pt.TYPE.IMAGE&&(t.texture=Ot.fromLoader(t.data,t.url,t.name)),e()},r}(),yi=function(r){l3(t,r);function t(e,n){for(var i=r.call(this,e,n)||this,a=0;a<t._plugins.length;++a){var o=t._plugins[a],s=o.pre,h=o.use;s&&i.pre(s),h&&i.use(h)}return i._protected=!1,i}return t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}(Yn);yi.registerPlugin({use:o3.parsing}),yi.registerPlugin(dx);var px=function(){function r(){}return r.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?yi.shared:new yi},r.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},r}();/*!
* @pixi/particles - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/particles is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Hf=function(r,t){return Hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Hf(r,t)};function mx(r,t){Hf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var u3=function(r){mx(t,r);function t(e,n,i,a){e===void 0&&(e=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=r.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=gt.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,pi(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var n=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(nr),vx=function(){function r(t,e,n){this.geometry=new uo,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var a=t[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Ae.FLOAT,offset:a.offset},e[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return r.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ye(V0(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Ye(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ye(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Ae.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Ae.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},r.prototype.uploadDynamic=function(t,e,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(t,e,n,a.type===Ae.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},r.prototype.uploadStatic=function(t,e,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(t,e,n,a.type===Ae.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},r.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},r}(),h3=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,c3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,gx=function(r){mx(t,r);function t(e){var n=r.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new ge,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ae.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=vi.from(c3,h3,{}),n.state=gi.for2d(),n}return t.prototype.render=function(e){var n=e.children,i=e._maxSize,a=e._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!e.autoResize&&(s=i);var h=e._buffers;h||(h=e._buffers=this.generateBuffers(e));var l=n[0]._texture.baseTexture;this.state.blendMode=cf(e.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=B0(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var f=!1,d=0,p=0;d<s;d+=a,p+=1){var m=s-d;m>a&&(m=a),p>=h.length&&h.push(this._generateOneMoreBuffer(e));var g=h[p];g.uploadDynamic(n,d,m);var v=e._bufferUpdateIDs[p]||0;f=f||g._updateID<v,f&&(g._updateID=e._updateID,g.uploadStatic(n,d,m)),o.geometry.bind(g.geometry),u.drawElements(u.TRIANGLES,m*6,u.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var n=[],i=e._maxSize,a=e._batchSize,o=e._properties,s=0;s<i;s+=a)n.push(new vx(this.properties,o,a));return n},t.prototype._generateOneMoreBuffer=function(e){var n=e._batchSize,i=e._properties;return new vx(this.properties,i,n)},t.prototype.uploadVertices=function(e,n,i,a,o,s){for(var h=0,l=0,u=0,c=0,f=0;f<i;++f){var d=e[n+f],p=d._texture,m=d.scale.x,g=d.scale.y,v=p.trim,y=p.orig;v?(l=v.x-d.anchor.x*y.width,h=l+v.width,c=v.y-d.anchor.y*y.height,u=c+v.height):(h=y.width*(1-d.anchor.x),l=y.width*-d.anchor.x,u=y.height*(1-d.anchor.y),c=y.height*-d.anchor.y),a[s]=l*m,a[s+1]=c*g,a[s+o]=h*m,a[s+o+1]=c*g,a[s+o*2]=h*m,a[s+o*2+1]=u*g,a[s+o*3]=l*m,a[s+o*3+1]=u*g,s+=o*4}},t.prototype.uploadPosition=function(e,n,i,a,o,s){for(var h=0;h<i;h++){var l=e[n+h].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},t.prototype.uploadRotation=function(e,n,i,a,o,s){for(var h=0;h<i;h++){var l=e[n+h].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},t.prototype.uploadUvs=function(e,n,i,a,o,s){for(var h=0;h<i;++h){var l=e[n+h]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},t.prototype.uploadTint=function(e,n,i,a,o,s){for(var h=0;h<i;++h){var l=e[n+h],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,f=c<1&&u?mu(l._tintRGB,c):l._tintRGB+(c*255<<24);a[s]=f,a[s+o]=f,a[s+o*2]=f,a[s+o*3]=f,s+=o*4}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(Es);/*!
* @pixi/graphics - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/graphics is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var jn;(function(r){r.MITER="miter",r.BEVEL="bevel",r.ROUND="round"})(jn||(jn={}));var Un;(function(r){r.BUTT="butt",r.ROUND="round",r.SQUARE="square"})(Un||(Un={}));var co={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(r,t){if(t===void 0&&(t=20),!this.adaptive||!r||isNaN(r))return t;var e=Math.ceil(r/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},qf=function(){function r(){this.color=16777215,this.alpha=1,this.texture=Ot.WHITE,this.matrix=null,this.visible=!1,this.reset()}return r.prototype.clone=function(){var t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},r.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ot.WHITE,this.matrix=null,this.visible=!1},r.prototype.destroy=function(){this.texture=null,this.matrix=null},r}();/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Gf=function(r,t){return Gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Gf(r,t)};function Lu(r,t){Gf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var $f={build:function(r){r.points=r.shape.points.slice()},triangulate:function(r,t){var e=r.points,n=r.holes,i=t.points,a=t.indices;if(e.length>=6){for(var o=[],s=0;s<n.length;s++){var h=n[s];o.push(e.length/2),e=e.concat(h.points)}var l=cs.exports(e,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<e.length;s++)i.push(e[s])}}},Zf={build:function(r){var t=r.shape,e=r.points,n=t.x,i=t.y,a,o;if(e.length=0,r.type===xe.CIRC)a=t.radius,o=t.radius;else{var s=r.shape;a=s.width,o=s.height}if(!(a===0||o===0)){var h=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(a+o));h/=2.3;for(var l=Math.PI*2/h,u=0;u<h-.5;u++)e.push(n+Math.sin(-l*u)*a,i+Math.cos(-l*u)*o);e.push(e[0],e[1])}},triangulate:function(r,t){var e=r.points,n=t.points,i=t.indices,a=n.length/2,o=a,s=r.shape,h=r.matrix,l=s.x,u=s.y;n.push(r.matrix?h.a*l+h.c*u+h.tx:l,r.matrix?h.b*l+h.d*u+h.ty:u);for(var c=0;c<e.length;c+=2)n.push(e[c],e[c+1]),i.push(a++,o,a)}},yx={build:function(r){var t=r.shape,e=t.x,n=t.y,i=t.width,a=t.height,o=r.points;o.length=0,o.push(e,n,e+i,n,e+i,n+a,e,n+a)},triangulate:function(r,t){var e=r.points,n=t.points,i=n.length/2;n.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function fo(r,t,e){var n=t-r;return r+n*e}function Bu(r,t,e,n,i,a,o){o===void 0&&(o=[]);for(var s=20,h=o,l=0,u=0,c=0,f=0,d=0,p=0,m=0,g=0;m<=s;++m)g=m/s,l=fo(r,e,g),u=fo(t,n,g),c=fo(e,i,g),f=fo(n,a,g),d=fo(l,c,g),p=fo(u,f,g),h.push(d,p);return h}var bx={build:function(r){var t=r.shape,e=r.points,n=t.x,i=t.y,a=t.width,o=t.height,s=Math.max(0,Math.min(t.radius,Math.min(a,o)/2));e.length=0,s?(Bu(n,i+s,n,i,n+s,i,e),Bu(n+a-s,i,n+a,i,n+a,i+s,e),Bu(n+a,i+o-s,n+a,i+o,n+a-s,i+o,e),Bu(n+s,i+o,n,i+o,n,i+o-s,e)):e.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(r,t){for(var e=r.points,n=t.points,i=t.indices,a=n.length/2,o=cs.exports(e,null,2),s=0,h=o.length;s<h;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,h=e.length;s<h;s++)n.push(e[s],e[++s])}};function xx(r,t,e,n,i,a,o,s){var h=r-e*i,l=t-n*i,u=r+e*a,c=t+n*a,f,d;o?(f=n,d=-e):(f=-n,d=e);var p=h+f,m=l+d,g=u+f,v=c+d;return s.push(p,m),s.push(g,v),2}function po(r,t,e,n,i,a,o,s){var h=e-r,l=n-t,u=Math.atan2(h,l),c=Math.atan2(i-r,a-t);s&&u<c?u+=Math.PI*2:!s&&u>c&&(c+=Math.PI*2);var f=u,d=c-u,p=Math.abs(d),m=Math.sqrt(h*h+l*l),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,v=d/g;if(f+=v,s){o.push(r,t),o.push(e,n);for(var y=1,b=f;y<g;y++,b+=v)o.push(r,t),o.push(r+Math.sin(b)*m,t+Math.cos(b)*m);o.push(r,t),o.push(i,a)}else{o.push(e,n),o.push(r,t);for(var y=1,b=f;y<g;y++,b+=v)o.push(r+Math.sin(b)*m,t+Math.cos(b)*m),o.push(r,t);o.push(i,a),o.push(r,t)}return g*2}function f3(r,t){var e=r.shape,n=r.points||e.points.slice(),i=t.closePointEps;if(n.length!==0){var a=r.lineStyle,o=new Fe(n[0],n[1]),s=new Fe(n[n.length-2],n[n.length-1]),h=e.type!==xe.POLY||e.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(h){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,c=(s.y+o.y)*.5;n.unshift(u,c),n.push(u,c)}var f=t.points,d=n.length/2,p=n.length,m=f.length/2,g=a.width/2,v=g*g,y=a.miterLimit*a.miterLimit,b=n[0],x=n[1],_=n[2],w=n[3],E=0,S=0,T=-(x-w),I=b-_,R=0,A=0,C=Math.sqrt(T*T+I*I);T/=C,I/=C,T*=g,I*=g;var O=a.alignment,N=(1-O)*2,L=O*2;h||(a.cap===Un.ROUND?p+=po(b-T*(N-L)*.5,x-I*(N-L)*.5,b-T*N,x-I*N,b+T*L,x+I*L,f,!0)+2:a.cap===Un.SQUARE&&(p+=xx(b,x,T,I,N,L,!0,f))),f.push(b-T*N,x-I*N),f.push(b+T*L,x+I*L);for(var D=1;D<d-1;++D){b=n[(D-1)*2],x=n[(D-1)*2+1],_=n[D*2],w=n[D*2+1],E=n[(D+1)*2],S=n[(D+1)*2+1],T=-(x-w),I=b-_,C=Math.sqrt(T*T+I*I),T/=C,I/=C,T*=g,I*=g,R=-(w-S),A=_-E,C=Math.sqrt(R*R+A*A),R/=C,A/=C,R*=g,A*=g;var Q=_-b,tt=x-w,V=_-E,W=S-w,X=tt*V-W*Q,j=X<0;if(Math.abs(X)<.1){f.push(_-T*N,w-I*N),f.push(_+T*L,w+I*L);continue}var Y=(-T+b)*(-I+w)-(-T+_)*(-I+x),q=(-R+E)*(-A+w)-(-R+_)*(-A+S),$=(Q*q-V*Y)/X,K=(W*Y-tt*q)/X,J=($-_)*($-_)+(K-w)*(K-w),it=_+($-_)*N,ut=w+(K-w)*N,at=_-($-_)*L,M=w-(K-w)*L,k=Math.min(Q*Q+tt*tt,V*V+W*W),U=j?N:L,H=k+U*U*v,G=J<=H;G?a.join===jn.BEVEL||J/v>y?(j?(f.push(it,ut),f.push(_+T*L,w+I*L),f.push(it,ut),f.push(_+R*L,w+A*L)):(f.push(_-T*N,w-I*N),f.push(at,M),f.push(_-R*N,w-A*N),f.push(at,M)),p+=2):a.join===jn.ROUND?j?(f.push(it,ut),f.push(_+T*L,w+I*L),p+=po(_,w,_+T*L,w+I*L,_+R*L,w+A*L,f,!0)+4,f.push(it,ut),f.push(_+R*L,w+A*L)):(f.push(_-T*N,w-I*N),f.push(at,M),p+=po(_,w,_-T*N,w-I*N,_-R*N,w-A*N,f,!1)+4,f.push(_-R*N,w-A*N),f.push(at,M)):(f.push(it,ut),f.push(at,M)):(f.push(_-T*N,w-I*N),f.push(_+T*L,w+I*L),a.join===jn.BEVEL||J/v>y||(a.join===jn.ROUND?j?p+=po(_,w,_+T*L,w+I*L,_+R*L,w+A*L,f,!0)+2:p+=po(_,w,_-T*N,w-I*N,_-R*N,w-A*N,f,!1)+2:(j?(f.push(at,M),f.push(at,M)):(f.push(it,ut),f.push(it,ut)),p+=2)),f.push(_-R*N,w-A*N),f.push(_+R*L,w+A*L),p+=2)}b=n[(d-2)*2],x=n[(d-2)*2+1],_=n[(d-1)*2],w=n[(d-1)*2+1],T=-(x-w),I=b-_,C=Math.sqrt(T*T+I*I),T/=C,I/=C,T*=g,I*=g,f.push(_-T*N,w-I*N),f.push(_+T*L,w+I*L),h||(a.cap===Un.ROUND?p+=po(_-T*(N-L)*.5,w-I*(N-L)*.5,_-T*N,w-I*N,_+T*L,w+I*L,f,!1)+2:a.cap===Un.SQUARE&&(p+=xx(_,w,T,I,N,L,!1,f)));for(var rt=t.indices,ht=co.epsilon*co.epsilon,D=m;D<p+m-2;++D)b=f[D*2],x=f[D*2+1],_=f[(D+1)*2],w=f[(D+1)*2+1],E=f[(D+2)*2],S=f[(D+2)*2+1],!(Math.abs(b*(w-S)+_*(S-x)+E*(x-w))<ht)&&rt.push(D,D+1,D+2)}}function d3(r,t){var e=0,n=r.shape,i=r.points||n.points,a=n.type!==xe.POLY||n.closeStroke;if(i.length!==0){var o=t.points,s=t.indices,h=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),e=1;e<h;e++)o.push(i[e*2],i[e*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function Kf(r,t){r.lineStyle.native?d3(r,t):f3(r,t)}var _x=function(r){Lu(t,r);function t(e,n,i,a,o,s){s===void 0&&(s=0);var h=this;o=o||a/2;for(var l=-1*Math.PI/2+s,u=i*2,c=so/u,f=[],d=0;d<u;d++){var p=d%2?o:a,m=d*c+l;f.push(e+p*Math.cos(m),n+p*Math.sin(m))}return h=r.call(this,f)||this,h}return t}(oa),Jf=function(){function r(){}return r.curveTo=function(t,e,n,i,a,o){var s=o[o.length-2],h=o[o.length-1],l=h-e,u=s-t,c=i-e,f=n-t,d=Math.abs(l*f-u*c);if(d<1e-8||a===0)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;var p=l*l+u*u,m=c*c+f*f,g=l*c+u*f,v=a*Math.sqrt(p)/d,y=a*Math.sqrt(m)/d,b=v*g/p,x=y*g/m,_=v*f+y*u,w=v*c+y*l,E=u*(y+b),S=l*(y+b),T=f*(v+x),I=c*(v+x),R=Math.atan2(S-w,E-_),A=Math.atan2(I-w,T-_);return{cx:_+t,cy:w+e,radius:a,startAngle:R,endAngle:A,anticlockwise:u*c>f*l}},r.arc=function(t,e,n,i,a,o,s,h,l){for(var u=s-o,c=co._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/so)*40),f=u/(c*2),d=f*2,p=Math.cos(f),m=Math.sin(f),g=c-1,v=g%1/g,y=0;y<=g;++y){var b=y+v*y,x=f+o+d*b,_=Math.cos(x),w=-Math.sin(x);l.push((p*_+m*w)*a+n,(p*-w+m*_)*a+i)}},r}(),wx=function(){function r(){}return r.curveLength=function(t,e,n,i,a,o,s,h){for(var l=10,u=0,c=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0,x=0,_=t,w=e,E=1;E<=l;++E)c=E/l,f=c*c,d=f*c,p=1-c,m=p*p,g=m*p,v=g*t+3*m*c*n+3*p*f*a+d*s,y=g*e+3*m*c*i+3*p*f*o+d*h,b=_-v,x=w-y,_=v,w=y,u+=Math.sqrt(b*b+x*x);return u},r.curveTo=function(t,e,n,i,a,o,s){var h=s[s.length-2],l=s[s.length-1];s.length-=2;var u=co._segmentsCount(r.curveLength(h,l,t,e,n,i,a,o)),c=0,f=0,d=0,p=0,m=0;s.push(h,l);for(var g=1,v=0;g<=u;++g)v=g/u,c=1-v,f=c*c,d=f*c,p=v*v,m=p*v,s.push(d*h+3*f*v*t+3*c*p*n+m*a,d*l+3*f*v*e+3*c*p*i+m*o)},r}(),Ex=function(){function r(){}return r.curveLength=function(t,e,n,i,a,o){var s=t-2*n+a,h=e-2*i+o,l=2*n-2*t,u=2*i-2*e,c=4*(s*s+h*h),f=4*(s*l+h*u),d=l*l+u*u,p=2*Math.sqrt(c+f+d),m=Math.sqrt(c),g=2*c*m,v=2*Math.sqrt(d),y=f/m;return(g*p+m*f*(p-v)+(4*d*c-f*f)*Math.log((2*m+y+p)/(y+v)))/(4*g)},r.curveTo=function(t,e,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],h=co._segmentsCount(r.curveLength(o,s,t,e,n,i)),l=0,u=0,c=1;c<=h;++c){var f=c/h;l=o+(t-o)*f,u=s+(e-s)*f,a.push(l+(t+(n-t)*f-l)*f,u+(e+(i-e)*f-u)*f)}},r}(),Sx=function(){function r(){this.reset()}return r.prototype.begin=function(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n},r.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},r.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},r}(),ma,Vu=(ma={},ma[xe.POLY]=$f,ma[xe.CIRC]=Zf,ma[xe.ELIP]=Zf,ma[xe.RECT]=yx,ma[xe.RREC]=bx,ma),Qf=[],Cs=[],p3={buildPoly:$f,buildCircle:Zf,buildRectangle:yx,buildRoundedRectangle:bx,FILL_COMMANDS:Vu,BATCH_POOL:Qf,DRAW_CALL_POOL:Cs,buildLine:Kf,Star:_x,ArcUtils:Jf,BezierUtils:wx,QuadraticUtils:Ex,BatchPart:Sx},td=function(){function r(t,e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=null),this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return r.prototype.clone=function(){return new r(this.shape,this.fillStyle,this.lineStyle,this.matrix)},r.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},r}(),mo=new Fe,m3=new _s,Tx=function(r){Lu(t,r);function t(){var e=r.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new _s,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Cs.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var n=this.batches[e];n.reset(),Qf.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new td(e,n,i,a);return this.graphicsData.push(o),this.dirty++,this},t.prototype.drawHole=function(e,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new td(e,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){r.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(e,mo):mo.copyFrom(e),a.shape.contains(mo.x,mo.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var h=a.holes[s];if(h.shape.contains(mo.x,mo.y)){o=!0;break}}if(!o)return!0}}return!1},t.prototype.updateBatches=function(e){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var h=i[s],l=h.fillStyle,u=h.lineStyle,c=Vu[h.type];c.build(h),h.matrix&&this.transformPoints(h.points,h.matrix);for(var f=0;f<2;f++){var d=f===0?l:u;if(d.visible){var p=d.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=Dn.REPEAT,f===0?this.processFill(h):this.processLine(h);var v=this.points.length/2-g;v!==0&&(a&&!this._compareStyles(o,d)&&(a.end(m,g),a=null),a||(a=Qf.pop()||new Sx,a.begin(d,m,g),this.batches.push(a),o=d),this.addUvs(this.points,n,d.texture,g,v,d.matrix))}}}var y=this.indices.length,b=this.points.length/2;if(a&&a.end(y,b),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var x=b>65535&&e;this.indicesUint16=x?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(e,n){return!(!e||!n||e.texture.baseTexture!==n.texture.baseTexture||e.color+e.alpha!==n.color+n.alpha||!!e.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,n=this.graphicsData.length;e<n;e++){var i=this.graphicsData[e],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,n=0,i=e.length;n<i;n++)for(var a=e[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var e=++ue._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Cs.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=Cs.pop();o||(o=new ku,o.texArray=new Fu),o.texArray.count=0,o.start=0,o.size=0,o.type=Sr.TRIANGLES;var s=0,h=null,l=0,u=!1,c=Sr.TRIANGLES,f=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],p=8,m=d.style,g=m.texture.baseTexture;u!==!!m.native&&(u=!!m.native,c=u?Sr.LINES:Sr.TRIANGLES,h=null,s=p,e++),h!==g&&(h=g,g._batchEnabled!==e&&(s===p&&(e++,s=0,o.size>0&&(o=Cs.pop(),o||(o=new ku,o.texArray=new Fu),this.drawCalls.push(o)),o.start=f,o.size=0,o.texArray.count=0,o.type=c),g.touched=1,g._batchEnabled=e,g._batchLocation=s,g.wrapMode=10497,o.texArray.elements[o.texArray.count++]=g,s++)),o.size+=d.size,f+=d.size,l=g._batchLocation,this.addColors(i,m.color,m.alpha,d.attribSize,d.attribStart),this.addTextureIds(a,l,d.attribSize,d.attribStart)}ue._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(e.length*3*4),s=new Float32Array(o),h=new Uint32Array(o),l=0,u=0;u<e.length/2;u++)s[l++]=e[u*2],s[l++]=e[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],h[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){if(e.holes.length)this.processHoles(e.holes),$f.triangulate(e,this);else{var n=Vu[e.type];n.triangulate(e,this)}},t.prototype.processLine=function(e){Kf(e,this);for(var n=0;n<e.holes.length;n++)Kf(e.holes[n],this)},t.prototype.processHoles=function(e){for(var n=0;n<e.length;n++){var i=e[n],a=Vu[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,n=m3,i=ge.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,h=o.type,l=o.lineStyle,u=o.matrix||ge.IDENTITY,c=0;if(l&&l.visible){var f=l.alignment;c=l.width,h===xe.POLY?c=c*(.5+Math.abs(.5-f)):c=c*Math.max(0,f)}if(i!==u&&(n.isEmpty()||(e.addBoundsMatrix(n,i),n.clear()),i=u),h===xe.RECT||h===xe.RREC){var d=s;n.addFramePad(d.x,d.y,d.x+d.width,d.y+d.height,c,c)}else if(h===xe.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+c,p.radius+c)}else if(h===xe.ELIP){var m=s;n.addFramePad(m.x,m.y,m.x,m.y,m.width+c,m.height+c)}else{var g=s;e.addVerticesMatrix(i,g.points,0,g.points.length,c,c)}}n.isEmpty()||e.addBoundsMatrix(n,i),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,n){for(var i=0;i<e.length/2;i++){var a=e[i*2],o=e[i*2+1];e[i*2]=n.a*a+n.c*o+n.tx,e[i*2+1]=n.b*a+n.d*o+n.ty}},t.prototype.addColors=function(e,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),h=mu(s,i);e.length=Math.max(e.length,o+a);for(var l=0;l<a;l++)e[o+l]=h},t.prototype.addTextureIds=function(e,n,i,a){a===void 0&&(a=0),e.length=Math.max(e.length,a+i);for(var o=0;o<i;o++)e[a+o]=n},t.prototype.addUvs=function(e,n,i,a,o,s){s===void 0&&(s=null);for(var h=0,l=n.length,u=i.frame;h<o;){var c=e[(a+h)*2],f=e[(a+h)*2+1];if(s){var d=s.a*c+s.c*f+s.tx;f=s.b*c+s.d*f+s.ty,c=d}h++,n.push(c/u.width,f/u.height)}var p=i.baseTexture;(u.width<p.width||u.height<p.height)&&this.adjustUvs(n,i,l,o)},t.prototype.adjustUvs=function(e,n,i,a){for(var o=n.baseTexture,s=1e-6,h=i+a*2,l=n.frame,u=l.width/o.width,c=l.height/o.height,f=l.x/l.width,d=l.y/l.height,p=Math.floor(e[i]+s),m=Math.floor(e[i+1]+s),g=i+2;g<h;g+=2)p=Math.min(p,Math.floor(e[g]+s)),m=Math.min(m,Math.floor(e[g+1]+s));f-=p,d-=m;for(var g=i;g<h;g+=2)e[g]=(e[g]+f)*u,e[g+1]=(e[g+1]+d)*c},t.BATCHABLE_SIZE=100,t}(Yf),Ix=function(r){Lu(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Un.BUTT,e.join=jn.MITER,e.miterLimit=10,e}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){r.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(qf),v3=new Float32Array(3),ed={},Xu=function(r){Lu(t,r);function t(e){e===void 0&&(e=null);var n=r.call(this)||this;return n._geometry=e||new Tx,n._geometry.refCount++,n.shader=null,n.state=gi.for2d(),n._fillStyle=new qf,n._lineStyle=new Ix,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=gt.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e){if(e===void 0&&(e=null),typeof e=="number"){var n=arguments;e={width:n[0]||0,color:n[1]||0,alpha:n[2]!==void 0?n[2]:1,alignment:n[3]!==void 0?n[3]:.5,native:!!n[4]}}return this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){if(typeof e=="number"){ct("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var n=arguments,i=n[0],a=n[1],o=n[2],s=n[3],h=n[4],l=n[5],u=n[6];e={width:i,texture:a,color:o,alpha:s,matrix:h,alignment:l,native:u},Object.keys(e).forEach(function(f){return e[f]===void 0&&delete e[f]})}e=Object.assign({width:0,texture:Ot.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Un.BUTT,join:jn.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var c=e.width>0&&e.alpha>0;return c?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:c},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new oa,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[n-2],e[n-1]))}else this.currentPath=new oa,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,n){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(e,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==e||o!==n)&&i.push(e,n),this},t.prototype._initCurve=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,n]):this.moveTo(e,n)},t.prototype.quadraticCurveTo=function(e,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Ex.curveTo(e,n,i,a,o),this},t.prototype.bezierCurveTo=function(e,n,i,a,o,s){return this._initCurve(),wx.curveTo(e,n,i,a,o,s,this.currentPath.points),this},t.prototype.arcTo=function(e,n,i,a,o){this._initCurve(e,n);var s=this.currentPath.points,h=Jf.curveTo(e,n,i,a,o,s);if(h){var l=h.cx,u=h.cy,c=h.radius,f=h.startAngle,d=h.endAngle,p=h.anticlockwise;this.arc(l,u,c,f,d,p)}return this},t.prototype.arc=function(e,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=so:s&&a<=o&&(a+=so);var h=o-a;if(h===0)return this;var l=e+Math.cos(a)*i,u=n+Math.sin(a)*i,c=this._geometry.closePointEps,f=this.currentPath?this.currentPath.points:null;if(f){var d=Math.abs(f[f.length-2]-l),p=Math.abs(f[f.length-1]-u);d<c&&p<c||f.push(l,u)}else this.moveTo(l,u),f=this.currentPath.points;return Jf.arc(l,u,e,n,i,a,o,s,f),this},t.prototype.beginFill=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=1),this.beginTextureFill({texture:Ot.WHITE,color:e,alpha:n})},t.prototype.beginTextureFill=function(e){if(e instanceof Ot){ct("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var n=arguments,i=n[0],a=n[1],o=n[2],s=n[3];e={texture:i,color:a,alpha:o,matrix:s},Object.keys(e).forEach(function(l){return e[l]===void 0&&delete e[l]})}e=Object.assign({texture:Ot.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var h=e.alpha>0;return h?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:h},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,n,i,a){return this.drawShape(new $t(e,n,i,a))},t.prototype.drawRoundedRect=function(e,n,i,a,o){return this.drawShape(new $0(e,n,i,a,o))},t.prototype.drawCircle=function(e,n,i){return this.drawShape(new q0(e,n,i))},t.prototype.drawEllipse=function(e,n,i,a){return this.drawShape(new G0(e,n,i,a))},t.prototype.drawPolygon=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var h=new oa(a);return h.closeStroke=o,this.drawShape(h),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(e,n,i,a,o,s){return s===void 0&&(s=0),this.drawPolygon(new _x(e,n,i,a,o,s))},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===xe.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var n=this._geometry,i=e.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,n=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(var a=0;a<i;a++){var o=e.batches[a],s=o.style.color,h=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),c={vertexData:h,blendMode:n,indices:u,uvs:l,_batchRGB:pi(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=c}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,e.plugins[this.pluginName].render(a)}}},t.prototype._renderDirect=function(e){var n=this._resolveDirectShader(e),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,h=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,e.shader.bind(n),e.geometry.bind(i,n),e.state.set(this.state);for(var l=0,u=h.length;l<u;l++)this._renderDrawCallDirect(e,i.drawCalls[l])},t.prototype._renderDrawCallDirect=function(e,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,h=i.count,l=0;l<h;l++)e.texture.bind(i.elements[l],l);e.geometry.draw(a,o,s)},t.prototype._resolveDirectShader=function(e){var n=this.shader,i=this.pluginName;if(!n){if(!ed[i]){for(var a=e.plugins.batch.MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new ge,default:mi.from({uSamplers:o},!0)},l=e.plugins[i]._shader.program;ed[i]=new vi(l,h)}n=ed[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var n=e.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=pi(this.tint,v3),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=e[0]*a[0]*255,s=e[1]*a[1]*255,h=e[2]*a[2]*255,l=(o<<16)+(s<<8)+(h|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,h=n.tx,l=n.ty,u=this._geometry.points,c=this.vertexData,f=0,d=0;d<u.length;d+=2){var p=u[d],m=u[d+1];c[f++]=i*p+o*m+h,c[f++]=s*m+a*p+l}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,r.prototype.destroy.call(this,e)},t._TEMP_POINT=new Fe,t}(nr);/*!
* @pixi/sprite - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/sprite is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var rd=function(r,t){return rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},rd(r,t)};function g3(r,t){rd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Ms=new Fe,y3=new Uint16Array([0,1,2,0,2,3]),va=function(r){g3(t,r);function t(e){var n=r.call(this)||this;return n._anchor=new sa(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=gt.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||Ot.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=y3,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Tt.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ia(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ia(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,h=n.tx,l=n.ty,u=this.vertexData,c=e.trim,f=e.orig,d=this._anchor,p=0,m=0,g=0,v=0;if(c?(m=c.x-d._x*f.width,p=m+c.width,v=c.y-d._y*f.height,g=v+c.height):(m=-d._x*f.width,p=m+f.width,v=-d._y*f.height,g=v+f.height),u[0]=i*m+o*v+h,u[1]=s*v+a*m+l,u[2]=i*p+o*v+h,u[3]=s*v+a*p+l,u[4]=i*p+o*g+h,u[5]=s*g+a*p+l,u[6]=i*m+o*g+h,u[7]=s*g+a*m+l,this._roundPixels)for(var y=Tt.RESOLUTION,b=0;b<u.length;++b)u[b]=Math.round((u[b]*y|0)/y)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,n=this.vertexTrimmedData,i=e.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,h=o.b,l=o.c,u=o.d,c=o.tx,f=o.ty,d=-a._x*i.width,p=d+i.width,m=-a._y*i.height,g=m+i.height;n[0]=s*d+l*m+c,n[1]=u*m+h*d+f,n[2]=s*p+l*m+c,n[3]=u*m+h*p+f,n[4]=s*p+l*g+c,n[5]=u*g+h*p+f,n[6]=s*d+l*g+c,n[7]=u*g+h*d+f},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new $t),e=this._localBoundsRect),this._bounds.getRectangle(e)):r.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ms);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return Ms.x>=a&&Ms.x<a+n&&(o=-i*this.anchor.y,Ms.y>=o&&Ms.y<o+i)},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof e=="boolean"?e:e&&e.texture;if(n){var i=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(e,n){var i=e instanceof Ot?e:Ot.from(e,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var n=ia(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var n=ia(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Ot.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(nr);/*!
* @pixi/text - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/text is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var nd=function(r,t){return nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},nd(r,t)};function b3(r,t){nd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var vo;(function(r){r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(vo||(vo={}));var id={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:vo.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},x3=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ga=function(){function r(t){this.styleID=0,this.reset(),od(this,t,t)}return r.prototype.clone=function(){var t={};return od(t,this,id),new r(t)},r.prototype.reset=function(){od(this,id,id)},Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=ad(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=ad(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){_3(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=ad(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),r.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var i=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&x3.indexOf(i)<0&&(i='"'+i+'"'),e[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},r}();function Ax(r){return typeof r=="number"?lf(r):(typeof r=="string"&&r.indexOf("0x")===0&&(r=r.replace("0x","#")),r)}function ad(r){if(Array.isArray(r)){for(var t=0;t<r.length;++t)r[t]=Ax(r[t]);return r}else return Ax(r)}function _3(r,t){if(!Array.isArray(r)||!Array.isArray(t)||r.length!==t.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==t[e])return!1;return!0}function od(r,t,e){for(var n in e)Array.isArray(t[n])?r[n]=t[n].slice():r[n]=t[n]}var Nr=function(){function r(t,e,n,i,a,o,s,h,l){this.text=t,this.style=e,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=h,this.fontProperties=l}return r.measureText=function(t,e,n,i){i===void 0&&(i=r._canvas),n=n??e.wordWrap;var a=e.toFontString(),o=r.measureFont(a);o.fontSize===0&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=a;for(var h=n?r.wordWrap(t,e,i):t,l=h.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),c=0,f=0;f<l.length;f++){var d=s.measureText(l[f]).width+(l[f].length-1)*e.letterSpacing;u[f]=d,c=Math.max(c,d)}var p=c+e.strokeThickness;e.dropShadow&&(p+=e.dropShadowDistance);var m=e.lineHeight||o.fontSize+e.strokeThickness,g=Math.max(m,o.fontSize+e.strokeThickness)+(l.length-1)*(m+e.leading);return e.dropShadow&&(g+=e.dropShadowDistance),new r(t,e,p,g,l,u,m+e.leading,c,o)},r.wordWrap=function(t,e,n){n===void 0&&(n=r._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",h=Object.create(null),l=e.letterSpacing,u=e.whiteSpace,c=r.collapseSpaces(u),f=r.collapseNewlines(u),d=!c,p=e.wordWrapWidth+l,m=r.tokenize(t),g=0;g<m.length;g++){var v=m[g];if(r.isNewline(v)){if(!f){s+=r.addLine(o),d=!c,o="",a=0;continue}v=" "}if(c){var y=r.isBreakingSpace(v),b=r.isBreakingSpace(o[o.length-1]);if(y&&b)continue}var x=r.getFromCache(v,l,h,i);if(x>p)if(o!==""&&(s+=r.addLine(o),o="",a=0),r.canBreakWords(v,e.breakWords))for(var _=r.wordWrapSplit(v),w=0;w<_.length;w++){for(var E=_[w],S=1;_[w+S];){var T=_[w+S],I=E[E.length-1];if(!r.canBreakChars(I,T,v,w,e.breakWords))E+=T;else break;S++}w+=E.length-1;var R=r.getFromCache(E,l,h,i);R+a>p&&(s+=r.addLine(o),d=!1,o="",a=0),o+=E,a+=R}else{o.length>0&&(s+=r.addLine(o),o="",a=0);var A=g===m.length-1;s+=r.addLine(v,!A),d=!1,o="",a=0}else x+a>p&&(d=!1,s+=r.addLine(o),o="",a=0),(o.length>0||!r.isBreakingSpace(v)||d)&&(o+=v,a+=x)}return s+=r.addLine(o,!1),s},r.addLine=function(t,e){return e===void 0&&(e=!0),t=r.trimRight(t),t=e?t+`
`:t,t},r.getFromCache=function(t,e,n,i){var a=n[t];if(typeof a!="number"){var o=t.length*e;a=i.measureText(t).width+o,n[t]=a}return a},r.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},r.collapseNewlines=function(t){return t==="normal"},r.trimRight=function(t){if(typeof t!="string")return"";for(var e=t.length-1;e>=0;e--){var n=t[e];if(!r.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},r.isNewline=function(t){return typeof t!="string"?!1:r._newlines.indexOf(t.charCodeAt(0))>=0},r.isBreakingSpace=function(t){return typeof t!="string"?!1:r._breakingSpaces.indexOf(t.charCodeAt(0))>=0},r.tokenize=function(t){var e=[],n="";if(typeof t!="string")return e;for(var i=0;i<t.length;i++){var a=t[i];if(r.isBreakingSpace(a)||r.isNewline(a)){n!==""&&(e.push(n),n=""),e.push(a);continue}n+=a}return n!==""&&e.push(n),e},r.canBreakWords=function(t,e){return e},r.canBreakChars=function(t,e,n,i,a){return!0},r.wordWrapSplit=function(t){return t.split("")},r.measureFont=function(t){if(r._fonts[t])return r._fonts[t];var e={ascent:0,descent:0,fontSize:0},n=r._canvas,i=r._context;i.font=t;var a=r.METRICS_STRING+r.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(r.BASELINE_SYMBOL).width),h=2*s;s=s*r.BASELINE_MULTIPLIER|0,n.width=o,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,o,h),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,h).data,u=l.length,c=o*4,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var m=0;m<c;m+=4)if(l[d+m]!==255){p=!0;break}if(!p)d+=c;else break}for(e.ascent=s-f,d=u-c,p=!1,f=h;f>s;--f){for(var m=0;m<c;m+=4)if(l[d+m]!==255){p=!0;break}if(!p)d-=c;else break}return e.descent=f-s,e.fontSize=e.ascent+e.descent,r._fonts[t]=e,e},r.clearMetrics=function(t){t===void 0&&(t=""),t?delete r._fonts[t]:r._fonts={}},r}(),Yu=function(){try{var r=new OffscreenCanvas(0,0),t=r.getContext("2d");return t&&t.measureText?r:document.createElement("canvas")}catch{return document.createElement("canvas")}}();Yu.width=Yu.height=10,Nr._canvas=Yu,Nr._context=Yu.getContext("2d"),Nr._fonts={},Nr.METRICS_STRING="|q",Nr.BASELINE_SYMBOL="M",Nr.BASELINE_MULTIPLIER=1.4,Nr._newlines=[10,13],Nr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var w3={texture:!0,children:!1,baseTexture:!0},sd=function(r){b3(t,r);function t(e,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=Ot.from(i);return s.orig=new $t,s.trim=new $t,a=r.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=Tt.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=e,a.style=n,a.localStyleID=-1,a}return t.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&e)){this._font=this._style.toFontString();var i=this.context,a=Nr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,h=a.lines,l=a.lineHeight,u=a.lineWidths,c=a.maxLineWidth,f=a.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,p,m=n.dropShadow?2:1,g=0;g<m;++g){var v=n.dropShadow&&g===0,y=v?Math.ceil(Math.max(1,s)+n.padding*2):0,b=y*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var x=n.dropShadowColor,_=pi(typeof x=="number"?x:uf(x)),w=n.dropShadowBlur*this._resolution,E=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+_[0]*255+","+_[1]*255+","+_[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=w,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*E,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*E+b}else i.fillStyle=this._generateFillStyle(n,h,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var S=0;S<h.length;S++)d=n.strokeThickness/2,p=n.strokeThickness/2+S*l+f.ascent,n.align==="right"?d+=c-u[S]:n.align==="center"&&(d+=(c-u[S])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(h[S],d+n.padding,p+n.padding-y,!0),n.fill&&this.drawLetterSpacing(h[S],d+n.padding,p+n.padding-y)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing;if(s===0){a?this.context.strokeText(e,n,i):this.context.fillText(e,n,i);return}for(var h=n,l=Array.from?Array.from(e):e.split(""),u=this.context.measureText(e).width,c=0,f=0;f<l.length;++f){var d=l[f];a?this.context.strokeText(d,h,i):this.context.fillText(d,h,i),c=this.context.measureText(e.substring(f+1)).width,h+=u-c+s,u=c}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var n=j0(e);n.data&&(e.width=n.width,e.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(e.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(e.height/this._resolution),i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),r.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),r.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,n,i){var a=e.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=e.dropShadow?e.dropShadowDistance:0,h=e.padding||0,l=Math.ceil(this.canvas.width/this._resolution)-s-h*2,u=Math.ceil(this.canvas.height/this._resolution)-s-h*2,c=a.slice(),f=e.fillGradientStops.slice();if(!f.length)for(var d=c.length+1,p=1;p<d;++p)f.push(p/d);if(c.unshift(a[0]),f.unshift(0),c.push(a[a.length-1]),f.push(1),e.fillGradientType===vo.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,h,l/2,u+h);for(var m=0,g=i.fontProperties.fontSize+e.strokeThickness,v=g/u,p=0;p<n.length;p++)for(var y=i.lineHeight*p,b=0;b<c.length;b++){var x=0;typeof f[b]=="number"?x=f[b]:x=b/c.length;var _=y/u+x*v,w=Math.max(m,_);w=Math.min(w,1),o.addColorStop(w,c[b]),m=w}}else{o=this.context.createLinearGradient(h,u/2,l+h,u/2);for(var E=c.length+1,S=1,p=0;p<c.length;p++){var T=void 0;typeof f[p]=="number"?T=f[p]:T=S/E,o.addColorStop(T,c[p]),S++}}return o},t.prototype.destroy=function(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},w3,e),r.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var n=ia(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var n=ia(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},e instanceof ga?this._style=e:this._style=new ga(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t}(va);/*!
* @pixi/prepare - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/prepare is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/Tt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var ld=function(r,t){return ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ld(r,t)};function E3(r,t){ld(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Px=function(){function r(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return r.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},r.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},r}();function S3(r,t){var e=!1;if(r&&r._textures&&r._textures.length){for(var n=0;n<r._textures.length;n++)if(r._textures[n]instanceof Ot){var i=r._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),e=!0)}}return e}function T3(r,t){if(r.baseTexture instanceof ue){var e=r.baseTexture;return t.indexOf(e)===-1&&t.push(e),!0}return!1}function I3(r,t){if(r._texture&&r._texture instanceof Ot){var e=r._texture.baseTexture;return t.indexOf(e)===-1&&t.push(e),!0}return!1}function A3(r,t){return t instanceof sd?(t.updateText(!0),!0):!1}function P3(r,t){if(t instanceof ga){var e=t.toFontString();return Nr.measureFont(e),!0}return!1}function C3(r,t){if(r instanceof sd){t.indexOf(r.style)===-1&&t.push(r.style),t.indexOf(r)===-1&&t.push(r);var e=r._texture.baseTexture;return t.indexOf(e)===-1&&t.push(e),!0}return!1}function M3(r,t){return r instanceof ga?(t.indexOf(r)===-1&&t.push(r),!0):!1}var Cx=function(){function r(t){var e=this;this.limiter=new Px(Tt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(C3),this.registerFindHook(M3),this.registerFindHook(S3),this.registerFindHook(T3),this.registerFindHook(I3),this.registerUploadHook(A3),this.registerUploadHook(P3)}return r.prototype.upload=function(t,e){typeof t=="function"&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Xe.system.addOnce(this.tick,this,yn.UTILITY))):e&&e()},r.prototype.tick=function(){setTimeout(this.delayedTick,0)},r.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Xe.system.addOnce(this.tick,this,yn.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},r.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},r.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},r.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof nr)for(var e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},r.prototype.destroy=function(){this.ticking&&Xe.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},r}();function Mx(r,t){return t instanceof ue?(t._glTextures[r.CONTEXT_UID]||r.texture.bind(t),!0):!1}function R3(r,t){if(!(t instanceof Xu))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var n=e.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&Mx(r,a.baseTexture)}return e.batchable||r.geometry.bind(e,t._resolveDirectShader(r)),!0}function O3(r,t){return r instanceof Xu?(t.push(r),!0):!1}var Rx=function(r){E3(t,r);function t(e){var n=r.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(O3),n.registerUploadHook(Mx),n.registerUploadHook(R3),n}return t}(Cx),k3=function(){function r(t){this.maxMilliseconds=t,this.frameStart=0}return r.prototype.beginFrame=function(){this.frameStart=Date.now()},r.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},r}();/*!
* @pixi/spritesheet - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/spritesheet is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var Ox=function(){function r(t,e,n){n===void 0&&(n=null),this._texture=t instanceof Ot?t:null,this.baseTexture=t instanceof ue?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r.prototype._updateResolution=function(t){t===void 0&&(t=null);var e=this.data.meta.scale,n=xs(t,null);return n===null&&(n=e!==void 0?parseFloat(e):1),n!==1&&this.baseTexture.setResolution(n),n},r.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=r.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},r.prototype._processFrames=function(t){for(var e=t,n=r.BATCH_SIZE;e-t<n&&e<this._frameKeys.length;){var i=this._frameKeys[e],a=this._frames[i],o=a.frame;if(o){var s=null,h=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new $t(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new $t(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new $t(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(h=new $t(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Ot(this.baseTexture,s,u,h,a.rotated?2:0,a.anchor),Ot.addToCache(this.textures[i],i)}e++}},r.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var i=t[e][n];this.animations[e].push(this.textures[i])}}},r.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},r.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*r.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*r.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},r.prototype.destroy=function(t){var e;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)===null||e===void 0||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},r.BATCH_SIZE=1e3,r}(),kx=function(){function r(){}return r.use=function(t,e){var n=this,i=t.name+"_image";if(!t.data||t.type!==bn.TYPE.JSON||!t.data.frames||n.resources[i]){e();return}var a={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=r.getResourcePath(t,n.baseUrl);n.add(i,o,a,function(s){if(s.error){e(s.error);return}var h=new Ox(s.texture,t.data,t.url);h.parse(function(){t.spritesheet=h,t.textures=h.textures,e()})})},r.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:ta.resolve(t.url.replace(e,""),t.data.meta.image)},r}();/*!
* @pixi/sprite-tiling - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/sprite-tiling is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var ud=function(r,t){return ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ud(r,t)};function Fx(r,t){ud(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Rs=new Fe,F3=function(r){Fx(t,r);function t(e,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=r.call(this,e)||this;return a.tileTransform=new yu,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new Ru(e),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,i,a)},t.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new $t),e=this._localBoundsRect),this._bounds.getRectangle(e)):r.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Rs);var n=this._width,i=this._height,a=-n*this.anchor._x;if(Rs.x>=a&&Rs.x<a+n){var o=-i*this.anchor._y;if(Rs.y>=o&&Rs.y<o+i)return!0}return!1},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,n){return typeof n=="number"&&(ct("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new t(Ot.from(e,n),n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(va),Nx=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,N3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,D3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,ju=new ge,Dx=function(r){Fx(t,r);function t(e){var n=r.call(this,e)||this,i={globals:n.renderer.globalUniforms};return n.shader=vi.from(Nx,N3,i),n.simpleShader=vi.from(Nx,D3,i),n.quad=new Rf,n.state=gi.for2d(),n}return t.prototype.render=function(e){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(a=i.uvs,a[0]=a[6]=-e.anchor.x,a[1]=a[3]=-e.anchor.y,a[2]=a[4]=1-e.anchor.x,a[5]=a[7]=1-e.anchor.y),i.invalidate();var o=e._texture,s=o.baseTexture,h=e.tileTransform.localTransform,l=e.uvMatrix,u=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;u&&(s._glTextures[n.CONTEXT_UID]?u=s.wrapMode!==Dn.CLAMP:s.wrapMode===Dn.CLAMP&&(s.wrapMode=Dn.REPEAT));var c=u?this.simpleShader:this.shader,f=o.width,d=o.height,p=e._width,m=e._height;ju.set(h.a*f/p,h.b*f/m,h.c*d/p,h.d*d/m,h.tx/p,h.ty/m),ju.invert(),u?ju.prepend(l.mapCoord):(c.uniforms.uMapCoord=l.mapCoord.toArray(!0),c.uniforms.uClampFrame=l.uClampFrame,c.uniforms.uClampOffset=l.uClampOffset),c.uniforms.uTransform=ju.toArray(!0),c.uniforms.uColor=ff(e.tint,e.worldAlpha,c.uniforms.uColor,s.alphaMode),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=o,n.shader.bind(c),n.geometry.bind(i),this.state.blendMode=cf(e.blendMode,s.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Es);/*!
* @pixi/mesh - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mesh is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var hd=function(r,t){return hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},hd(r,t)};function cd(r,t){hd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Lx=function(){function r(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return r.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},r}(),fd=new Fe,Bx=new oa,go=function(r){cd(t,r);function t(e,n,i,a){a===void 0&&(a=Sr.TRIANGLES);var o=r.call(this)||this;return o.geometry=e,e.refCount++,o.shader=n,o.state=i||gi.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=Tt.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Sr.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),e.batch.flush(),n.program.uniformData.translationMatrix&&(n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(n),e.state.set(this.state),e.geometry.bind(this.geometry,n),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var n=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,n=e.buffers[0].data;if(!(e.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));for(var i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,h=i.d,l=i.tx,u=i.ty,c=this.vertexData,f=0;f<c.length/2;f++){var d=n[f*2],p=n[f*2+1];c[f*2]=a*d+s*p+l,c[f*2+1]=o*d+h*p+u}if(this._roundPixels)for(var m=Tt.RESOLUTION,f=0;f<c.length;++f)c[f]=Math.round((c[f]*m|0)/m);this.vertexDirty=e.vertexDirtyId}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Lx(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,fd);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=Bx.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,h=0;h+2<o;h+=s){var l=a[h]*2,u=a[h+1]*2,c=a[h+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[c],i[5]=n[c+1],Bx.contains(fd.x,fd.y))return!0}return!1},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(nr),L3=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,B3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Os=function(r){cd(t,r);function t(e,n){var i=this,a={uSampler:e,alpha:1,uTextureMatrix:ge.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=r.call(this,n.program||Is.from(B3,L3),a)||this,i._colorDirty=!1,i.uvMatrix=new Ru(e),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;ff(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(vi),ks=function(r){cd(t,r);function t(e,n,i){var a=r.call(this)||this,o=new Ye(e),s=new Ye(n,!0),h=new Ye(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,Ae.FLOAT).addAttribute("aTextureCoord",s,2,!1,Ae.FLOAT).addIndex(h),a._updateId=-1,a}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(uo);/*!
* @pixi/text-bitmap - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/text-bitmap is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var dd=function(r,t){return dd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},dd(r,t)};function V3(r,t){dd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Fs=function(){function r(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return r}(),X3=function(){function r(){}return r.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},r.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var a=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var h in o){var l=o[h].split("="),u=l[0],c=l[1].replace(/"/gm,""),f=parseFloat(c),d=isNaN(f)?c:f;s[u]=d}n[a].push(s)}var p=new Fs;return n.info.forEach(function(m){return p.info.push({face:m.face,size:parseInt(m.size,10)})}),n.common.forEach(function(m){return p.common.push({lineHeight:parseInt(m.lineHeight,10)})}),n.page.forEach(function(m){return p.page.push({id:parseInt(m.id,10),file:m.file})}),n.char.forEach(function(m){return p.char.push({id:parseInt(m.id,10),page:parseInt(m.page,10),x:parseInt(m.x,10),y:parseInt(m.y,10),width:parseInt(m.width,10),height:parseInt(m.height,10),xoffset:parseInt(m.xoffset,10),yoffset:parseInt(m.yoffset,10),xadvance:parseInt(m.xadvance,10)})}),n.kerning.forEach(function(m){return p.kerning.push({first:parseInt(m.first,10),second:parseInt(m.second,10),amount:parseInt(m.amount,10)})}),p},r}(),pd=function(){function r(){}return r.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},r.parse=function(t){for(var e=new Fs,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),a=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),h=0;h<n.length;h++)e.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(var h=0;h<i.length;h++)e.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(var h=0;h<a.length;h++)e.page.push({id:parseInt(a[h].getAttribute("id"),10)||0,file:a[h].getAttribute("file")});for(var h=0;h<o.length;h++){var l=o[h];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(var h=0;h<s.length;h++)e.kerning.push({first:parseInt(s[h].getAttribute("first"),10),second:parseInt(s[h].getAttribute("second"),10),amount:parseInt(s[h].getAttribute("amount"),10)});return e},r}(),Y3=function(){function r(){}return r.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var e=new self.DOMParser().parseFromString(t,"text/xml");return pd.test(e)}return!1},r.parse=function(t){var e=new window.DOMParser().parseFromString(t,"text/xml");return pd.parse(e)},r}(),md=[X3,pd,Y3];function Vx(r){for(var t=0;t<md.length;t++)if(md[t].test(r))return md[t];return null}function j3(r,t,e,n,i,a){var o=e.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,h=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,u=Math.ceil(r.width/n)-h-l*2,c=Math.ceil(r.height/n)-h-l*2,f=o.slice(),d=e.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,m=1;m<p;++m)d.push(m/p);if(f.unshift(o[0]),d.unshift(0),f.push(o[o.length-1]),d.push(1),e.fillGradientType===vo.LINEAR_VERTICAL){s=t.createLinearGradient(u/2,l,u/2,c+l);for(var g=0,v=a.fontProperties.fontSize+e.strokeThickness,y=v/c,m=0;m<i.length;m++)for(var b=a.lineHeight*m,x=0;x<f.length;x++){var _=0;typeof d[x]=="number"?_=d[x]:_=x/f.length;var w=b/c+_*y,E=Math.max(g,w);E=Math.min(E,1),s.addColorStop(E,f[x]),g=E}}else{s=t.createLinearGradient(l,c/2,u+l,c/2);for(var S=f.length+1,T=1,m=0;m<f.length;m++){var I=void 0;typeof d[m]=="number"?I=d[m]:I=T/S,s.addColorStop(I,f[m]),T++}}return s}function U3(r,t,e,n,i,a,o){var s=e.text,h=e.fontProperties;t.translate(n,i),t.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=j3(r,t,o,a,[s],e),t.strokeStyle=o.stroke,o.dropShadow){var c=o.dropShadowColor,f=pi(typeof c=="number"?c:uf(c)),d=o.dropShadowBlur*a,p=o.dropShadowDistance*a;t.shadowColor="rgba("+f[0]*255+","+f[1]*255+","+f[2]*255+","+o.dropShadowAlpha+")",t.shadowBlur=d,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(s,l,u+e.lineHeight-h.descent),o.fill&&t.fillText(s,l,u+e.lineHeight-h.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function W3(r){typeof r=="string"&&(r=[r]);for(var t=[],e=0,n=r.length;e<n;e++){var i=r[e];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,h=o;s<=h;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,i.split(""))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}var bi=function(){function r(t,e,n){var i=t.info[0],a=t.common[0],o=t.page[0],s=xs(o.file),h={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=a.lineHeight/s,this.chars={},this.pageTextures=h;for(var l=0;l<t.page.length;l++){var u=t.page[l],c=u.id,f=u.file;h[c]=e instanceof Array?e[l]:e[f]}for(var l=0;l<t.char.length;l++){var d=t.char[l],c=d.id,p=d.page,m=t.char[l],g=m.x,v=m.y,y=m.width,b=m.height,x=m.xoffset,_=m.yoffset,w=m.xadvance;g/=s,v/=s,y/=s,b/=s,x/=s,_/=s,w/=s;var E=new $t(g+h[p].frame.x/s,v+h[p].frame.y/s,y,b);this.chars[c]={xOffset:x,yOffset:_,xAdvance:w,kerning:{},texture:new Ot(h[p].baseTexture,E),page:p}}for(var l=0;l<t.kerning.length;l++){var S=t.kerning[l],T=S.first,I=S.second,R=S.amount;T/=s,I/=s,R/=s,this.chars[I]&&(this.chars[I].kerning[T]=R)}}return r.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},r.install=function(t,e,n){var i;if(t instanceof Fs)i=t;else{var a=Vx(t);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(t)}e instanceof Ot&&(e=[e]);var o=new r(i,e,n);return r.available[o.font]=o,o},r.uninstall=function(t){var e=r.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete r.available[t]},r.from=function(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},r.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,h=i.textureWidth,l=i.textureHeight,u=W3(a),c=e instanceof ga?e:new ga(e),f=h,d=new Fs;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};for(var p=0,m=0,g,v,y,b=0,x=[],_=0;_<u.length;_++){g||(g=document.createElement("canvas"),g.width=h,g.height=l,v=g.getContext("2d"),y=new ue(g,{resolution:s}),x.push(new Ot(y)),d.page.push({id:x.length-1,file:""}));var w=Nr.measureText(u[_],c,!1,g),E=w.width,S=Math.ceil(w.height),T=Math.ceil((c.fontStyle==="italic"?2:1)*E);if(m>=l-S*s){if(m===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+c.fontSize+"px fonts"));--_,g=null,v=null,y=null,m=0,p=0,b=0;continue}if(b=Math.max(S+w.fontProperties.descent,b),T*s+p>=f){--_,m+=b*s,m=Math.ceil(m),p=0,b=0;continue}U3(g,v,w,p,m,s,c);var I=w.text.charCodeAt(0);d.char.push({id:I,page:x.length-1,x:p/s,y:m/s,width:T,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),p+=(T+2*o)*s,p=Math.ceil(p)}var R=new r(d,x,!0);return r.available[t]!==void 0&&r.uninstall(t),r.available[t]=R,R},r.ALPHA=[["a","z"],["A","Z"]," "],r.NUMERIC=[["0","9"]],r.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],r.ASCII=[[" ","~"]],r.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:r.ALPHANUMERIC},r.available={},r}(),Xx=[],Yx=[],z3=function(r){V3(t,r);function t(e,n){n===void 0&&(n={});var i=r.call(this)||this;i._tint=16777215,n.font&&(ct("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var a=Object.assign({},t.styleDefaults,n),o=a.align,s=a.tint,h=a.maxWidth,l=a.letterSpacing,u=a.fontName,c=a.fontSize;if(!bi.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=c||bi.available[u].size,i._text=e,i._maxWidth=h,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new sa(function(){i.dirty=!0},i,0,0),i._roundPixels=Tt.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var e,n=bi.available[this._fontName],i=this._fontSize/n.size,a=new Fe,o=[],s=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=h.length,u=this._maxWidth*n.size/this._fontSize,c=null,f=0,d=0,p=0,m=-1,g=0,v=0,y=0,b=0;b<l;b++){var x=h.charCodeAt(b),_=h.charAt(b);if(/(?:\s)/.test(_)&&(m=b,g=f),_==="\r"||_===`
`){s.push(f),d=Math.max(d,f),++p,++v,a.x=0,a.y+=n.lineHeight,c=null;continue}var w=n.chars[x];if(w){c&&w.kerning[c]&&(a.x+=w.kerning[c]);var E=Yx.pop()||{texture:Ot.EMPTY,line:0,charCode:0,position:new Fe};E.texture=w.texture,E.line=p,E.charCode=x,E.position.x=a.x+w.xOffset+this._letterSpacing/2,E.position.y=a.y+w.yOffset,o.push(E),a.x+=w.xAdvance+this._letterSpacing,f=a.x,y=Math.max(y,w.yOffset+w.texture.height),c=x,m!==-1&&u>0&&a.x>u&&(++v,na(o,1+m-v,1+b-m),b=m,m=-1,s.push(g),d=Math.max(d,g),p++,a.x=0,a.y+=n.lineHeight,c=null)}}var S=h.charAt(h.length-1);S!=="\r"&&S!==`
`&&(/(?:\s)/.test(S)&&(f=g),s.push(f),d=Math.max(d,f));for(var T=[],b=0;b<=p;b++){var I=0;this._align==="right"?I=d-s[b]:this._align==="center"&&(I=(d-s[b])/2),T.push(I)}for(var R=o.length,A={},C=[],O=this._activePagesMeshData,b=0;b<O.length;b++)Xx.push(O[b]);for(var b=0;b<R;b++){var N=o[b].texture,L=N.baseTexture.uid;if(!A[L]){var D=Xx.pop();if(!D){var Q=new ks,tt=new Os(Ot.EMPTY),V=new go(Q,tt);D={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:V,vertices:null,uvs:null,indices:null}}D.index=0,D.indexCount=0,D.vertexCount=0,D.uvsCount=0,D.total=0;var W=this._textureCache;W[L]=W[L]||new Ot(N.baseTexture),D.mesh.texture=W[L],D.mesh.tint=this._tint,C.push(D),A[L]=D}A[L].total++}for(var b=0;b<O.length;b++)C.indexOf(O[b])===-1&&this.removeChild(O[b].mesh);for(var b=0;b<C.length;b++)C[b].mesh.parent!==this&&this.addChild(C[b].mesh);this._activePagesMeshData=C;for(var b in A){var D=A[b],X=D.total;if(!(((e=D.indices)===null||e===void 0?void 0:e.length)>6*X)||D.vertices.length<go.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*X),D.uvs=new Float32Array(4*2*X),D.indices=new Uint16Array(6*X);else for(var j=D.total,Y=D.vertices,q=j*4*2;q<Y.length;q++)Y[q]=0;D.mesh.size=6*X}for(var b=0;b<R;b++){var _=o[b],$=_.position.x+T[_.line];this._roundPixels&&($=Math.round($));var K=$*i,J=_.position.y*i,N=_.texture,it=A[N.baseTexture.uid],ut=N.frame,at=N._uvs,M=it.index++;it.indices[M*6+0]=0+M*4,it.indices[M*6+1]=1+M*4,it.indices[M*6+2]=2+M*4,it.indices[M*6+3]=0+M*4,it.indices[M*6+4]=2+M*4,it.indices[M*6+5]=3+M*4,it.vertices[M*8+0]=K,it.vertices[M*8+1]=J,it.vertices[M*8+2]=K+ut.width*i,it.vertices[M*8+3]=J,it.vertices[M*8+4]=K+ut.width*i,it.vertices[M*8+5]=J+ut.height*i,it.vertices[M*8+6]=K,it.vertices[M*8+7]=J+ut.height*i,it.uvs[M*8+0]=at.x0,it.uvs[M*8+1]=at.y0,it.uvs[M*8+2]=at.x1,it.uvs[M*8+3]=at.y1,it.uvs[M*8+4]=at.x2,it.uvs[M*8+5]=at.y2,it.uvs[M*8+6]=at.x3,it.uvs[M*8+7]=at.y3}this._textWidth=d*i,this._textHeight=(a.y+n.lineHeight)*i;for(var b in A){var D=A[b];if(this.anchor.x!==0||this.anchor.y!==0)for(var k=0,U=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y,G=0;G<D.total;G++)D.vertices[k++]-=U,D.vertices[k++]-=H,D.vertices[k++]-=U,D.vertices[k++]-=H,D.vertices[k++]-=U,D.vertices[k++]-=H,D.vertices[k++]-=U,D.vertices[k++]-=H;this._maxLineHeight=y*i;var rt=D.mesh.geometry.getBuffer("aVertexPosition"),ht=D.mesh.geometry.getBuffer("aTextureCoord"),ot=D.mesh.geometry.getIndex();rt.data=D.vertices,ht.data=D.uvs,ot.data=D.indices,rt.update(),ht.update(),ot.update()}for(var b=0;b<o.length;b++)Yx.push(o[b])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),r.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!bi.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if(typeof e.font=="string"){var n=e.font.split(" ");e.fontName=n.length===1?n[0]:n.slice(1).join(" "),n.length>=2&&(e.fontSize=parseInt(n[0],10))}else e.fontName=e.font.name,e.fontSize=typeof e.font.size=="number"?e.font.size:parseInt(e.font.size,10)},t.prototype.destroy=function(e){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,r.prototype.destroy.call(this,e)},t.registerFont=function(e,n){return ct("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),bi.install(e,n)},Object.defineProperty(t,"fonts",{get:function(){return ct("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),bi.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(nr),jx=function(){function r(){}return r.add=function(){bn.setExtensionXhrType("fnt",bn.XHR_RESPONSE_TYPE.TEXT)},r.use=function(t,e){var n=Vx(t.data);if(!n){e();return}for(var i=r.getBaseUrl(this,t),a=n.parse(t.data),o={},s=function(m){o[m.metadata.pageFile]=m.texture,Object.keys(o).length===a.page.length&&(t.bitmapFont=bi.install(a,o,!0),e())},h=0;h<a.page.length;++h){var l=a.page[h].file,u=i+l,c=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===u){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),c=!0;break}}if(!c){var p={crossOrigin:t.crossOrigin,loadType:bn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(u,p,s)}}},r.getBaseUrl=function(t,e){var n=e.isDataUrl?"":r.dirname(e.url);return e.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},r.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":e===""?"/":e},r}();/*!
* @pixi/filter-alpha - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-alpha is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var vd=function(r,t){return vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},vd(r,t)};function H3(r,t){vd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var q3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,G3=function(r){H3(t,r);function t(e){e===void 0&&(e=1);var n=r.call(this,$b,q3,{uAlpha:1})||this;return n.alpha=e,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Bn);/*!
* @pixi/filter-blur - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-blur is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var gd=function(r,t){return gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},gd(r,t)};function Ux(r,t){gd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var $3=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Z3(r,t){var e=Math.ceil(r/2),n=$3,i="",a;t?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<r;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(e-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var K3={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},J3=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Q3(r){for(var t=K3[r],e=t.length,n=J3,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<r;s++){var h=a.replace("%index%",s.toString());o=s,s>=e&&(o=r-s-1),h=h.replace("%value%",t[o].toString()),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var Wx;(function(r){r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2"})(Wx||(Wx={}));var zx;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS"})(zx||(zx={}));var Hx;(function(r){r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL"})(Hx||(Hx={}));var qx;(function(r){r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR"})(qx||(qx={}));var Gx;(function(r){r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Gx||(Gx={}));var $x;(function(r){r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})($x||($x={}));var Zx;(function(r){r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Zx||(Zx={}));var Kx;(function(r){r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.FLOAT=5126]="FLOAT",r[r.HALF_FLOAT=36193]="HALF_FLOAT"})(Kx||(Kx={}));var Jx;(function(r){r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR"})(Jx||(Jx={}));var Qx;(function(r){r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Qx||(Qx={}));var t_;(function(r){r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON"})(t_||(t_={}));var e_;(function(r){r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(e_||(e_={}));var Ns;(function(r){r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT"})(Ns||(Ns={}));var r_;(function(r){r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL"})(r_||(r_={}));var n_;(function(r){r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp"})(n_||(n_={}));var i_;(function(r){r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE"})(i_||(i_={}));var a_;(function(r){r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH"})(a_||(a_={}));var yd=function(r){Ux(t,r);function t(e,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=Tt.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,h=Z3(o,e),l=Q3(o);return s=r.call(this,h,l)||this,s.horizontal=e,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return t.prototype.apply=function(e,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,i,a);else{var o=e.getFilterTexture(),s=e.renderer,h=n,l=o;this.state.blend=!1,e.applyFilter(this,h,l,Ns.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(h,Ns.BLIT),this.uniforms.uSampler=l;var c=l;l=h,h=c,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,a),e.returnFilterTexture(o)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+Math.abs(e)*2,this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Bn),tL=function(r){Ux(t,r);function t(e,n,i,a){e===void 0&&(e=8),n===void 0&&(n=4),i===void 0&&(i=Tt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=r.call(this)||this;return o.blurXFilter=new yd(!0,e,n,i,a),o.blurYFilter=new yd(!1,e,n,i,a),o.resolution=i,o.quality=n,o.blur=e,o.repeatEdgePixels=!1,o}return t.prototype.apply=function(e,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var h=e.getFilterTexture();this.blurXFilter.apply(e,n,h,Ns.CLEAR),this.blurYFilter.apply(e,h,i,a),e.returnFilterTexture(h)}else s?this.blurYFilter.apply(e,n,i,a):this.blurXFilter.apply(e,n,i,a)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Bn);/*!
* @pixi/filter-color-matrix - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-color-matrix is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var bd=function(r,t){return bd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},bd(r,t)};function eL(r,t){bd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var rL=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,xd=function(r){eL(t,r);function t(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return e=r.call(this,Xf,rL,n)||this,e.alpha=1,e}return t.prototype._loadMatrix=function(e,n){n===void 0&&(n=!1);var i=e;n&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(e,n,i){return e[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],e[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],e[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],e[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],e[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],e[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],e[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],e[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],e[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],e[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],e[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],e[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],e[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],e[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],e[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],e[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],e[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],e[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],e[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],e[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],e},t.prototype._colorMatrix=function(e){var n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(e,n){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.greyscale=function(e,n){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(e){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.hue=function(e,n){e=(e||0)/180*Math.PI;var i=Math.cos(e),a=Math.sin(e),o=Math.sqrt,s=1/3,h=o(s),l=i+(1-i)*s,u=s*(1-i)-h*a,c=s*(1-i)+h*a,f=s*(1-i)+h*a,d=i+s*(1-i),p=s*(1-i)-h*a,m=s*(1-i)-h*a,g=s*(1-i)+h*a,v=i+s*(1-i),y=[l,u,c,0,0,f,d,p,0,0,m,g,v,0,0,0,0,0,1,0];this._loadMatrix(y,n)},t.prototype.contrast=function(e,n){var i=(e||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},t.prototype.saturate=function(e,n){e===void 0&&(e=0);var i=e*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.sepia=function(e){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.technicolor=function(e){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.polaroid=function(e){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.toBGR=function(e){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.kodachrome=function(e){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.browni=function(e){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.vintage=function(e){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.colorTone=function(e,n,i,a,o){e=e||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,h=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,c=(a>>8&255)/255,f=(a&255)/255,d=[.3,.59,.11,0,0,s,h,l,e,0,u,c,f,n,0,s-u,h-c,l-f,0,0];this._loadMatrix(d,o)},t.prototype.night=function(e,n){e=e||.1;var i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(e,n){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(e){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Bn);xd.prototype.grayscale=xd.prototype.greyscale;/*!
* @pixi/filter-displacement - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-displacement is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var _d=function(r,t){return _d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},_d(r,t)};function nL(r,t){_d(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var iL=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,aL=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,oL=function(r){nL(t,r);function t(e,n){var i=this,a=new ge;return e.renderable=!1,i=r.call(this,aL,iL,{mapSampler:e._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=e,i.maskMatrix=a,n==null&&(n=20),i.scale=new Fe(n,n),i}return t.prototype.apply=function(e,n,i,a){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),h=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&h!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/h,this.uniforms.rotation[3]=o.d/h),e.applyFilter(this,n,i,a)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(Bn);/*!
* @pixi/filter-fxaa - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-fxaa is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var wd=function(r,t){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},wd(r,t)};function sL(r,t){wd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var lL=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,uL=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,hL=function(r){sL(t,r);function t(){return r.call(this,lL,uL)||this}return t}(Bn);/*!
* @pixi/filter-noise - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/filter-noise is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Ed=function(r,t){return Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Ed(r,t)};function cL(r,t){Ed(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var fL=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,dL=function(r){cL(t,r);function t(e,n){e===void 0&&(e=.5),n===void 0&&(n=Math.random());var i=r.call(this,Xf,fL,{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(Bn);/*!
* @pixi/mixin-cache-as-bitmap - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/var o_=new ge;Pe.prototype._cacheAsBitmap=!1,Pe.prototype._cacheData=null;var pL=function(){function r(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return r}();Object.defineProperties(Pe.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(r){if(this._cacheAsBitmap!==r){this._cacheAsBitmap=r;var t;r?(this._cacheData||(this._cacheData=new pL),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),Pe.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))},Pe.prototype._initCachedDisplayObject=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,r.batch.flush();var e=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;e.pad(n)}e.ceil(Tt.RESOLUTION);var i=r.renderTexture.current,a=r.renderTexture.sourceFrame.clone(),o=r.renderTexture.destinationFrame.clone(),s=r.projection.transform,h=fa.create({width:e.width,height:e.height}),l="cacheAsBitmap_"+aa();this._cacheData.textureCacheId=l,ue.addToCache(h.baseTexture,l),Ot.addToCache(h,l);var u=this.transform.localTransform.copyTo(o_).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,r.render(this,h,!0,u,!1),r.projection.transform=s,r.renderTexture.bind(i,a,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new va(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=t,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},Pe.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))},Pe.prototype._initCachedDisplayObjectCanvas=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),e=this.alpha;this.alpha=1;var n=r.context,i=r._projTransform;t.ceil(Tt.RESOLUTION);var a=fa.create({width:t.width,height:t.height}),o="cacheAsBitmap_"+aa();this._cacheData.textureCacheId=o,ue.addToCache(a.baseTexture,o),Ot.addToCache(a,o);var s=o_;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,a,!0,s,!1),r.context=n,r._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new va(a);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(t.x/t.width),h.anchor.y=-(t.y/t.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},Pe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Pe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Pe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ue.removeFromCache(this._cacheData.textureCacheId),Ot.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Pe.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};/*!
* @pixi/mixin-get-child-by-name - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mixin-get-child-by-name is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/Pe.prototype.name=null,nr.prototype.getChildByName=function(r,t){for(var e=0,n=this.children.length;e<n;e++)if(this.children[e].name===r)return this.children[e];if(t)for(var e=0,n=this.children.length;e<n;e++){var i=this.children[e];if(i.getChildByName){var a=this.children[e].getChildByName(r,!0);if(a)return a}}return null};/*!
* @pixi/mixin-get-global-position - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mixin-get-global-position is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*/Pe.prototype.getGlobalPosition=function(r,t){return r===void 0&&(r=new Fe),t===void 0&&(t=!1),this.parent?this.parent.toGlobal(this.position,r,t):(r.x=this.position.x,r.y=this.position.y),r};/*!
* @pixi/mesh-extras - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/mesh-extras is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Sd=function(r,t){return Sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Sd(r,t)};function yo(r,t){Sd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var s_=function(r){yo(t,r);function t(e,n,i,a){e===void 0&&(e=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=r.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=e,o.height=n,o.build(),o}return t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,h=this.width/o,l=this.height/s,u=0;u<e;u++){var c=u%this.segWidth,f=u/this.segWidth|0;n.push(c*h,f*l),i.push(c/o,f/s)}for(var d=o*s,u=0;u<d;u++){var p=u%o,m=u/o|0,g=m*this.segWidth+p,v=m*this.segWidth+p+1,y=(m+1)*this.segWidth+p,b=(m+1)*this.segWidth+p+1;a.push(g,v,y,v,b,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(ks),l_=function(r){yo(t,r);function t(e,n,i){e===void 0&&(e=200),i===void 0&&(i=0);var a=r.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=e,a.textureScale=i,a.build(),a}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(e.length<1)){n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),i.data=new Float32Array(e.length*4),a.data=new Uint16Array((e.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var h=0,l=e[0],u=this._width*this.textureScale,c=e.length,f=0;f<c;f++){var d=f*4;if(this.textureScale>0){var p=l.x-e[f].x,m=l.y-e[f].y,g=Math.sqrt(p*p+m*m);l=e[f],h+=g/u}else h=f/(c-1);o[d]=h,o[d+1]=0,o[d+2]=h,o[d+3]=1}for(var v=0,f=0;f<c-1;f++){var d=f*2;s[v++]=d,s[v++]=d+1,s[v++]=d+2,s[v++]=d+2,s[v++]=d+1,s[v++]=d+3}i.update(),a.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var n=e[0],i,a=0,o=0,s=this.buffers[0].data,h=e.length,l=0;l<h;l++){var u=e[l],c=l*4;l<e.length-1?i=e[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var f=Math.sqrt(a*a+o*o),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=f,o/=f,a*=d,o*=d,s[c]=u.x+a,s[c+1]=u.y+o,s[c+2]=u.x-a,s[c+3]=u.y-o,n=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(ks),u_=function(r){yo(t,r);function t(e,n,i){i===void 0&&(i=0);var a=this,o=new l_(e.height,n,i),s=new Os(e);return i>0&&(e.baseTexture.wrapMode=Dn.REPEAT),a=r.call(this,o,s)||this,a.autoUpdate=!0,a}return t.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),r.prototype._render.call(this,e)},t}(go),h_=function(r){yo(t,r);function t(e,n,i){var a=this,o=new s_(e.width,e.height,n,i),s=new Os(Ot.WHITE);return a=r.call(this,o,s)||this,a.texture=e,a}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),r.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),r.prototype.destroy.call(this,e)},t}(go),c_=function(r){yo(t,r);function t(e,n,i,a,o){e===void 0&&(e=Ot.EMPTY);var s=this,h=new ks(n,i,a);h.getBuffer("aVertexPosition").static=!1;var l=new Os(e);return s=r.call(this,h,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),r.prototype._render.call(this,e)},t}(go),Uu=10,mL=function(r){yo(t,r);function t(e,n,i,a,o){n===void 0&&(n=Uu),i===void 0&&(i=Uu),a===void 0&&(a=Uu),o===void 0&&(o=Uu);var s=r.call(this,Ot.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(h_);/*!
* @pixi/sprite-animated - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* @pixi/sprite-animated is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Td=function(r,t){return Td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Td(r,t)};function vL(r,t){Td(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var gL=function(r){vL(t,r);function t(e,n){n===void 0&&(n=!0);var i=r.call(this,e[0]instanceof Ot?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Xe.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Xe.shared.add(this.update,this,yn.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var n=this.animationSpeed*e,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),r.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var n=[],i=0;i<e.length;++i)n.push(Ot.from(e[i]));return new t(n)},t.fromImages=function(e){for(var n=[],i=0;i<e.length;++i)n.push(Ot.from(e[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Ot)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Xe.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Xe.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(va);/*!
* pixi.js - v5.3.12
* Compiled Wed, 23 Mar 2022 18:34:28 UTC
*
* pixi.js is licensed under the MIT License.
* http://www.opensource.org/licenses/mit-license
*//*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Id=function(r,t){return Id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Id(r,t)};function f_(r,t){Id(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var yt="5.0.0";function yL(){var r=this;Object.defineProperties(r,{SVG_SIZE:{get:function(){return ct(yt,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),r.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return ct(yt,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),r.Transform}},TransformBase:{get:function(){return ct(yt,"PIXI.TransformBase class has been removed, use PIXI.Transform"),r.Transform}},TRANSFORM_MODE:{get:function(){return ct(yt,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return ct(yt,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),r.Renderer}},CanvasRenderTarget:{get:function(){return ct(yt,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),r.utils.CanvasRenderTarget}},loader:{get:function(){return ct(yt,"PIXI.loader instance has moved to PIXI.Loader.shared"),r.Loader.shared}},FilterManager:{get:function(){return ct(yt,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),r.systems.FilterSystem}},CanvasTinter:{get:function(){return ct("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),r.canvasUtils}},GroupD8:{get:function(){return ct("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),r.groupD8}}}),r.accessibility={},Object.defineProperties(r.accessibility,{AccessibilityManager:{get:function(){return ct("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),r.AccessibilityManager}}}),r.interaction={},Object.defineProperties(r.interaction,{InteractionManager:{get:function(){return ct("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),r.InteractionManager}},InteractionData:{get:function(){return ct("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),r.InteractionData}},InteractionEvent:{get:function(){return ct("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),r.InteractionEvent}}}),r.prepare={},Object.defineProperties(r.prepare,{BasePrepare:{get:function(){return ct("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),r.BasePrepare}},Prepare:{get:function(){return ct("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),r.Prepare}},CanvasPrepare:{get:function(){return ct("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),r.CanvasPrepare}}}),r.extract={},Object.defineProperties(r.extract,{Extract:{get:function(){return ct("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),r.Extract}},CanvasExtract:{get:function(){return ct("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),r.CanvasExtract}}}),r.extras={},Object.defineProperties(r.extras,{TilingSprite:{get:function(){return ct(yt,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),r.TilingSprite}},TilingSpriteRenderer:{get:function(){return ct(yt,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),r.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return ct(yt,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),r.AnimatedSprite}},BitmapText:{get:function(){return ct(yt,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),r.BitmapText}}}),r.TilingSprite.fromFrame=function(c,f,d){return ct("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),r.TilingSprite.from(c,{width:f,height:d})},r.TilingSprite.fromImage=function(c,f,d,p){return p===void 0&&(p={}),ct("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),p&&typeof p!="object"&&(p={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),p.width=f,p.height=d,r.TilingSprite.from(c,p)},Object.defineProperties(r.utils,{getSvgSize:{get:function(){return ct(yt,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),r.resources.SVGResource.getSize}}}),r.mesh={},Object.defineProperties(r.mesh,{Mesh:{get:function(){return ct(yt,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),r.SimpleMesh}},NineSlicePlane:{get:function(){return ct(yt,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),r.NineSlicePlane}},Plane:{get:function(){return ct(yt,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),r.SimplePlane}},Rope:{get:function(){return ct(yt,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),r.SimpleRope}},RawMesh:{get:function(){return ct(yt,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),r.Mesh}},CanvasMeshRenderer:{get:function(){return ct(yt,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),r.CanvasMeshRenderer}},MeshRenderer:{get:function(){return ct(yt,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),r.MeshRenderer}}}),r.particles={},Object.defineProperties(r.particles,{ParticleContainer:{get:function(){return ct(yt,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),r.ParticleContainer}},ParticleRenderer:{get:function(){return ct(yt,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),r.ParticleRenderer}}}),r.ticker={},Object.defineProperties(r.ticker,{Ticker:{get:function(){return ct(yt,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),r.Ticker}},shared:{get:function(){return ct(yt,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),r.Ticker.shared}}}),r.loaders={},Object.defineProperties(r.loaders,{Loader:{get:function(){return ct(yt,"PIXI.loaders.Loader class has moved to PIXI.Loader"),r.Loader}},Resource:{get:function(){return ct(yt,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),r.LoaderResource}},bitmapFontParser:{get:function(){return ct(yt,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),r.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){ct(yt,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return ct(yt,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),r.SpritesheetLoader.use}},getResourcePath:{get:function(){return ct(yt,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),r.SpritesheetLoader.getResourcePath}}}),r.Loader.addPixiMiddleware=function(c){return ct(yt,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),r.loaders.Loader.registerPlugin({use:c()})};var t=function(c){return"on"+c.charAt(0).toUpperCase()+c.slice(1)};Object.assign(r.Loader.prototype,{on:function(c){var f=t(c);ct(yt,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+f+".add")},once:function(c){var f=t(c);ct(yt,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+f+".once")},off:function(c){var f=t(c);ct(yt,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+f+".detach")}}),Object.defineProperty(r.extract,"WebGLExtract",{get:function(){return ct(yt,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),r.Extract}}),Object.defineProperty(r.prepare,"WebGLPrepare",{get:function(){return ct(yt,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),r.Prepare}}),r.Container.prototype._renderWebGL=function(c){ct(yt,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(c)},r.Container.prototype.renderWebGL=function(c){ct(yt,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(c)},r.DisplayObject.prototype.renderWebGL=function(c){ct(yt,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(c)},r.Container.prototype.renderAdvancedWebGL=function(c){ct(yt,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(c)},Object.defineProperties(r.settings,{TRANSFORM_MODE:{get:function(){return ct(yt,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){ct(yt,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=r.BaseTexture;e.prototype.loadSource=function(c){ct(yt,"PIXI.BaseTexture.loadSource method has been deprecated");var f=r.resources.autoDetectResource(c);f.internal=!0,this.setResource(f),this.update()};var n=!1;Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return ct(yt,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var c;return ct(yt,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),(c=this.resource)===null||c===void 0?void 0:c.url},set:function(c){ct(yt,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=c)}},source:{get:function(){return ct(yt,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(c){ct(yt,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=c)}},premultiplyAlpha:{get:function(){return ct("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(c){ct("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(c)}},_id:{get:function(){return n||(ct("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),n=!0),this._batchLocation},set:function(c){this._batchLocation=c}}}),e.fromImage=function(c,f,d,p){ct(yt,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var m={scale:p,crossorigin:f};return e.from(c,{scaleMode:d,resourceOptions:m})},e.fromCanvas=function(c,f){return ct(yt,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(c,{scaleMode:f})},e.fromSVG=function(c,f,d,p){ct(yt,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var m={scale:p,crossorigin:f};return e.from(c,{scaleMode:d,resourceOptions:m})},Object.defineProperties(r.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return ct("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode!==0},set:function(c){ct("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(c)}}}),r.Point.prototype.copy=function(c){return ct(yt,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(c)},r.ObservablePoint.prototype.copy=function(c){return ct(yt,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(c)},r.Rectangle.prototype.copy=function(c){return ct(yt,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(c)},r.Matrix.prototype.copy=function(c){return ct(yt,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(c)},r.systems.StateSystem.prototype.setState=function(c){return ct("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(c)},Object.assign(r.systems.FilterSystem.prototype,{getRenderTarget:function(c,f){return ct(yt,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,f)},returnRenderTarget:function(c){ct(yt,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(c)},calculateScreenSpaceMatrix:function(c){ct(yt,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var f=c.identity(),d=this.activeState,p=d.sourceFrame,m=d.destinationFrame;return f.translate(p.x/m.width,p.y/m.height),f.scale(m.width,m.height),f},calculateNormalizedScreenSpaceMatrix:function(c){ct(yt,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var f=this.activeState,d=f.sourceFrame,p=f.destinationFrame,m=c.identity();m.translate(d.x/p.width,d.y/p.height);var g=p.width/d.width,v=p.height/d.height;return m.scale(g,v),m}}),Object.defineProperties(r.RenderTexture.prototype,{sourceFrame:{get:function(){return ct(yt,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return ct(yt,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(c){f_(f,c);function f(d,p,m,g){var v=this;return ct(yt,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),v=c.call(this,!0,d,p,m,g)||this,v}return f}(r.filters.BlurFilterPass),a=function(c){f_(f,c);function f(d,p,m,g){var v=this;return ct(yt,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),v=c.call(this,!1,d,p,m,g)||this,v}return f}(r.filters.BlurFilterPass);Object.assign(r.filters,{BlurXFilter:i,BlurYFilter:a});var o=r.Sprite,s=r.Texture,h=r.Graphics;h.prototype.generateCanvasTexture||(h.prototype.generateCanvasTexture=function(){ct(yt,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(h.prototype,"graphicsData",{get:function(){return ct(yt,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}});function l(c,f,d,p){return ct(yt,"PIXI.Sprite."+c+" method is deprecated, use PIXI.Sprite.from"),o.from(f,{resourceOptions:{scale:p,crossorigin:d}})}o.fromImage=l.bind(null,"fromImage"),o.fromSVG=l.bind(null,"fromSVG"),o.fromCanvas=l.bind(null,"fromCanvas"),o.fromVideo=l.bind(null,"fromVideo"),o.fromFrame=l.bind(null,"fromFrame");function u(c,f,d,p){return ct(yt,"PIXI.Texture."+c+" method is deprecated, use PIXI.Texture.from"),s.from(f,{resourceOptions:{scale:p,crossorigin:d}})}s.fromImage=u.bind(null,"fromImage"),s.fromSVG=u.bind(null,"fromSVG"),s.fromCanvas=u.bind(null,"fromCanvas"),s.fromVideo=u.bind(null,"fromVideo"),s.fromFrame=u.bind(null,"fromFrame"),Object.defineProperty(r.AbstractRenderer.prototype,"autoResize",{get:function(){return ct(yt,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(c){ct(yt,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=c}}),Object.defineProperty(r.Renderer.prototype,"textureManager",{get:function(){return ct(yt,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),r.utils.mixins={mixin:function(){ct(yt,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){ct(yt,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){ct(yt,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(r.BitmapText.prototype,"font",{get:function(){return ct("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(c){if(ct("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),!!c){var f={font:c};this._upgradeStyle(f),f.fontSize=f.fontSize||r.BitmapFont.available[f.fontName].size,this._fontName=f.fontName,this._fontSize=f.fontSize,this.dirty=!0}}})}Vn.registerPlugin("accessibility",tb),Vn.registerPlugin("extract",ax),Vn.registerPlugin("interaction",ib),Vn.registerPlugin("particle",gx),Vn.registerPlugin("prepare",Rx),Vn.registerPlugin("batch",rx),Vn.registerPlugin("tilingSprite",Dx),yi.registerPlugin(jx),yi.registerPlugin(kx),ho.registerPlugin(eb),ho.registerPlugin(px);var bL="5.3.12",xL={AlphaFilter:G3,BlurFilter:tL,BlurFilterPass:yd,ColorMatrixFilter:xd,DisplacementFilter:oL,FXAAFilter:hL,NoiseFilter:dL};const d_=Object.freeze(Object.defineProperty({__proto__:null,utils:JN,VERSION:bL,filters:xL,useDeprecated:yL,AccessibilityManager:tb,accessibleTarget:K0,InteractionData:wf,InteractionEvent:rb,InteractionManager:ib,InteractionTrackingData:xu,interactiveTarget:nb,Application:ho,AbstractBatchRenderer:Kb,AbstractRenderer:qb,Attribute:Mf,BaseRenderTexture:ws,BaseTexture:ue,BatchDrawCall:ku,BatchGeometry:Yf,BatchPluginFactory:ex,BatchRenderer:rx,BatchShaderGenerator:Jb,BatchTextureArray:Fu,Buffer:Ye,Filter:Bn,FilterState:mb,Framebuffer:Tu,GLFramebuffer:xb,GLProgram:Yb,GLTexture:Ou,Geometry:uo,IGLUniformData:LD,MaskData:Eb,ObjectRenderer:Es,Program:Is,Quad:pb,QuadUv:Rf,RenderTexture:fa,RenderTexturePool:cb,Renderer:Vn,Shader:vi,SpriteMaskFilter:Fb,State:gi,System:pr,Texture:Ot,TextureMatrix:Ru,TextureUvs:Cf,UniformGroup:mi,ViewableBuffer:Zb,autoDetectRenderer:Gb,checkMaxIfStatementsInShader:Ob,defaultFilterVertex:Xf,defaultVertex:$b,resources:hD,systems:zD,uniformParsers:Cu,Extract:ax,AppLoaderPlugin:px,Loader:yi,LoaderResource:bn,TextureLoader:dx,ParticleContainer:u3,ParticleRenderer:gx,BasePrepare:Cx,CountLimiter:Px,Prepare:Rx,TimeLimiter:k3,Spritesheet:Ox,SpritesheetLoader:kx,TilingSprite:F3,TilingSpriteRenderer:Dx,BitmapFont:bi,BitmapFontData:Fs,BitmapFontLoader:jx,BitmapText:z3,Ticker:Xe,TickerPlugin:eb,get UPDATE_PRIORITY(){return yn},get ALPHA_MODES(){return Zr},get BLEND_MODES(){return gt},get BUFFER_BITS(){return ys},get CLEAR_MODES(){return Kr},get DRAW_MODES(){return Sr},get ENV(){return gn},get FORMATS(){return oo},get GC_MODES(){return du},get MASK_TYPES(){return fr},get MIPMAP_MODES(){return ea},get MSAA_QUALITY(){return ra},get PRECISION(){return Jr},get RENDERER_TYPE(){return ao},get SCALE_MODES(){return cr},get TARGETS(){return di},get TYPES(){return Ae},get WRAP_MODES(){return Dn},Bounds:_s,Container:nr,DisplayObject:Pe,TemporaryDisplayObject:xf,FillStyle:qf,GRAPHICS_CURVES:co,Graphics:Xu,GraphicsData:td,GraphicsGeometry:Tx,get LINE_CAP(){return Un},get LINE_JOIN(){return jn},LineStyle:Ix,graphicsUtils:p3,Circle:q0,DEG_TO_RAD:H0,Ellipse:G0,Matrix:ge,ObservablePoint:sa,PI_2:so,Point:Fe,Polygon:oa,RAD_TO_DEG:z0,Rectangle:$t,RoundedRectangle:$0,get SHAPES(){return xe},Transform:yu,groupD8:de,Mesh:go,MeshBatchUvs:Lx,MeshGeometry:ks,MeshMaterial:Os,NineSlicePlane:mL,PlaneGeometry:s_,RopeGeometry:l_,SimpleMesh:c_,SimplePlane:h_,SimpleRope:u_,Runner:$e,Sprite:va,AnimatedSprite:gL,get TEXT_GRADIENT(){return vo},Text:sd,TextMetrics:Nr,TextStyle:ga,isMobile:Or,settings:Tt},Symbol.toStringTag,{value:"Module"}));var Vt;(function(r){r[r.Region=0]="Region",r[r.BoundingBox=1]="BoundingBox",r[r.Mesh=2]="Mesh",r[r.LinkedMesh=3]="LinkedMesh",r[r.Path=4]="Path",r[r.Point=5]="Point",r[r.Clipping=6]="Clipping"})(Vt||(Vt={}));var Wu=function(){function r(t,e,n,i){e===void 0&&(e=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=i}return r.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},r.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},r.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},r.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},r.prototype.readInt=function(t){var e=this.readByte(),n=e&127;return e&128&&(e=this.readByte(),n|=(e&127)<<7,e&128&&(e=this.readByte(),n|=(e&127)<<14,e&128&&(e=this.readByte(),n|=(e&127)<<21,e&128&&(e=this.readByte(),n|=(e&127)<<28)))),t?n:n>>>1^-(n&1)},r.prototype.readStringRef=function(){var t=this.readInt(!0);return t==0?null:this.strings[t-1]},r.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:e+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:e+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:e+=String.fromCharCode(i),n++}}return e},r.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},r.prototype.readBoolean=function(){return this.readByte()!=0},r}(),F;(function(r){r[r.setup=0]="setup",r[r.first=1]="first",r[r.replace=2]="replace",r[r.add=3]="add"})(F||(F={}));var Dt;(function(r){r[r.mixIn=0]="mixIn",r[r.mixOut=1]="mixOut"})(Dt||(Dt={}));var pe;(function(r){r[r.Fixed=0]="Fixed",r[r.Percent=1]="Percent"})(pe||(pe={}));var _e;(function(r){r[r.Tangent=0]="Tangent",r[r.Chain=1]="Chain",r[r.ChainScale=2]="ChainScale"})(_e||(_e={}));var Mt;(function(r){r[r.Normal=0]="Normal",r[r.OnlyTranslation=1]="OnlyTranslation",r[r.NoRotationOrReflection=2]="NoRotationOrReflection",r[r.NoScale=3]="NoScale",r[r.NoScaleOrReflection=4]="NoScaleOrReflection"})(Mt||(Mt={}));/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Ad=function(r,t){return Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Ad(r,t)};function bo(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ad(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function p_(r){switch(r.toLowerCase()){case"nearest":return ir.Nearest;case"linear":return ir.Linear;case"mipmap":return ir.MipMap;case"mipmapnearestnearest":return ir.MipMapNearestNearest;case"mipmaplinearnearest":return ir.MipMapLinearNearest;case"mipmapnearestlinear":return ir.MipMapNearestLinear;case"mipmaplinearlinear":return ir.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+r)}}var ir;(function(r){r[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.MipMap=9987]="MipMap",r[r.MipMapNearestNearest=9984]="MipMapNearestNearest",r[r.MipMapLinearNearest=9985]="MipMapLinearNearest",r[r.MipMapNearestLinear=9986]="MipMapNearestLinear",r[r.MipMapLinearLinear=9987]="MipMapLinearLinear"})(ir||(ir={}));var xi;(function(r){r[r.MirroredRepeat=33648]="MirroredRepeat",r[r.ClampToEdge=33071]="ClampToEdge",r[r.Repeat=10497]="Repeat"})(xi||(xi={}));var Pd=function(){function r(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(r.prototype,"width",{get:function(){var t=this.texture;return t.trim?t.trim.width:t.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){var t=this.texture;return t.trim?t.trim.height:t.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),r}(),_L=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return r}(),wL=function(){function r(t,e,n){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,n)}return r.prototype.addTexture=function(t,e){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===e.baseTexture){i=n[a];break}if(i===null){i=new m_,i.name="texturePage";var o=e.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=ir.Nearest,i.uWrap=xi.ClampToEdge,i.vWrap=xi.ClampToEdge,n.push(i)}var s=new v_;return s.name=t,s.page=i,s.texture=e,s.index=-1,this.regions.push(s),s},r.prototype.addTextureHash=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.addTexture(e&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,t[n])},r.prototype.addSpineAtlas=function(t,e,n){return this.load(t,e,n)},r.prototype.load=function(t,e,n){var i=this;if(e==null)throw new Error("textureLoader cannot be null.");var a=new EL(t),o=new Array(4),s=null,h={},l=null;h.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},h.format=function(){},h.filter=function(){s.minFilter=p_(o[1]),s.magFilter=p_(o[2])},h.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=xi.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=xi.Repeat)},h.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var d=o[1],p=0;d.toLocaleLowerCase()=="true"?p=6:d.toLocaleLowerCase()=="false"?p=0:p=(720-parseFloat(d))%360/45,l.rotate=p},u.index=function(){l.index=parseInt(o[1])};for(var c=a.readLine();c!=null&&c.trim().length==0;)c=a.readLine();for(;!(c==null||c.trim().length==0||a.readEntry(o,c)==0);)c=a.readLine();var f=function(){for(;;){if(c==null)return n&&n(i);if(c.trim().length==0)s=null,c=a.readLine();else if(s===null){for(s=new m_,s.name=c.trim();a.readEntry(o,c=a.readLine())!=0;){var d=h[o[0]];d&&d()}i.pages.push(s),e(s.name,function(T){if(T===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=T,s.pma&&(T.alphaMode=Zr.PMA),T.valid||T.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=T.realWidth,s.height=T.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),f()});break}else{l=new _L;var p=new v_;p.name=c,p.page=s;for(var m=null,g=null;;){var v=a.readEntry(o,c=a.readLine());if(v==0)break;var d=u[o[0]];if(d)d();else{m==null&&(m=[],g=[]),m.push(o[0]);for(var y=[],b=0;b<v;b++)y.push(parseInt(o[b+1]));g.push(y)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var x=s.baseTexture.resolution;l.x/=x,l.y/=x,l.width/=x,l.height/=x,l.originalWidth/=x,l.originalHeight/=x,l.offsetX/=x,l.offsetY/=x;var _=l.rotate%4!==0,w=new $t(l.x,l.y,_?l.height:l.width,_?l.width:l.height),E=new $t(0,0,l.originalWidth,l.originalHeight),S=new $t(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);p.texture=new Ot(p.page.baseTexture,w,E,S,l.rotate),p.index=l.index,p.texture.updateUvs(),i.regions.push(p)}}};f()},r.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},r.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},r}(),EL=function(){function r(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return r.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},r.prototype.readEntry=function(t,e){if(e==null||(e=e.trim(),e.length==0))return 0;var n=e.indexOf(":");if(n==-1)return 0;t[0]=e.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=e.indexOf(",",a);if(o==-1)return t[i]=e.substr(a).trim(),i;if(t[i]=e.substr(a,o-a).trim(),a=o+1,i==4)return 4}},r}(),m_=function(){function r(){this.minFilter=ir.Nearest,this.magFilter=ir.Nearest,this.uWrap=xi.ClampToEdge,this.vWrap=xi.ClampToEdge}return r.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==ir.Linear?t.scaleMode=cr.LINEAR:this.minFilter==ir.Nearest?t.scaleMode=cr.NEAREST:(t.mipmap=ea.POW2,e==ir.MipMapNearestNearest?t.scaleMode=cr.NEAREST:t.scaleMode=cr.LINEAR)},r}(),v_=function(r){bo(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Pd),SL=function(r){return function(t){return r[0]=t,r[0]}}(new Float32Array(1)),TL=Math.fround||SL,g_=function(){function r(){this.array=new Array}return r.prototype.add=function(t){var e=this.contains(t);return this.array[t|0]=t|0,!e},r.prototype.contains=function(t){return this.array[t|0]!=null},r.prototype.remove=function(t){this.array[t|0]=void 0},r.prototype.clear=function(){this.array.length=0},r}(),y_=function(){function r(){this.entries={},this.size=0}return r.prototype.add=function(t){var e=this.entries[t];return this.entries[t]=!0,e?!1:(this.size++,!0)},r.prototype.addAll=function(t){for(var e=this.size,n=0,i=t.length;n<i;n++)this.add(t[n]);return e!=this.size},r.prototype.contains=function(t){return this.entries[t]},r.prototype.clear=function(){this.entries={},this.size=0},r}(),dt=function(){function r(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=t,this.g=e,this.b=n,this.a=i}return r.prototype.set=function(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this.clamp()},r.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},r.prototype.setFromString=function(t){return t=t.charAt(0)=="#"?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=t.length!=8?1:parseInt(t.substr(6,2),16)/255,this},r.prototype.add=function(t,e,n,i){return this.r+=t,this.g+=e,this.b+=n,this.a+=i,this.clamp()},r.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},r.rgba8888ToColor=function(t,e){t.r=((e&4278190080)>>>24)/255,t.g=((e&16711680)>>>16)/255,t.b=((e&65280)>>>8)/255,t.a=(e&255)/255},r.rgb888ToColor=function(t,e){t.r=((e&16711680)>>>16)/255,t.g=((e&65280)>>>8)/255,t.b=(e&255)/255},r.fromString=function(t){return new r().setFromString(t)},r.WHITE=new r(1,1,1,1),r.RED=new r(1,0,0,1),r.GREEN=new r(0,1,0,1),r.BLUE=new r(0,0,1,1),r.MAGENTA=new r(1,0,1,1),r}(),B=function(){function r(){}return r.clamp=function(t,e,n){return t<e?e:t>n?n:t},r.cosDeg=function(t){return Math.cos(t*r.degRad)},r.sinDeg=function(t){return Math.sin(t*r.degRad)},r.signum=function(t){return t>0?1:t<0?-1:0},r.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},r.cbrt=function(t){var e=Math.pow(Math.abs(t),.3333333333333333);return t<0?-e:e},r.randomTriangular=function(t,e){return r.randomTriangularWith(t,e,(t+e)*.5)},r.randomTriangularWith=function(t,e,n){var i=Math.random(),a=e-t;return i<=(n-t)/a?t+Math.sqrt(i*a*(n-t)):e-Math.sqrt((1-i)*a*(e-n))},r.isPowerOfTwo=function(t){return t&&(t&t-1)===0},r.PI=3.1415927,r.PI2=r.PI*2,r.radiansToDegrees=180/r.PI,r.radDeg=r.radiansToDegrees,r.degreesToRadians=r.PI/180,r.degRad=r.degreesToRadians,r}(),IL=function(){function r(){}return r.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},r}(),AL=function(r){bo(t,r);function t(e){var n=r.call(this)||this;return n.power=2,n.power=e,n}return t.prototype.applyInternal=function(e){return e<=.5?Math.pow(e*2,this.power)/2:Math.pow((e-1)*2,this.power)/(this.power%2==0?-2:2)+1},t}(IL),b_=function(r){bo(t,r);function t(e){return r.call(this,e)||this}return t.prototype.applyInternal=function(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1},t}(AL),Z=function(){function r(){}return r.arrayCopy=function(t,e,n,i,a){for(var o=e,s=i;o<e+a;o++,s++)n[s]=t[o]},r.arrayFill=function(t,e,n,i){for(var a=e;a<n;a++)t[a]=i},r.setArraySize=function(t,e,n){n===void 0&&(n=0);var i=t.length;if(i==e)return t;if(t.length=e,i<e)for(var a=i;a<e;a++)t[a]=n;return t},r.ensureArrayCapacity=function(t,e,n){return n===void 0&&(n=0),t.length>=e?t:r.setArraySize(t,e,n)},r.newArray=function(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e;return n},r.newFloatArray=function(t){if(r.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},r.newShortArray=function(t){if(r.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},r.toFloatArray=function(t){return r.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},r.toSinglePrecision=function(t){return r.SUPPORTS_TYPED_ARRAYS?TL(t):t},r.webkit602BugfixHelper=function(t,e){},r.contains=function(t,e,n){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},r.enumValue=function(t,e){return t[e[0].toUpperCase()+e.slice(1)]},r.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",r}(),xo=function(){function r(t){this.items=new Array,this.instantiator=t}return r.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},r.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},r.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)this.free(t[e])},r.prototype.clear=function(){this.items.length=0},r}(),Ds=function(){function r(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.x=t,this.y=e}return r.prototype.set=function(t,e){return this.x=t,this.y=e,this},r.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},r.prototype.normalize=function(){var t=this.length();return t!=0&&(this.x/=t,this.y/=t),this},r}(),PL={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},_i=[0,0,0],CL=function(r){bo(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.region=null,e.attachment=null,e}return t}(va),ML=function(r){bo(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return t}(c_),Ls=function(r){bo(t,r);function t(e){var n=r.call(this)||this;if(!e)throw new Error("The spineData param is required.");if(typeof e=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=e,n.createSkeleton(e),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),h=n.newContainer();if(n.slotContainers.push(h),n.addChild(h),n.tempClipContainers.push(null),!!s)if(s.type===Vt.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,h.addChild(u)}else if(s.type===Vt.Mesh){var c=n.createMesh(o,s);o.currentMesh=c,o.currentMeshId=s.id,o.currentMeshName=s.name,h.addChild(c)}else s.type===Vt.Clipping&&(n.createGraphics(o,s),h.addChild(o.clippingContainer),h.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,this.updateTransform=e?t.prototype.autoUpdateTransform:nr.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return pu(this.tintRgb)},set:function(e){this.tintRgb=pi(e,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delayLimit",{get:function(){var e=typeof this.localDelayLimit<"u"?this.localDelayLimit:PL.GLOBAL_DELAY_LIMIT;return e||Number.MAX_VALUE},enumerable:!1,configurable:!0}),t.prototype.update=function(e){var n=this.delayLimit;if(e>n&&(e=n),this.state.update(e),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var i=this.skeleton.slots,a=this.color,o=null,s=null;a?(o=a.light,s=a.dark):o=this.tintRgb;for(var h=0,l=i.length;h<l;h++){var u=i[h],c=u.getAttachment(),f=this.slotContainers[h];if(!c){f.visible=!1;continue}var d=null;c.sequence&&c.sequence.apply(u,c);var p=c.region,m=c.color;switch(c.type){case Vt.Region:var g=f.transform;if(g.setFromMatrix(u.bone.matrix),p=c.region,u.currentMesh&&(u.currentMesh.visible=!1,u.currentMesh=null,u.currentMeshId=void 0,u.currentMeshName=void 0),!p){u.currentSprite&&(u.currentSprite.renderable=!1);break}if(!u.currentSpriteName||u.currentSpriteName!==c.name){var v=c.name;if(u.currentSprite&&(u.currentSprite.visible=!1),u.sprites=u.sprites||{},u.sprites[v]!==void 0)u.sprites[v].visible=!0;else{var y=this.createSprite(u,c,v);f.addChild(y)}u.currentSprite=u.sprites[v],u.currentSpriteName=v}u.currentSprite.renderable=!0,u.hackRegion||this.setSpriteRegion(c,u.currentSprite,p),u.currentSprite.color?d=u.currentSprite.color:(_i[0]=o[0]*u.color.r*m.r,_i[1]=o[1]*u.color.g*m.g,_i[2]=o[2]*u.color.b*m.b,u.currentSprite.tint=pu(_i)),u.currentSprite.blendMode=u.blendMode;break;case Vt.Mesh:if(u.currentSprite){u.currentSprite.visible=!1,u.currentSprite=null,u.currentSpriteName=void 0;var b=new yu;b._parentID=-1,b._worldID=f.transform._worldID,f.transform=b}if(!p){u.currentMesh&&(u.currentMesh.renderable=!1);break}var x=c.id;if(!u.currentMeshId||u.currentMeshId!==x){var _=x;if(u.currentMesh&&(u.currentMesh.visible=!1),u.meshes=u.meshes||{},u.meshes[_]!==void 0)u.meshes[_].visible=!0;else{var w=this.createMesh(u,c);f.addChild(w)}u.currentMesh=u.meshes[_],u.currentMeshName=c.name,u.currentMeshId=_}u.currentMesh.renderable=!0,c.computeWorldVerticesOld(u,u.currentMesh.vertices),u.currentMesh.color?d=u.currentMesh.color:(_i[0]=o[0]*u.color.r*m.r,_i[1]=o[1]*u.color.g*m.g,_i[2]=o[2]*u.color.b*m.b,u.currentMesh.tint=pu(_i)),u.currentMesh.blendMode=u.blendMode,u.hackRegion||this.setMeshRegion(c,u.currentMesh,p);break;case Vt.Clipping:u.currentGraphics||(this.createGraphics(u,c),f.addChild(u.clippingContainer),f.addChild(u.currentGraphics)),this.updateGraphics(u,c),f.alpha=1,f.visible=!0;continue;default:f.visible=!1;continue}if(f.visible=!0,d){var E=u.color.r*m.r,S=u.color.g*m.g,T=u.color.b*m.b;d.setLight(o[0]*E+s[0]*(1-E),o[1]*S+s[1]*(1-S),o[2]*T+s[2]*(1-T)),u.darkColor?(E=u.darkColor.r,S=u.darkColor.g,T=u.darkColor.b):(E=0,S=0,T=0),d.setDark(o[0]*E+s[0]*(1-E),o[1]*S+s[1]*(1-S),o[2]*T+s[2]*(1-T))}f.alpha=u.color.a}for(var I=this.skeleton.drawOrder,R=null,A=null,h=0,l=I.length;h<l;h++){var u=i[I[h].data.index],f=this.slotContainers[I[h].data.index];if(A||f.parent!==null&&f.parent!==this&&(f.parent.removeChild(f),f.parent=this),u.currentGraphics&&u.getAttachment())A=u.clippingContainer,R=u.getAttachment(),A.children.length=0,this.children[h]=f,R.endSlot===u.data&&(R.endSlot=null);else if(A){var C=this.tempClipContainers[h];C||(C=this.tempClipContainers[h]=this.newContainer(),C.visible=!1),this.children[h]=C,f.parent=null,A.addChild(f),R.endSlot==u.data&&(A.renderable=!0,A=null,R=null)}else this.children[h]=f}}},t.prototype.setSpriteRegion=function(e,n,i){n.attachment===e&&n.region===i||(n.region=i,n.attachment=e,n.texture=i.texture,n.rotation=e.rotation*B.degRad,n.position.x=e.x,n.position.y=e.y,n.alpha=e.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=e.scaleX*e.width/i.originalWidth,n.scale.y=-e.scaleY*e.height/i.originalHeight))},t.prototype.setMeshRegion=function(e,n,i){n.attachment===e&&n.region===i||(n.region=i,n.attachment=e,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(e.regionUVs))},t.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var e=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(e)}nr.prototype.updateTransform.call(this)},t.prototype.createSprite=function(e,n,i){var a=n.region;e.hackAttachment===n&&(a=e.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),e.sprites=e.sprites||{},e.sprites[i]=s,s},t.prototype.createMesh=function(e,n){var i=n.region;e.hackAttachment===n&&(i=e.hackRegion,e.hackAttachment=null,e.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),Sr.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),e.meshes=e.meshes||{},e.meshes[n.id]=a,a},t.prototype.createGraphics=function(e,n){var i=this.newGraphics(),a=new oa([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,e.currentGraphics=i,e.clippingContainer=this.newContainer(),e.clippingContainer.mask=e.currentGraphics,i},t.prototype.updateGraphics=function(e,n){var i=e.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(e,0,o,a,0,2),i.invalidate()},t.prototype.hackTextureBySlotIndex=function(e,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[e];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new Pd,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},t.prototype.hackTextureBySlotName=function(e,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(e);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},t.prototype.hackTextureAttachment=function(e,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(e),s=this.skeleton.getAttachmentByName(e,n);s.region.texture=i;var h=this.skeleton.slots[o];if(!h)return!1;var l=h.getAttachment();if(n===l.name){var u=s.region;return i?(u=new Pd,u.texture=i,u.size=a,h.hackRegion=u,h.hackAttachment=l):(h.hackRegion=null,h.hackAttachment=null),h.currentSprite&&h.currentSprite.region!=u?(this.setSpriteRegion(l,h.currentSprite,u),h.currentSprite.region=u):h.currentMesh&&h.currentMesh.region!=u&&this.setMeshRegion(l,h.currentMesh,u),!0}return!1},t.prototype.newContainer=function(){return new nr},t.prototype.newSprite=function(e){return new CL(e)},t.prototype.newGraphics=function(){return new Xu},t.prototype.newMesh=function(e,n,i,a,o){return new ML(e,n,i,a,o)},t.prototype.transformHack=function(){return 1},t.prototype.hackAttachmentGroups=function(e,n,i){if(e){for(var a=[],o=[],s=0,h=this.skeleton.slots.length;s<h;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",c=l.currentSprite||l.currentMesh;u.endsWith(e)?(c.parentGroup=n,o.push(c)):i&&c&&(c.parentGroup=i,a.push(c))}return[a,o]}},t.prototype.destroy=function(e){for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(e);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(e);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(e);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,r.prototype.destroy.call(this,e)},t.clippingPolygon=[],t}(nr);Object.defineProperty(Ls.prototype,"visible",{get:function(){return this._visible},set:function(r){r!==this._visible&&(this._visible=r,r&&(this.lastTime=0))}});function RL(r){return r.type===bn.TYPE.JSON}function OL(r){return r.xhrType===bn.XHR_RESPONSE_TYPE.BUFFER}bn.setExtensionXhrType("skel",bn.XHR_RESPONSE_TYPE.BUFFER);var kL=function(){function r(){}return r.prototype.genMiddleware=function(){var t=this;return{use:function(e,n){if(!e.data)return n();var i=RL(e)&&e.data.bones,a=OL(e)&&(e.extension==="skel"||e.metadata&&e.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=e.data;i?o=t.createJsonParser():(o=t.createBinaryParser(),e.data instanceof ArrayBuffer&&(s=new Uint8Array(e.data)));var h=e.metadata||{},l=h?h.spineSkeletonScale:null;l&&(o.scale=l);var u=h.spineAtlas;if(u===!1)return n();if(u&&u.pages)return t.parseData(e,o,u,s),n();var c=h.spineAtlasSuffix||".atlas",f=e.url,d=f.indexOf("?");d>0&&(f=f.substr(0,d)),f=f.substr(0,f.lastIndexOf("."))+c,h.spineAtlasFile&&(f=h.spineAtlasFile),f=f.replace(this.baseUrl,"");var p={crossOrigin:e.crossOrigin,xhrType:bn.XHR_RESPONSE_TYPE.TEXT,metadata:h.spineMetadata||null,parentResource:e},m={crossOrigin:e.crossOrigin,metadata:h.imageMetadata||null,parentResource:e},g=e.url.substr(0,e.url.lastIndexOf("/")+1);g=g.replace(this.baseUrl,"");var v=h.imageNamePrefix||e.name+"_atlas_page_",y=h.images?x_(h.images):h.image?x_({default:h.image}):h.imageLoader?h.imageLoader(this,v,g,m):FL(this,v,g,m);function b(x){new wL(x,y,function(_){_&&t.parseData(e,o,_,s),n()})}h.atlasRawData?b(h.atlasRawData):this.add(e.name+"_atlas",f,p,function(x){x.error?n():b(x.data)})}}},r}();function FL(r,t,e,n){return e&&e.lastIndexOf("/")!==e.length-1&&(e+="/"),function(i,a){var o=t+i,s=e+i,h=r.resources[o];if(h){var l=function(){a(h.texture.baseTexture)};h.texture?l():h.onAfterMiddleware.add(l)}else r.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=Zr.PMA),a(u.texture.baseTexture))})}}function x_(r){return function(t,e){var n=r[t]||r.default;n&&n.baseTexture?e(n.baseTexture):e(n)}}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Cd=function(r,t){return Cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Cd(r,t)};function ye(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Cd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Md=function(){function r(t){if(t==null)throw new Error("name cannot be null.");this.name=t}return r}(),ya=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.id=(t.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return t.prototype.computeWorldVerticesOld=function(e,n){this.computeWorldVertices(e,0,this.worldVerticesLength,n,0,2)},t.prototype.computeWorldVertices=function(e,n,i,a,o,s){i=o+(i>>1)*s;var h=e.bone.skeleton,l=e.deform,u=this.vertices,c=this.bones;if(c==null){l.length>0&&(u=l);for(var f=e.bone.matrix,d=f.tx,p=f.ty,m=f.a,g=f.c,v=f.b,y=f.d,b=n,x=o;x<i;b+=2,x+=s){var _=u[b],w=u[b+1];a[x]=_*m+w*g+d,a[x+1]=_*v+w*y+p}return}for(var E=0,S=0,T=0;T<n;T+=2){var I=c[E];E+=I+1,S+=I}var R=h.bones;if(l.length==0)for(var x=o,g=S*3;x<i;x+=s){var A=0,C=0,I=c[E++];for(I+=E;E<I;E++,g+=3){var f=R[c[E]].matrix,_=u[g],w=u[g+1],O=u[g+2];A+=(_*f.a+w*f.c+f.tx)*O,C+=(_*f.b+w*f.d+f.ty)*O}a[x]=A,a[x+1]=C}else for(var N=l,x=o,g=S*3,L=S<<1;x<i;x+=s){var A=0,C=0,I=c[E++];for(I+=E;E<I;E++,g+=3,L+=2){var f=R[c[E]].matrix,_=u[g]+N[L],w=u[g+1]+N[L+1],O=u[g+2];A+=(_*f.a+w*f.c+f.tx)*O,C+=(_*f.b+w*f.d+f.ty)*O}a[x]=A,a[x+1]=C}},t.prototype.copyTo=function(e){this.bones!=null?(e.bones=new Array(this.bones.length),Z.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices!=null?(e.vertices=Z.newFloatArray(this.vertices.length),Z.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment},t.nextID=0,t}(Md),Rd=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.BoundingBox,n.color=new dt(1,1,1,1),n}return t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e},t}(ya),__=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Clipping,n.color=new dt(.2275,.2275,.8078,1),n}return t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e},t}(ya),zu=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Mesh,n.color=new dt(1,1,1,1),n.tempColor=new dt(0,0,0,0),n}return t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(e){this.parentMesh=e,e!=null&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},t.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var e=new t(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),Z.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),Z.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,this.edges!=null&&(e.edges=new Array(this.edges.length),Z.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e},t.prototype.newLinkedMesh=function(){var e=new t(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(this.parentMesh!=null?this.parentMesh:this),e},t}(ya),Bs=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new dt(1,1,1,1),n}return t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),Z.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},t}(ya),w_=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Point,n.color=new dt(.38,.94,0,1),n}return t.prototype.computeWorldPosition=function(e,n){var i=e.matrix;return n.x=this.x*i.a+this.y*i.c+e.worldX,n.y=this.x*i.b+this.y*i.d+e.worldY,n},t.prototype.computeWorldRotation=function(e){var n=e.matrix,i=B.cosDeg(this.rotation),a=B.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*B.radDeg},t.prototype.copy=function(){var e=new t(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e},t}(ya),Od=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new dt(1,1,1,1),n.offset=Z.newFloatArray(8),n.uvs=Z.newFloatArray(8),n.tempColor=new dt(1,1,1,1),n}return t.prototype.updateOffset=function(){var e=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*e,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*e,s=a+this.region.height*n,h=this.rotation*Math.PI/180,l=Math.cos(h),u=Math.sin(h),c=i*l+this.x,f=i*u,d=a*l+this.y,p=a*u,m=o*l+this.x,g=o*u,v=s*l+this.y,y=s*u,b=this.offset;b[t.OX1]=c-p,b[t.OY1]=d+f,b[t.OX2]=c-y,b[t.OY2]=v+f,b[t.OX3]=m-y,b[t.OY3]=v+g,b[t.OX4]=m-p,b[t.OY4]=d+g},t.prototype.setRegion=function(e){this.region=e;var n=this.uvs;e.rotate?(n[2]=e.u,n[3]=e.v2,n[4]=e.u,n[5]=e.v,n[6]=e.u2,n[7]=e.v,n[0]=e.u2,n[1]=e.v2):(n[0]=e.u,n[1]=e.v2,n[2]=e.u,n[3]=e.v,n[4]=e.u2,n[5]=e.v,n[6]=e.u2,n[7]=e.v2)},t.prototype.computeWorldVertices=function(e,n,i,a){var o=this.offset,s=e.matrix,h=s.tx,l=s.ty,u=s.a,c=s.c,f=s.b,d=s.d,p=0,m=0;p=o[t.OX1],m=o[t.OY1],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l,i+=a,p=o[t.OX2],m=o[t.OY2],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l,i+=a,p=o[t.OX3],m=o[t.OY3],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l,i+=a,p=o[t.OX4],m=o[t.OY4],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l},t.prototype.copy=function(){var e=new t(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,Z.arrayCopy(this.uvs,0,e.uvs,0,8),Z.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e},t.OX1=0,t.OY1=1,t.OX2=2,t.OY2=3,t.OX3=4,t.OY3=5,t.OX4=6,t.OY4=7,t.X1=0,t.Y1=1,t.C1R=2,t.C1G=3,t.C1B=4,t.C1A=5,t.U1=6,t.V1=7,t.X2=8,t.Y2=9,t.C2R=10,t.C2G=11,t.C2B=12,t.C2A=13,t.U2=14,t.V2=15,t.X3=16,t.Y3=17,t.C3R=18,t.C3G=19,t.C3B=20,t.C3A=21,t.U3=22,t.V3=23,t.X4=24,t.Y4=25,t.C4R=26,t.C4G=27,t.C4B=28,t.C4A=29,t.U4=30,t.V4=31,t}(Md),NL=function(){function r(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return r.prototype.begin=function(t){},r.prototype.transform=function(t,e,n,i){t.x+=B.randomTriangular(-this.jitterX,this.jitterY),t.y+=B.randomTriangular(-this.jitterX,this.jitterY)},r.prototype.end=function(){},r}(),DL=function(){function r(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return r.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},r.prototype.transform=function(t,e,n,i){var a=this.angle*B.degreesToRadians,o=t.x-this.worldX,s=t.y-this.worldY,h=Math.sqrt(o*o+s*s);if(h<this.radius){var l=r.interpolation.apply(0,a,(this.radius-h)/this.radius),u=Math.cos(l),c=Math.sin(l);t.x=u*o-c*s+this.worldX,t.y=c*o+u*s+this.worldY}},r.prototype.end=function(){},r.interpolation=new b_(2),r}(),Se=function(){function r(t,e,n){if(t==null)throw new Error("name cannot be null.");if(e==null)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var i=0;i<e.length;i++)this.timelineIds[e[i].getPropertyId()]=!0;this.duration=n}return r.prototype.hasTimeline=function(t){return this.timelineIds[t]==!0},r.prototype.apply=function(t,e,n,i,a,o,s,h){if(t==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,e>0&&(e%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(t,e,n,a,o,s,h)},r.binarySearch=function(t,e,n){n===void 0&&(n=1);var i=0,a=t.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(t[(o+1)*n]<=e?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},r.linearSearch=function(t,e,n){for(var i=0,a=t.length-n;i<=a;i+=n)if(t[i]>e)return i;return-1},r}(),je;(function(r){r[r.rotate=0]="rotate",r[r.translate=1]="translate",r[r.scale=2]="scale",r[r.shear=3]="shear",r[r.attachment=4]="attachment",r[r.color=5]="color",r[r.deform=6]="deform",r[r.event=7]="event",r[r.drawOrder=8]="drawOrder",r[r.ikConstraint=9]="ikConstraint",r[r.transformConstraint=10]="transformConstraint",r[r.pathConstraintPosition=11]="pathConstraintPosition",r[r.pathConstraintSpacing=12]="pathConstraintSpacing",r[r.pathConstraintMix=13]="pathConstraintMix",r[r.twoColor=14]="twoColor"})(je||(je={}));var xn=function(){function r(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=Z.newFloatArray((t-1)*r.BEZIER_SIZE)}return r.prototype.getFrameCount=function(){return this.curves.length/r.BEZIER_SIZE+1},r.prototype.setLinear=function(t){this.curves[t*r.BEZIER_SIZE]=r.LINEAR},r.prototype.setStepped=function(t){this.curves[t*r.BEZIER_SIZE]=r.STEPPED},r.prototype.getCurveType=function(t){var e=t*r.BEZIER_SIZE;if(e==this.curves.length)return r.LINEAR;var n=this.curves[e];return n==r.LINEAR?r.LINEAR:n==r.STEPPED?r.STEPPED:r.BEZIER},r.prototype.setCurve=function(t,e,n,i,a){var o=(-e*2+i)*.03,s=(-n*2+a)*.03,h=((e-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+h,c=s*2+l,f=e*.3+o+h*.16666667,d=n*.3+s+l*.16666667,p=t*r.BEZIER_SIZE,m=this.curves;m[p++]=r.BEZIER;for(var g=f,v=d,y=p+r.BEZIER_SIZE-1;p<y;p+=2)m[p]=g,m[p+1]=v,f+=u,d+=c,u+=h,c+=l,g+=f,v+=d},r.prototype.getCurvePercent=function(t,e){e=B.clamp(e,0,1);var n=this.curves,i=t*r.BEZIER_SIZE,a=n[i];if(a==r.LINEAR)return e;if(a==r.STEPPED)return 0;i++;for(var o=0,s=i,h=i+r.BEZIER_SIZE-1;i<h;i+=2)if(o=n[i],o>=e){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(e-l)/(o-l)}var c=n[i-1];return c+(1-c)*(e-o)/(1-o)},r.LINEAR=0,r.STEPPED=1,r.BEZIER=2,r.BEZIER_SIZE=10*2-1,r}(),Tr=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e<<1),n}return t.prototype.getPropertyId=function(){return(je.rotate<<24)+this.boneIndex},t.prototype.setFrame=function(e,n,i){e<<=1,this.frames[e]=n,this.frames[e+t.ROTATION]=i},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.rotation=u.data.rotation;return;case F.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-(16384-(16384.499999999996-c/360|0))*360)*o}return}if(i>=l[l.length-t.ENTRIES]){var f=l[l.length+t.PREV_ROTATION];switch(s){case F.setup:u.rotation=u.data.rotation+f*o;break;case F.first:case F.replace:f+=u.data.rotation-u.rotation,f-=(16384-(16384.499999999996-f/360|0))*360;case F.add:u.rotation+=f*o}return}var d=Se.binarySearch(l,i,t.ENTRIES),p=l[d+t.PREV_ROTATION],m=l[d],g=this.getCurvePercent((d>>1)-1,1-(i-m)/(l[d+t.PREV_TIME]-m)),v=l[d+t.ROTATION]-p;switch(v=p+(v-(16384-(16384.499999999996-v/360|0))*360)*g,s){case F.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case F.first:case F.replace:v+=u.data.rotation-u.rotation;case F.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}}},t.ENTRIES=2,t.PREV_TIME=-2,t.PREV_ROTATION=-1,t.ROTATION=1,t}(xn),ba=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(je.translate<<24)+this.boneIndex},t.prototype.setFrame=function(e,n,i,a){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.X]=i,this.frames[e+t.Y]=a},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.x=u.data.x,u.y=u.data.y;return;case F.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_X],f=l[l.length+t.PREV_Y];else{var d=Se.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_X],f=l[d+t.PREV_Y];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c+=(l[d+t.X]-c)*m,f+=(l[d+t.Y]-f)*m}switch(s){case F.setup:u.x=u.data.x+c*o,u.y=u.data.y+f*o;break;case F.first:case F.replace:u.x+=(u.data.x+c-u.x)*o,u.y+=(u.data.y+f-u.y)*o;break;case F.add:u.x+=c*o,u.y+=f*o}}},t.ENTRIES=3,t.PREV_TIME=-3,t.PREV_X=-2,t.PREV_Y=-1,t.X=1,t.Y=2,t}(xn),kd=function(r){ye(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getPropertyId=function(){return(je.scale<<24)+this.boneIndex},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case F.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_X]*u.data.scaleX,f=l[l.length+t.PREV_Y]*u.data.scaleY;else{var d=Se.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_X],f=l[d+t.PREV_Y];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c=(c+(l[d+t.X]-c)*m)*u.data.scaleX,f=(f+(l[d+t.Y]-f)*m)*u.data.scaleY}if(o==1)s==F.add?(u.scaleX+=c-u.data.scaleX,u.scaleY+=f-u.data.scaleY):(u.scaleX=c,u.scaleY=f);else{var g=0,v=0;if(h==Dt.mixOut)switch(s){case F.setup:g=u.data.scaleX,v=u.data.scaleY,u.scaleX=g+(Math.abs(c)*B.signum(g)-g)*o,u.scaleY=v+(Math.abs(f)*B.signum(v)-v)*o;break;case F.first:case F.replace:g=u.scaleX,v=u.scaleY,u.scaleX=g+(Math.abs(c)*B.signum(g)-g)*o,u.scaleY=v+(Math.abs(f)*B.signum(v)-v)*o;break;case F.add:g=u.scaleX,v=u.scaleY,u.scaleX=g+(Math.abs(c)*B.signum(g)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(f)*B.signum(v)-u.data.scaleY)*o}else switch(s){case F.setup:g=Math.abs(u.data.scaleX)*B.signum(c),v=Math.abs(u.data.scaleY)*B.signum(f),u.scaleX=g+(c-g)*o,u.scaleY=v+(f-v)*o;break;case F.first:case F.replace:g=Math.abs(u.scaleX)*B.signum(c),v=Math.abs(u.scaleY)*B.signum(f),u.scaleX=g+(c-g)*o,u.scaleY=v+(f-v)*o;break;case F.add:g=B.signum(c),v=B.signum(f),u.scaleX=Math.abs(u.scaleX)*g+(c-Math.abs(u.data.scaleX)*g)*o,u.scaleY=Math.abs(u.scaleY)*v+(f-Math.abs(u.data.scaleY)*v)*o}}}},t}(ba),Fd=function(r){ye(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getPropertyId=function(){return(je.shear<<24)+this.boneIndex},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case F.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_X],f=l[l.length+t.PREV_Y];else{var d=Se.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_X],f=l[d+t.PREV_Y];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c=c+(l[d+t.X]-c)*m,f=f+(l[d+t.Y]-f)*m}switch(s){case F.setup:u.shearX=u.data.shearX+c*o,u.shearY=u.data.shearY+f*o;break;case F.first:case F.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o,u.shearY+=(u.data.shearY+f-u.shearY)*o;break;case F.add:u.shearX+=c*o,u.shearY+=f*o}}},t}(ba),Vs=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(je.color<<24)+this.slotIndex},t.prototype.setFrame=function(e,n,i,a,o,s){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.R]=i,this.frames[e+t.G]=a,this.frames[e+t.B]=o,this.frames[e+t.A]=s},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.color.setFromColor(l.data.color);return;case F.first:var c=l.color,f=l.data.color;c.add((f.r-c.r)*o,(f.g-c.g)*o,(f.b-c.b)*o,(f.a-c.a)*o)}return}var d=0,p=0,m=0,g=0;if(i>=u[u.length-t.ENTRIES]){var v=u.length;d=u[v+t.PREV_R],p=u[v+t.PREV_G],m=u[v+t.PREV_B],g=u[v+t.PREV_A]}else{var y=Se.binarySearch(u,i,t.ENTRIES);d=u[y+t.PREV_R],p=u[y+t.PREV_G],m=u[y+t.PREV_B],g=u[y+t.PREV_A];var b=u[y],x=this.getCurvePercent(y/t.ENTRIES-1,1-(i-b)/(u[y+t.PREV_TIME]-b));d+=(u[y+t.R]-d)*x,p+=(u[y+t.G]-p)*x,m+=(u[y+t.B]-m)*x,g+=(u[y+t.A]-g)*x}if(o==1)l.color.set(d,p,m,g);else{var c=l.color;s==F.setup&&c.setFromColor(l.data.color),c.add((d-c.r)*o,(p-c.g)*o,(m-c.b)*o,(g-c.a)*o)}}},t.ENTRIES=5,t.PREV_TIME=-5,t.PREV_R=-4,t.PREV_G=-3,t.PREV_B=-2,t.PREV_A=-1,t.R=1,t.G=2,t.B=3,t.A=4,t}(xn),Xs=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(je.twoColor<<24)+this.slotIndex},t.prototype.setFrame=function(e,n,i,a,o,s,h,l,u){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.R]=i,this.frames[e+t.G]=a,this.frames[e+t.B]=o,this.frames[e+t.A]=s,this.frames[e+t.R2]=h,this.frames[e+t.G2]=l,this.frames[e+t.B2]=u},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case F.first:var c=l.color,f=l.darkColor,d=l.data.color,p=l.data.darkColor;c.add((d.r-c.r)*o,(d.g-c.g)*o,(d.b-c.b)*o,(d.a-c.a)*o),f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,0)}return}var m=0,g=0,v=0,y=0,b=0,x=0,_=0;if(i>=u[u.length-t.ENTRIES]){var w=u.length;m=u[w+t.PREV_R],g=u[w+t.PREV_G],v=u[w+t.PREV_B],y=u[w+t.PREV_A],b=u[w+t.PREV_R2],x=u[w+t.PREV_G2],_=u[w+t.PREV_B2]}else{var E=Se.binarySearch(u,i,t.ENTRIES);m=u[E+t.PREV_R],g=u[E+t.PREV_G],v=u[E+t.PREV_B],y=u[E+t.PREV_A],b=u[E+t.PREV_R2],x=u[E+t.PREV_G2],_=u[E+t.PREV_B2];var S=u[E],T=this.getCurvePercent(E/t.ENTRIES-1,1-(i-S)/(u[E+t.PREV_TIME]-S));m+=(u[E+t.R]-m)*T,g+=(u[E+t.G]-g)*T,v+=(u[E+t.B]-v)*T,y+=(u[E+t.A]-y)*T,b+=(u[E+t.R2]-b)*T,x+=(u[E+t.G2]-x)*T,_+=(u[E+t.B2]-_)*T}if(o==1)l.color.set(m,g,v,y),l.darkColor.set(b,x,_,1);else{var c=l.color,f=l.darkColor;s==F.setup&&(c.setFromColor(l.data.color),f.setFromColor(l.data.darkColor)),c.add((m-c.r)*o,(g-c.g)*o,(v-c.b)*o,(y-c.a)*o),f.add((b-f.r)*o,(x-f.g)*o,(_-f.b)*o,0)}}},t.ENTRIES=8,t.PREV_TIME=-8,t.PREV_R=-7,t.PREV_G=-6,t.PREV_B=-5,t.PREV_A=-4,t.PREV_R2=-3,t.PREV_G2=-2,t.PREV_B2=-1,t.R=1,t.G=2,t.B=3,t.A=4,t.R2=5,t.G2=6,t.B2=7,t}(xn),xa=function(){function r(t){this.frames=Z.newFloatArray(t),this.attachmentNames=new Array(t)}return r.prototype.getPropertyId=function(){return(je.attachment<<24)+this.slotIndex},r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},r.prototype.apply=function(t,e,n,i,a,o,s){var h=t.slots[this.slotIndex];if(h.bone.active){if(s==Dt.mixOut){o==F.setup&&this.setAttachment(t,h,h.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==F.setup||o==F.first)&&this.setAttachment(t,h,h.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=Se.binarySearch(l,n,1)-1;var c=this.attachmentNames[u];t.slots[this.slotIndex].setAttachment(c==null?null:t.getAttachment(this.slotIndex,c))}},r.prototype.setAttachment=function(t,e,n){e.setAttachment(n==null?null:t.getAttachment(this.slotIndex,n))},r}(),E_=null,Nd=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e),n.frameVertices=new Array(e),E_==null&&(E_=Z.newFloatArray(64)),n}return t.prototype.getPropertyId=function(){return(je.deform<<27)+ +this.attachment.id+this.slotIndex},t.prototype.setFrame=function(e,n,i){this.frames[e]=n,this.frameVertices[e]=i},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof ya)||u.deformAttachment!=this.attachment)){var c=l.deform;c.length==0&&(s=F.setup);var f=this.frameVertices,d=f[0].length,p=this.frames;if(i<p[0]){var m=u;switch(s){case F.setup:c.length=0;return;case F.first:if(o==1){c.length=0;break}var g=Z.setArraySize(c,d);if(m.bones==null)for(var v=m.vertices,y=0;y<d;y++)g[y]+=(v[y]-g[y])*o;else{o=1-o;for(var y=0;y<d;y++)g[y]*=o}}return}var b=Z.setArraySize(c,d);if(i>=p[p.length-1]){var x=f[p.length-1];if(o==1)if(s==F.add){var m=u;if(m.bones==null)for(var v=m.vertices,_=0;_<d;_++)b[_]+=x[_]-v[_];else for(var w=0;w<d;w++)b[w]+=x[w]}else Z.arrayCopy(x,0,b,0,d);else switch(s){case F.setup:{var E=u;if(E.bones==null)for(var v=E.vertices,S=0;S<d;S++){var T=v[S];b[S]=T+(x[S]-T)*o}else for(var I=0;I<d;I++)b[I]=x[I]*o;break}case F.first:case F.replace:for(var R=0;R<d;R++)b[R]+=(x[R]-b[R])*o;break;case F.add:var m=u;if(m.bones==null)for(var v=m.vertices,A=0;A<d;A++)b[A]+=(x[A]-v[A])*o;else for(var C=0;C<d;C++)b[C]+=x[C]*o}return}var O=Se.binarySearch(p,i),N=f[O-1],L=f[O],D=p[O],Q=this.getCurvePercent(O-1,1-(i-D)/(p[O-1]-D));if(o==1)if(s==F.add){var m=u;if(m.bones==null)for(var v=m.vertices,tt=0;tt<d;tt++){var V=N[tt];b[tt]+=V+(L[tt]-V)*Q-v[tt]}else for(var W=0;W<d;W++){var V=N[W];b[W]+=V+(L[W]-V)*Q}}else for(var X=0;X<d;X++){var V=N[X];b[X]=V+(L[X]-V)*Q}else switch(s){case F.setup:{var j=u;if(j.bones==null)for(var v=j.vertices,Y=0;Y<d;Y++){var V=N[Y],T=v[Y];b[Y]=T+(V+(L[Y]-V)*Q-T)*o}else for(var q=0;q<d;q++){var V=N[q];b[q]=(V+(L[q]-V)*Q)*o}break}case F.first:case F.replace:for(var $=0;$<d;$++){var V=N[$];b[$]+=(V+(L[$]-V)*Q-b[$])*o}break;case F.add:var m=u;if(m.bones==null)for(var v=m.vertices,K=0;K<d;K++){var V=N[K];b[K]+=(V+(L[K]-V)*Q-v[K])*o}else for(var J=0;J<d;J++){var V=N[J];b[J]+=(V+(L[J]-V)*Q)*o}}}}},t}(xn),Hu=function(){function r(t){this.frames=Z.newFloatArray(t),this.events=new Array(t)}return r.prototype.getPropertyId=function(){return je.event<<24},r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},r.prototype.apply=function(t,e,n,i,a,o,s){if(i!=null){var h=this.frames,l=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,i,a,o,s),e=-1;else if(e>=h[l-1])return;if(!(n<h[0])){var u=0;if(e<h[0])u=0;else{u=Se.binarySearch(h,e);for(var c=h[u];u>0&&h[u-1]==c;)u--}for(;u<l&&n>=h[u];u++)i.push(this.events[u])}}},r}(),_o=function(){function r(t){this.frames=Z.newFloatArray(t),this.drawOrders=new Array(t)}return r.prototype.getPropertyId=function(){return je.drawOrder<<24},r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},r.prototype.apply=function(t,e,n,i,a,o,s){var h=t.drawOrder,l=t.slots;if(s==Dt.mixOut&&o==F.setup){Z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}var u=this.frames;if(n<u[0]){(o==F.setup||o==F.first)&&Z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}var c=0;n>=u[u.length-1]?c=u.length-1:c=Se.binarySearch(u,n)-1;var f=this.drawOrders[c];if(f==null)Z.arrayCopy(l,0,h,0,l.length);else for(var d=0,p=f.length;d<p;d++)h[d]=l[f[d]]},r}(),Ys=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(je.ikConstraint<<24)+this.ikConstraintIndex},t.prototype.setFrame=function(e,n,i,a,o,s,h){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.MIX]=i,this.frames[e+t.SOFTNESS]=a,this.frames[e+t.BEND_DIRECTION]=o,this.frames[e+t.COMPRESS]=s?1:0,this.frames[e+t.STRETCH]=h?1:0},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case F.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-t.ENTRIES]){s==F.setup?(u.mix=u.data.mix+(l[l.length+t.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+t.PREV_SOFTNESS]-u.data.softness)*o,h==Dt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+t.PREV_BEND_DIRECTION],u.compress=l[l.length+t.PREV_COMPRESS]!=0,u.stretch=l[l.length+t.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+t.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+t.PREV_SOFTNESS]-u.softness)*o,h==Dt.mixIn&&(u.bendDirection=l[l.length+t.PREV_BEND_DIRECTION],u.compress=l[l.length+t.PREV_COMPRESS]!=0,u.stretch=l[l.length+t.PREV_STRETCH]!=0));return}var c=Se.binarySearch(l,i,t.ENTRIES),f=l[c+t.PREV_MIX],d=l[c+t.PREV_SOFTNESS],p=l[c],m=this.getCurvePercent(c/t.ENTRIES-1,1-(i-p)/(l[c+t.PREV_TIME]-p));s==F.setup?(u.mix=u.data.mix+(f+(l[c+t.MIX]-f)*m-u.data.mix)*o,u.softness=u.data.softness+(d+(l[c+t.SOFTNESS]-d)*m-u.data.softness)*o,h==Dt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[c+t.PREV_BEND_DIRECTION],u.compress=l[c+t.PREV_COMPRESS]!=0,u.stretch=l[c+t.PREV_STRETCH]!=0)):(u.mix+=(f+(l[c+t.MIX]-f)*m-u.mix)*o,u.softness+=(d+(l[c+t.SOFTNESS]-d)*m-u.softness)*o,h==Dt.mixIn&&(u.bendDirection=l[c+t.PREV_BEND_DIRECTION],u.compress=l[c+t.PREV_COMPRESS]!=0,u.stretch=l[c+t.PREV_STRETCH]!=0))}},t.ENTRIES=6,t.PREV_TIME=-6,t.PREV_MIX=-5,t.PREV_SOFTNESS=-4,t.PREV_BEND_DIRECTION=-3,t.PREV_COMPRESS=-2,t.PREV_STRETCH=-1,t.MIX=1,t.SOFTNESS=2,t.BEND_DIRECTION=3,t.COMPRESS=4,t.STRETCH=5,t}(xn),js=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(je.transformConstraint<<24)+this.transformConstraintIndex},t.prototype.setFrame=function(e,n,i,a,o,s){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.ROTATE]=i,this.frames[e+t.TRANSLATE]=a,this.frames[e+t.SCALE]=o,this.frames[e+t.SHEAR]=s},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var c=u.data;switch(s){case F.setup:u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,u.shearMix=c.shearMix;return;case F.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*o,u.translateMix+=(c.translateMix-u.translateMix)*o,u.scaleMix+=(c.scaleMix-u.scaleMix)*o,u.shearMix+=(c.shearMix-u.shearMix)*o}return}var f=0,d=0,p=0,m=0;if(i>=l[l.length-t.ENTRIES]){var g=l.length;f=l[g+t.PREV_ROTATE],d=l[g+t.PREV_TRANSLATE],p=l[g+t.PREV_SCALE],m=l[g+t.PREV_SHEAR]}else{var v=Se.binarySearch(l,i,t.ENTRIES);f=l[v+t.PREV_ROTATE],d=l[v+t.PREV_TRANSLATE],p=l[v+t.PREV_SCALE],m=l[v+t.PREV_SHEAR];var y=l[v],b=this.getCurvePercent(v/t.ENTRIES-1,1-(i-y)/(l[v+t.PREV_TIME]-y));f+=(l[v+t.ROTATE]-f)*b,d+=(l[v+t.TRANSLATE]-d)*b,p+=(l[v+t.SCALE]-p)*b,m+=(l[v+t.SHEAR]-m)*b}if(s==F.setup){var c=u.data;u.rotateMix=c.rotateMix+(f-c.rotateMix)*o,u.translateMix=c.translateMix+(d-c.translateMix)*o,u.scaleMix=c.scaleMix+(p-c.scaleMix)*o,u.shearMix=c.shearMix+(m-c.shearMix)*o}else u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o}},t.ENTRIES=5,t.PREV_TIME=-5,t.PREV_ROTATE=-4,t.PREV_TRANSLATE=-3,t.PREV_SCALE=-2,t.PREV_SHEAR=-1,t.ROTATE=1,t.TRANSLATE=2,t.SCALE=3,t.SHEAR=4,t}(xn),wo=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(je.pathConstraintPosition<<24)+this.pathConstraintIndex},t.prototype.setFrame=function(e,n,i){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.VALUE]=i},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.position=u.data.position;return;case F.first:u.position+=(u.data.position-u.position)*o}return}var c=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_VALUE];else{var f=Se.binarySearch(l,i,t.ENTRIES);c=l[f+t.PREV_VALUE];var d=l[f],p=this.getCurvePercent(f/t.ENTRIES-1,1-(i-d)/(l[f+t.PREV_TIME]-d));c+=(l[f+t.VALUE]-c)*p}s==F.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o}},t.ENTRIES=2,t.PREV_TIME=-2,t.PREV_VALUE=-1,t.VALUE=1,t}(xn),Dd=function(r){ye(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getPropertyId=function(){return(je.pathConstraintSpacing<<24)+this.pathConstraintIndex},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.spacing=u.data.spacing;return;case F.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var c=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_VALUE];else{var f=Se.binarySearch(l,i,t.ENTRIES);c=l[f+t.PREV_VALUE];var d=l[f],p=this.getCurvePercent(f/t.ENTRIES-1,1-(i-d)/(l[f+t.PREV_TIME]-d));c+=(l[f+t.VALUE]-c)*p}s==F.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o}},t}(wo),Us=function(r){ye(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(je.pathConstraintMix<<24)+this.pathConstraintIndex},t.prototype.setFrame=function(e,n,i,a){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.ROTATE]=i,this.frames[e+t.TRANSLATE]=a},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case F.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case F.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_ROTATE],f=l[l.length+t.PREV_TRANSLATE];else{var d=Se.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_ROTATE],f=l[d+t.PREV_TRANSLATE];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c+=(l[d+t.ROTATE]-c)*m,f+=(l[d+t.TRANSLATE]-f)*m}s==F.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(f-u.data.translateMix)*o):(u.rotateMix+=(c-u.rotateMix)*o,u.translateMix+=(f-u.translateMix)*o)}},t.ENTRIES=3,t.PREV_TIME=-3,t.PREV_ROTATE=-2,t.PREV_TRANSLATE=-1,t.ROTATE=1,t.TRANSLATE=2,t}(xn),S_=function(){function r(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new I_(this),this.propertyIDs=new g_,this.animationsChanged=!1,this.trackEntryPool=new xo(function(){return new T_}),this.data=t}return r.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var a=e[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=t*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var h=a.trackLast-s.delay;if(h>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(h/a.timeScale+t)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){e[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,t)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},r.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?((n.totalAlpha==0||t.mixDuration==0)&&(t.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},r.prototype.apply=function(t){if(t==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var h=a==0?F.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,t,h):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),f=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||h==F.add)for(var p=0;p<f;p++){Z.webkit602BugfixHelper(l,h);var m=d[p];m instanceof xa?this.applyAttachmentTimeline(m,t,c,h,!0):m.apply(t,u,c,e,l,h,Dt.mixIn)}else{var g=s.timelineMode,v=s.timelinesRotation.length==0;v&&Z.setArraySize(s.timelinesRotation,f<<1,null);for(var y=s.timelinesRotation,p=0;p<f;p++){var b=d[p],x=g[p]==r.SUBSEQUENT?h:F.setup;b instanceof Tr?this.applyRotateTimeline(b,t,c,l,x,y,p<<1,v):b instanceof xa?this.applyAttachmentTimeline(b,t,c,h,!0):(Z.webkit602BugfixHelper(l,h),b.apply(t,u,c,e,l,x,Dt.mixIn))}}this.queueEvents(s,c),e.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var _=this.unkeyedState+r.SETUP,w=t.slots,E=0,S=t.slots.length;E<S;E++){var T=w[E];if(T.attachmentState==_){var I=T.data.attachmentName;T.setAttachment(I==null?null:t.getAttachment(T.data.index,I))}}return this.unkeyedState+=2,this.queue.drain(),i},r.prototype.applyMixingFrom=function(t,e,n){var i=t.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,e,n);var a=0;t.mixDuration==0?(a=1,n==F.first&&(n=F.setup)):(a=t.mixTime/t.mixDuration,a>1&&(a=1),n!=F.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,h=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),c=i.animation.timelines.length,f=i.animation.timelines,d=i.alpha*t.interruptAlpha,p=d*(1-a);if(n==F.add)for(var m=0;m<c;m++)f[m].apply(e,l,u,o,p,n,Dt.mixOut);else{var g=i.timelineMode,v=i.timelineHoldMix,y=i.timelinesRotation.length==0;y&&Z.setArraySize(i.timelinesRotation,c<<1,null);var b=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<c;m++){var x=f[m],_=Dt.mixOut,w=void 0,E=0;switch(g[m]){case r.SUBSEQUENT:if(!h&&x instanceof _o)continue;w=n,E=p;break;case r.FIRST:w=F.setup,E=p;break;case r.HOLD_SUBSEQUENT:w=n,E=d;break;case r.HOLD_FIRST:w=F.setup,E=d;break;default:w=F.setup;var S=v[m];E=d*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=E,x instanceof Tr?this.applyRotateTimeline(x,e,u,E,w,b,m<<1,y):x instanceof xa?this.applyAttachmentTimeline(x,e,u,w,s):(Z.webkit602BugfixHelper(E,n),h&&x instanceof _o&&w==F.setup&&(_=Dt.mixIn),x.apply(e,l,u,o,E,w,_))}}return t.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},r.prototype.applyAttachmentTimeline=function(t,e,n,i,a){var o=e.slots[t.slotIndex];if(o.bone.active){var s=t.frames;if(n<s[0])(i==F.setup||i==F.first)&&this.setAttachment(e,o,o.data.attachmentName,a);else{var h;n>=s[s.length-1]?h=s.length-1:h=Se.binarySearch(s,n)-1,this.setAttachment(e,o,t.attachmentNames[h],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+r.SETUP)}},r.prototype.setAttachment=function(t,e,n,i){e.setAttachment(n==null?null:t.getAttachment(e.data.index,n)),i&&(e.attachmentState=this.unkeyedState+r.CURRENT)},r.prototype.applyRotateTimeline=function(t,e,n,i,a,o,s,h){if(h&&(o[s]=0),i==1){t.apply(e,0,n,null,1,a,Dt.mixIn);return}var l=t,u=l.frames,c=e.bones[l.boneIndex];if(c.active){var f=0,d=0;if(n<u[0])switch(a){case F.setup:c.rotation=c.data.rotation;default:return;case F.first:f=c.rotation,d=c.data.rotation}else if(f=a==F.setup?c.data.rotation:c.rotation,n>=u[u.length-Tr.ENTRIES])d=c.data.rotation+u[u.length+Tr.PREV_ROTATION];else{var p=Se.binarySearch(u,n,Tr.ENTRIES),m=u[p+Tr.PREV_ROTATION],g=u[p],v=l.getCurvePercent((p>>1)-1,1-(n-g)/(u[p+Tr.PREV_TIME]-g));d=u[p+Tr.ROTATION]-m,d-=(16384-(16384.499999999996-d/360|0))*360,d=m+d*v+c.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var y=0,b=d-f;if(b-=(16384-(16384.499999999996-b/360|0))*360,b==0)y=o[s];else{var x=0,_=0;h?(x=0,_=b):(x=o[s],_=o[s+1]);var w=b>0,E=x>=0;B.signum(_)!=B.signum(b)&&Math.abs(_)<=90&&(Math.abs(x)>180&&(x+=360*B.signum(x)),E=w),y=b+x-x%360,E!=w&&(y+=360*B.signum(x)),o[s]=y}o[s+1]=b,f+=y*i,c.rotation=f-(16384-(16384.499999999996-f/360|0))*360}},r.prototype.queueEvents=function(t,e){for(var n=t.animationStart,i=t.animationEnd,a=i-n,o=t.trackLast%a,s=this.events,h=0,l=s.length;h<l;h++){var u=s[h];if(u.time<o)break;u.time>i||this.queue.event(t,u)}var c=!1;for(t.loop?c=a==0||o>t.trackTime%a:c=e>=i&&t.animationLast<i,c&&this.queue.complete(t);h<l;h++){var f=s[h];f.time<n||this.queue.event(t,s[h])}},r.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},r.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e!=null){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[e.trackIndex]=null,this.queue.drain()}}},r.prototype.setCurrent=function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,i!=null&&(n&&this.queue.interrupt(i),e.mixingFrom=i,i.mixingTo=e,e.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)},r.prototype.setAnimation=function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)},r.prototype.setAnimationWith=function(t,e,n){if(e==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(t);a!=null&&(a.nextTrackLast==-1?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(t,e,n,a);return this.setCurrent(t,o,i),this.queue.drain(),o},r.prototype.addAnimation=function(t,e,n,i){var a=this.data.skeletonData.findAnimation(e);if(a==null)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,i)},r.prototype.addAnimationWith=function(t,e,n,i){if(e==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(t,e,n,a);if(a==null)this.setCurrent(t,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,e)):i=a.trackTime}return o.delay=i,o},r.prototype.setEmptyAnimation=function(t,e){var n=this.setAnimationWith(t,r.emptyAnimation,!1);return n.mixDuration=e,n.trackEnd=e,n},r.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);var i=this.addAnimationWith(t,r.emptyAnimation,!1,n);return i.mixDuration=e,i.trackEnd=e,i},r.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},r.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(Z.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},r.prototype.trackEntry=function(t,e,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,e),a.mixBlend=F.replace,a},r.prototype.disposeNext=function(t){for(var e=t.next;e!=null;)this.queue.dispose(e),e=e.next;t.next=null},r.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=F.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},r.prototype.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,i=t.animation.timelines.length,a=Z.setArraySize(t.timelineMode,i);t.timelineHoldMix.length=0;var o=Z.setArraySize(t.timelineHoldMix,i),s=this.propertyIDs;if(e!=null&&e.holdPrevious){for(var h=0;h<i;h++)a[h]=s.add(n[h].getPropertyId())?r.HOLD_FIRST:r.HOLD_SUBSEQUENT;return}t:for(var h=0;h<i;h++){var l=n[h],u=l.getPropertyId();if(!s.add(u))a[h]=r.SUBSEQUENT;else if(e==null||l instanceof xa||l instanceof _o||l instanceof Hu||!e.animation.hasTimeline(u))a[h]=r.FIRST;else{for(var c=e.mixingTo;c!=null;c=c.mixingTo)if(!c.animation.hasTimeline(u)){if(t.mixDuration>0){a[h]=r.HOLD_MIX,o[h]=c;continue t}break}a[h]=r.HOLD_FIRST}}},r.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},r.prototype.addListener=function(t){if(t==null)throw new Error("listener cannot be null.");this.listeners.push(t)},r.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},r.prototype.clearListeners=function(){this.listeners.length=0},r.prototype.clearListenerNotifications=function(){this.queue.clear()},r.prototype.setAnimationByName=function(t,e,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,n)},r.prototype.addAnimationByName=function(t,e,n,i){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,n,i)},r.prototype.hasAnimation=function(t){var e=this.data.skeletonData.findAnimation(t);return e!==null},r.prototype.hasAnimationByName=function(t){return r.deprecatedWarning3||(r.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},r.emptyAnimation=new Se("<empty>",[],0),r.SUBSEQUENT=0,r.FIRST=1,r.HOLD_SUBSEQUENT=2,r.HOLD_FIRST=3,r.HOLD_MIX=4,r.SETUP=1,r.CURRENT=2,r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r.deprecatedWarning3=!1,r}(),T_=function(){function r(){this.mixBlend=F.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return r.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},r.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return t==0?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(r.prototype,"time",{get:function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endTime",{get:function(){return r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),r.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r}(),I_=function(){function r(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return r.prototype.start=function(t){this.objects.push(ar.start),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.interrupt=function(t){this.objects.push(ar.interrupt),this.objects.push(t)},r.prototype.end=function(t){this.objects.push(ar.end),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.dispose=function(t){this.objects.push(ar.dispose),this.objects.push(t)},r.prototype.complete=function(t){this.objects.push(ar.complete),this.objects.push(t)},r.prototype.event=function(t,e){this.objects.push(ar.event),this.objects.push(t),this.objects.push(e)},r.prototype.deprecateStuff=function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},r.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],a=t[n+1];switch(i){case ar.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case ar.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(a);break;case ar.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<e.length;o++)e[o].end&&e[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case ar.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(a);this.animState.trackEntryPool.free(a);break;case ar.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<e.length;o++)e[o].complete&&e[o].complete(a);var s=B.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case ar.event:var h=t[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,h);for(var o=0;o<e.length;o++)e[o].event&&e[o].event(a,h);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,h);break}}this.clear(),this.drainDisabled=!1}},r.prototype.clear=function(){this.objects.length=0},r.deprecatedWarning1=!1,r}(),ar;(function(r){r[r.start=0]="start",r[r.interrupt=1]="interrupt",r[r.end=2]="end",r[r.dispose=3]="dispose",r[r.complete=4]="complete",r[r.event=5]="event"})(ar||(ar={}));var LL=function(){function r(){}return r.prototype.start=function(t){},r.prototype.interrupt=function(t){},r.prototype.end=function(t){},r.prototype.dispose=function(t){},r.prototype.complete=function(t){},r.prototype.event=function(t,e){},r}(),A_=function(){function r(t){if(this.animationToMixTime={},this.defaultMix=0,t==null)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return r.prototype.setMix=function(t,e,n){var i=this.skeletonData.findAnimation(t);if(i==null)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(a==null)throw new Error("Animation not found: "+e);this.setMixWith(i,a,n)},r.prototype.setMixByName=function(t,e,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,n)},r.prototype.setMixWith=function(t,e,n){if(t==null)throw new Error("from cannot be null.");if(e==null)throw new Error("to cannot be null.");var i=t.name+"."+e.name;this.animationToMixTime[i]=n},r.prototype.getMix=function(t,e){var n=t.name+"."+e.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},r.deprecatedWarning1=!1,r}(),Ld=function(){function r(t){this.atlas=t}return r.prototype.newRegionAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var a=new Od(e);return a.region=i,a},r.prototype.newMeshAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var a=new zu(e);return a.region=i,a},r.prototype.newBoundingBoxAttachment=function(t,e){return new Rd(e)},r.prototype.newPathAttachment=function(t,e){return new Bs(e)},r.prototype.newPointAttachment=function(t,e){return new w_(e)},r.prototype.newClippingAttachment=function(t,e){return new __(e)},r}(),Bd=function(){function r(t,e,n){if(this.matrix=new ge,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return Object.defineProperty(r.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),r.prototype.isActive=function(){return this.active},r.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransformWith=function(t,e,n,i,a,o,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var h=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(h==null){var f=this.skeleton,d=n+90+s;l.a=B.cosDeg(n+o)*i*u,l.c=B.cosDeg(d)*a*u,l.b=B.sinDeg(n+o)*i*c,l.d=B.sinDeg(d)*a*c,l.tx=t*u+f.x,l.ty=e*c+f.y;return}var p=h.matrix.a,m=h.matrix.c,g=h.matrix.b,v=h.matrix.d;switch(l.tx=p*t+m*e+h.matrix.tx,l.ty=g*t+v*e+h.matrix.ty,this.data.transformMode){case Mt.Normal:{var d=n+90+s,y=B.cosDeg(n+o)*i,b=B.cosDeg(d)*a,x=B.sinDeg(n+o)*i,_=B.sinDeg(d)*a;l.a=p*y+m*x,l.c=p*b+m*_,l.b=g*y+v*x,l.d=g*b+v*_;return}case Mt.OnlyTranslation:{var d=n+90+s;l.a=B.cosDeg(n+o)*i,l.c=B.cosDeg(d)*a,l.b=B.sinDeg(n+o)*i,l.d=B.sinDeg(d)*a;break}case Mt.NoRotationOrReflection:{var w=p*p+g*g,E=0;w>1e-4?(w=Math.abs(p*v-m*g)/w,p/=this.skeleton.scaleX,g/=this.skeleton.scaleY,m=g*w,v=p*w,E=Math.atan2(g,p)*B.radDeg):(p=0,g=0,E=90-Math.atan2(v,m)*B.radDeg);var S=n+o-E,T=n+s-E+90,y=B.cosDeg(S)*i,b=B.cosDeg(T)*a,x=B.sinDeg(S)*i,_=B.sinDeg(T)*a;l.a=p*y-m*x,l.c=p*b-m*_,l.b=g*y+v*x,l.d=g*b+v*_;break}case Mt.NoScale:case Mt.NoScaleOrReflection:{var I=B.cosDeg(n),R=B.sinDeg(n),A=(p*I+m*R)/u,C=(g*I+v*R)/c,w=Math.sqrt(A*A+C*C);w>1e-5&&(w=1/w),A*=w,C*=w,w=Math.sqrt(A*A+C*C),this.data.transformMode==Mt.NoScale&&p*v-m*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(w=-w);var O=Math.PI/2+Math.atan2(C,A),N=Math.cos(O)*w,L=Math.sin(O)*w,y=B.cosDeg(o)*i,b=B.cosDeg(90+s)*a,x=B.sinDeg(o)*i,_=B.sinDeg(90+s)*a;l.a=A*y+N*x,l.c=A*b+N*_,l.b=C*y+L*x,l.d=C*b+L*_;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},r.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},r.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*B.radDeg},r.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*B.radDeg},r.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},r.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},r.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(t==null){this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*B.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*B.radDeg;return}var n=t.matrix,i=1/(n.a*n.d-n.b*n.c),a=e.tx-n.tx,o=e.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,h=i*n.a,l=i*n.c,u=i*n.b,c=s*e.a-l*e.b,f=s*e.c-l*e.d,d=h*e.b-u*e.a,p=h*e.d-u*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+d*d),this.ascaleX>1e-4){var m=c*p-f*d;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*f+d*p,m)*B.radDeg,this.arotation=Math.atan2(d,c)*B.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,f)*B.radDeg},r.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,i=e.c,a=e.b,o=e.d,s=1/(n*o-i*a),h=t.x-e.tx,l=t.y-e.ty;return t.x=h*o*s-l*i*s,t.y=l*n*s-h*a*s,t},r.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,i=t.y;return t.x=n*e.a+i*e.c+e.tx,t.y=n*e.b+i*e.d+e.ty,t},r.prototype.worldToLocalRotation=function(t){var e=B.sinDeg(t),n=B.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*n,i.d*n-i.c*e)*B.radDeg},r.prototype.localToWorldRotation=function(t){var e=B.sinDeg(t),n=B.cosDeg(t),i=this.matrix;return Math.atan2(n*i.b+e*i.d,n*i.a+e*i.c)*B.radDeg},r.prototype.rotateWorld=function(t){var e=this.matrix,n=e.a,i=e.c,a=e.b,o=e.d,s=B.cosDeg(t),h=B.sinDeg(t);e.a=s*n-h*a,e.c=s*i-h*o,e.b=h*n+s*a,e.d=h*i+s*o,this.appliedValid=!1},r}(),Vd=function(){function r(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Mt.Normal,this.skinRequired=!1,this.color=new dt,t<0)throw new Error("index must be >= 0.");if(e==null)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}return r}(),qu=function(){function r(t,e,n){this.name=t,this.order=e,this.skinRequired=n}return r}(),Xd=function(){function r(t,e){if(e==null)throw new Error("data cannot be null.");this.time=t,this.data=e}return r}(),Yd=function(){function r(t){this.name=t}return r}(),P_=function(){function r(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},r.prototype.apply1=function(t,e,n,i,a,o,s){t.appliedValid||t.updateAppliedTransform();var h=t.parent.matrix,l=h.a,u=h.c,c=h.b,f=h.d,d=-t.ashearX-t.arotation,p=0,m=0;switch(t.data.transformMode){case Mt.OnlyTranslation:p=e-t.worldX,m=n-t.worldY;break;case Mt.NoRotationOrReflection:var g=Math.abs(l*f-u*c)/(l*l+c*c),v=l/t.skeleton.scaleX,y=c/t.skeleton.scaleY;u=-y*g*t.skeleton.scaleX,f=v*g*t.skeleton.scaleY,d+=Math.atan2(y,v)*B.radDeg;default:var b=e-h.tx,x=n-h.ty,_=l*f-u*c;p=(b*f-x*u)/_-t.ax,m=(x*l-b*c)/_-t.ay}d+=Math.atan2(m,p)*B.radDeg,t.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var w=t.ascaleX,E=t.ascaleY;if(i||a){switch(t.data.transformMode){case Mt.NoScale:case Mt.NoScaleOrReflection:p=e-t.worldX,m=n-t.worldY}var S=t.data.length*w,T=Math.sqrt(p*p+m*m);if(i&&T<S||a&&T>S&&S>1e-4){var g=(T/S-1)*s+1;w*=g,o&&(E*=g)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*s,w,E,t.ashearX,t.ashearY)},r.prototype.apply2=function(t,e,n,i,a,o,s,h){if(h==0){e.updateWorldTransform();return}t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var l=t.ax,u=t.ay,c=t.ascaleX,f=c,d=t.ascaleY,p=e.ascaleX,m=t.matrix,g=0,v=0,y=0;c<0?(c=-c,g=180,y=-1):(g=0,y=1),d<0&&(d=-d,y=-y),p<0?(p=-p,v=180):v=0;var b=e.ax,x=0,_=0,w=0,E=m.a,S=m.c,T=m.b,I=m.d,R=Math.abs(c-d)<=1e-4;R?(x=e.ay,_=E*b+S*x+m.tx,w=T*b+I*x+m.ty):(x=0,_=E*b+m.tx,w=T*b+m.ty);var A=t.parent.matrix;E=A.a,S=A.c,T=A.b,I=A.d;var C=1/(E*I-S*T),O=_-A.tx,N=w-A.ty,L=(O*I-N*S)*C-l,D=(N*E-O*T)*C-u,Q=Math.sqrt(L*L+D*D),tt=e.data.length*p,V,W;if(Q<1e-4){this.apply1(t,n,i,!1,o,!1,h),e.updateWorldTransformWith(b,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);return}O=n-A.tx,N=i-A.ty;var X=(O*I-N*S)*C-l,j=(N*E-O*T)*C-u,Y=X*X+j*j;if(s!=0){s*=c*(p+1)/2;var q=Math.sqrt(Y),$=q-Q-tt*c+s;if($>0){var K=Math.min(1,$/(s*2))-1;K=($-s*(1-K*K))/q,X-=K*X,j-=K*j,Y=X*X+j*j}}t:if(R){tt*=c;var J=(Y-Q*Q-tt*tt)/(2*Q*tt);J<-1?J=-1:J>1&&(J=1,o&&(f*=(Math.sqrt(Y)/(Q+tt)-1)*h+1)),W=Math.acos(J)*a,E=Q+tt*J,S=tt*Math.sin(W),V=Math.atan2(j*E-X*S,X*E+j*S)}else{E=c*tt,S=d*tt;var it=E*E,ut=S*S,at=Math.atan2(j,X);T=ut*Q*Q+it*Y-it*ut;var M=-2*ut*Q,k=ut-it;if(I=M*M-4*k*T,I>=0){var U=Math.sqrt(I);M<0&&(U=-U),U=-(M+U)/2;var H=U/k,G=T/U,rt=Math.abs(H)<Math.abs(G)?H:G;if(rt*rt<=Y){N=Math.sqrt(Y-rt*rt)*a,V=at-Math.atan2(N,rt),W=Math.atan2(N/d,(rt-Q)/c);break t}}var ht=B.PI,ot=Q-E,z=ot*ot,nt=0,lt=0,pt=Q+E,bt=pt*pt,wt=0;T=-E*Q/(it-ut),T>=-1&&T<=1&&(T=Math.acos(T),O=E*Math.cos(T)+Q,N=S*Math.sin(T),I=O*O+N*N,I<z&&(ht=T,z=I,ot=O,nt=N),I>bt&&(lt=T,bt=I,pt=O,wt=N)),Y<=(z+bt)/2?(V=at-Math.atan2(nt*a,ot),W=ht*a):(V=at-Math.atan2(wt*a,pt),W=lt*a)}var Et=Math.atan2(x,b)*y,Lt=t.arotation;V=(V-Et)*B.radDeg+g-Lt,V>180?V-=360:V<-180&&(V+=360),t.updateWorldTransformWith(l,u,Lt+V*h,f,t.ascaleY,0,0),Lt=e.arotation,W=((W+Et)*B.radDeg-e.ashearX)*y+v-Lt,W>180?W-=360:W<-180&&(W+=360),e.updateWorldTransformWith(b,x,Lt+W*h,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},r}(),jd=function(r){ye(t,r);function t(e){var n=r.call(this,e,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return t}(qu),Ud=function(r){ye(t,r);function t(e){var n=r.call(this,e,0,!1)||this;return n.bones=new Array,n}return t}(qu),Ne;(function(r){r[r.Length=0]="Length",r[r.Fixed=1]="Fixed",r[r.Percent=2]="Percent"})(Ne||(Ne={}));var C_=function(){function r(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,i=t.bones.length;n<i;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof Bs){var e=this.rotateMix,n=this.translateMix,i=n>0,a=e>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,h=s==Ne.Length,l=o.rotateMode,u=l==_e.Tangent,c=l==_e.ChainScale,f=this.bones.length,d=u?f:f+1,p=this.bones,m=Z.setArraySize(this.spaces,d),g=null,v=this.spacing;if(c||h){c&&(g=Z.setArraySize(this.lengths,f));for(var y=0,b=d-1;y<b;){var x=p[y],_=x.data.length;if(_<r.epsilon)c&&(g[y]=0),m[++y]=0;else{var w=_*x.matrix.a,E=_*x.matrix.b,S=Math.sqrt(w*w+E*E);c&&(g[y]=S),m[++y]=(h?_+v:v)*S/_}}}else for(var y=1;y<d;y++)m[y]=v;var T=this.computeWorldPositions(t,d,u,o.positionMode==pe.Percent,s==Ne.Percent),I=T[0],R=T[1],A=o.offsetRotation,C=!1;if(A==0)C=l==_e.Chain;else{C=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?B.degRad:-B.degRad}for(var y=0,O=3;y<f;y++,O+=3){var x=p[y],N=x.matrix;N.tx+=(I-N.tx)*n,N.ty+=(R-N.ty)*n;var w=T[O],E=T[O+1],L=w-I,D=E-R;if(c){var Q=g[y];if(Q!=0){var tt=(Math.sqrt(L*L+D*D)/Q-1)*e+1;N.a*=tt,N.b*=tt}}if(I=w,R=E,a){var V=N.a,W=N.c,X=N.b,j=N.d,Y=0,q=0,$=0;if(u?Y=T[O-1]:m[y+1]==0?Y=T[O+2]:Y=Math.atan2(D,L),Y-=Math.atan2(X,V),C){q=Math.cos(Y),$=Math.sin(Y);var K=x.data.length;I+=(K*(q*V-$*X)-L)*e,R+=(K*($*V+q*X)-D)*e}else Y+=A;Y>B.PI?Y-=B.PI2:Y<-B.PI&&(Y+=B.PI2),Y*=e,q=Math.cos(Y),$=Math.sin(Y),N.a=q*V-$*X,N.c=q*W-$*j,N.b=$*V+q*X,N.d=$*W+q*j}x.appliedValid=!1}}}},r.prototype.computeWorldPositions=function(t,e,n,i,a){var o=this.target,s=this.position,h=this.spaces,l=Z.setArraySize(this.positions,e*3+2),u=null,c=t.closed,f=t.worldVerticesLength,d=f/6,p=r.NONE;if(!t.constantSpeed){var m=t.lengths;d-=c?1:2;var g=m[d];if(i&&(s*=g),a)for(var v=0;v<e;v++)h[v]*=g;u=Z.setArraySize(this.world,8);for(var v=0,y=0,b=0;v<e;v++,y+=3){var x=h[v];s+=x;var _=s;if(c)_%=g,_<0&&(_+=g),b=0;else if(_<0){p!=r.BEFORE&&(p=r.BEFORE,t.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(_,u,0,l,y);continue}else if(_>g){p!=r.AFTER&&(p=r.AFTER,t.computeWorldVertices(o,f-6,4,u,0,2)),this.addAfterPosition(_-g,u,0,l,y);continue}for(;;b++){var w=m[b];if(!(_>w)){if(b==0)_/=w;else{var E=m[b-1];_=(_-E)/(w-E)}break}}b!=p&&(p=b,c&&b==d?(t.computeWorldVertices(o,f-4,4,u,0,2),t.computeWorldVertices(o,0,4,u,4,2)):t.computeWorldVertices(o,b*6+2,8,u,0,2)),this.addCurvePosition(_,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,y,n||v>0&&x==0)}return l}c?(f+=2,u=Z.setArraySize(this.world,f),t.computeWorldVertices(o,2,f-4,u,0,2),t.computeWorldVertices(o,0,2,u,f-4,2),u[f-2]=u[0],u[f-1]=u[1]):(d--,f-=4,u=Z.setArraySize(this.world,f),t.computeWorldVertices(o,2,f,u,0,2));for(var S=Z.setArraySize(this.curves,d),T=0,I=u[0],R=u[1],A=0,C=0,O=0,N=0,L=0,D=0,Q=0,tt=0,V=0,W=0,X=0,j=0,Y=0,q=0,v=0,$=2;v<d;v++,$+=6)A=u[$],C=u[$+1],O=u[$+2],N=u[$+3],L=u[$+4],D=u[$+5],Q=(I-A*2+O)*.1875,tt=(R-C*2+N)*.1875,V=((A-O)*3-I+L)*.09375,W=((C-N)*3-R+D)*.09375,X=Q*2+V,j=tt*2+W,Y=(A-I)*.75+Q+V*.16666667,q=(C-R)*.75+tt+W*.16666667,T+=Math.sqrt(Y*Y+q*q),Y+=X,q+=j,X+=V,j+=W,T+=Math.sqrt(Y*Y+q*q),Y+=X,q+=j,T+=Math.sqrt(Y*Y+q*q),Y+=X+V,q+=j+W,T+=Math.sqrt(Y*Y+q*q),S[v]=T,I=L,R=D;if(i&&(s*=T),a)for(var v=0;v<e;v++)h[v]*=T;for(var K=this.segments,J=0,v=0,y=0,b=0,it=0;v<e;v++,y+=3){var x=h[v];s+=x;var _=s;if(c)_%=T,_<0&&(_+=T),b=0;else if(_<0){this.addBeforePosition(_,u,0,l,y);continue}else if(_>T){this.addAfterPosition(_-T,u,f-4,l,y);continue}for(;;b++){var ut=S[b];if(!(_>ut)){if(b==0)_/=ut;else{var E=S[b-1];_=(_-E)/(ut-E)}break}}if(b!=p){p=b;var at=b*6;for(I=u[at],R=u[at+1],A=u[at+2],C=u[at+3],O=u[at+4],N=u[at+5],L=u[at+6],D=u[at+7],Q=(I-A*2+O)*.03,tt=(R-C*2+N)*.03,V=((A-O)*3-I+L)*.006,W=((C-N)*3-R+D)*.006,X=Q*2+V,j=tt*2+W,Y=(A-I)*.3+Q+V*.16666667,q=(C-R)*.3+tt+W*.16666667,J=Math.sqrt(Y*Y+q*q),K[0]=J,at=1;at<8;at++)Y+=X,q+=j,X+=V,j+=W,J+=Math.sqrt(Y*Y+q*q),K[at]=J;Y+=X,q+=j,J+=Math.sqrt(Y*Y+q*q),K[8]=J,Y+=X+V,q+=j+W,J+=Math.sqrt(Y*Y+q*q),K[9]=J,it=0}for(_*=J;;it++){var M=K[it];if(!(_>M)){if(it==0)_/=M;else{var E=K[it-1];_=it+(_-E)/(M-E)}break}}this.addCurvePosition(_*.1,I,R,A,C,O,N,L,D,l,y,n||v>0&&x==0)}return l},r.prototype.addBeforePosition=function(t,e,n,i,a){var o=e[n],s=e[n+1],h=e[n+2]-o,l=e[n+3]-s,u=Math.atan2(l,h);i[a]=o+t*Math.cos(u),i[a+1]=s+t*Math.sin(u),i[a+2]=u},r.prototype.addAfterPosition=function(t,e,n,i,a){var o=e[n+2],s=e[n+3],h=o-e[n],l=s-e[n+1],u=Math.atan2(l,h);i[a]=o+t*Math.cos(u),i[a+1]=s+t*Math.sin(u),i[a+2]=u},r.prototype.addCurvePosition=function(t,e,n,i,a,o,s,h,l,u,c,f){(t==0||isNaN(t))&&(t=1e-4);var d=t*t,p=d*t,m=1-t,g=m*m,v=g*m,y=m*t,b=y*3,x=m*b,_=b*t,w=e*v+i*x+o*_+h*p,E=n*v+a*x+s*_+l*p;u[c]=w,u[c+1]=E,f&&(u[c+2]=Math.atan2(E-(n*g+a*y*2+s*d),w-(e*g+i*y*2+o*d)))},r.NONE=-1,r.BEFORE=-2,r.AFTER=-3,r.epsilon=1e-5,r}(),M_=function(){function r(t,e){if(this.deform=new Array,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new dt,this.darkColor=t.darkColor==null?null:new dt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return r.prototype.getAttachment=function(){return this.attachment},r.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},r.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},r.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},r.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},r}(),R_=function(){function r(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Ds,this.active=!1,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},r.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,h=o.c,l=o.b,u=o.d,c=s*u-h*l>0?B.degRad:-B.degRad,f=this.data.offsetRotation*c,d=this.data.offsetShearY*c,p=this.bones,m=0,g=p.length;m<g;m++){var v=p[m],y=!1,b=v.matrix;if(t!=0){var x=b.a,_=b.c,w=b.b,E=b.d,S=Math.atan2(l,s)-Math.atan2(w,x)+f;S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2),S*=t;var T=Math.cos(S),I=Math.sin(S);b.a=T*x-I*w,b.c=T*_-I*E,b.b=I*x+T*w,b.d=I*_+T*E,y=!0}if(e!=0){var R=this.temp;a.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=(R.x-b.tx)*e,b.ty+=(R.y-b.ty)*e,y=!0}if(n>0){var A=Math.sqrt(b.a*b.a+b.b*b.b),C=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(C-A+this.data.offsetScaleX)*n)/A),b.a*=A,b.b*=A,A=Math.sqrt(b.c*b.c+b.d*b.d),C=Math.sqrt(h*h+u*u),A>1e-5&&(A=(A+(C-A+this.data.offsetScaleY)*n)/A),b.c*=A,b.d*=A,y=!0}if(i>0){var _=b.c,E=b.d,O=Math.atan2(E,_),S=Math.atan2(u,h)-Math.atan2(l,s)-(O-Math.atan2(b.b,b.a));S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2),S=O+(S+d)*i;var A=Math.sqrt(_*_+E*E);b.c=Math.cos(S)*A,b.d=Math.sin(S)*A,y=!0}y&&(v.appliedValid=!1)}},r.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,h=o.c,l=o.b,u=o.d,c=s*u-h*l>0?B.degRad:-B.degRad,f=this.data.offsetRotation*c,d=this.data.offsetShearY*c,p=this.bones,m=0,g=p.length;m<g;m++){var v=p[m],y=!1,b=v.matrix;if(t!=0){var x=b.a,_=b.c,w=b.b,E=b.d,S=Math.atan2(l,s)+f;S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2),S*=t;var T=Math.cos(S),I=Math.sin(S);b.a=T*x-I*w,b.c=T*_-I*E,b.b=I*x+T*w,b.d=I*_+T*E,y=!0}if(e!=0){var R=this.temp;a.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=R.x*e,b.ty+=R.y*e,y=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;b.a*=A,b.b*=A,A=(Math.sqrt(h*h+u*u)-1+this.data.offsetScaleY)*n+1,b.c*=A,b.d*=A,y=!0}if(i>0){var S=Math.atan2(u,h)-Math.atan2(l,s);S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2);var _=b.c,E=b.d;S=Math.atan2(E,_)+(S-B.PI/2+d)*i;var A=Math.sqrt(_*_+E*E);b.c=Math.cos(S)*A,b.d=Math.sin(S)*A,y=!0}y&&(v.appliedValid=!1)}},r.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,h=o.length;s<h;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(t!=0){var c=a.arotation-u+this.data.offsetRotation;c-=(16384-(16384.499999999996-c/360|0))*360,u+=c*t}var f=l.ax,d=l.ay;e!=0&&(f+=(a.ax-f+this.data.offsetX)*e,d+=(a.ay-d+this.data.offsetY)*e);var p=l.ascaleX,m=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var g=l.ashearY;if(i>0){var c=a.ashearY-g+this.data.offsetShearY;c-=(16384-(16384.499999999996-c/360|0))*360,l.shearY+=c*i}l.updateWorldTransformWith(f,d,u,p,m,l.ashearX,g)}},r.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,h=o.length;s<h;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;t!=0&&(u+=(a.arotation+this.data.offsetRotation)*t);var c=l.ax,f=l.ay;e!=0&&(c+=(a.ax+this.data.offsetX)*e,f+=(a.ay+this.data.offsetY)*e);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(c,f,u,d,p,l.ashearX,m)}},r}(),O_=function(){function r(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,t==null)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],i=void 0;if(n.parent==null)i=new Bd(n,this,null);else{var a=this.bones[n.parent.index];i=new Bd(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var e=0;e<t.slots.length;e++){var o=t.slots[e],i=this.bones[o.boneData.index],s=new M_(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var e=0;e<t.ikConstraints.length;e++){var h=t.ikConstraints[e];this.ikConstraints.push(new P_(h,this))}this.transformConstraints=new Array;for(var e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new R_(l,this))}this.pathConstraints=new Array;for(var e=0;e<t.pathConstraints.length;e++){var u=t.pathConstraints[e];this.pathConstraints.push(new C_(u,this))}this.color=new dt(1,1,1,1),this.updateCache()}return r.prototype.updateCache=function(){var t=this._updateCache;t.length=0,this.updateCacheReset.length=0;for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,h=this.transformConstraints,l=this.pathConstraints,u=s.length,c=h.length,f=l.length,d=u+c+f;t:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var m=s[p];if(m.data.order==n){this.sortIkConstraint(m);continue t}}for(var p=0;p<c;p++){var m=h[p];if(m.data.order==n){this.sortTransformConstraint(m);continue t}}for(var p=0;p<f;p++){var m=l[p];if(m.data.order==n){this.sortPathConstraint(m);continue t}}}for(var n=0,i=e.length;n<i;n++)this.sortBone(e[n])},r.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin!=null&&Z.contains(this.skin.constraints,t.data,!0)),!!t.active){var e=t.target;this.sortBone(e);var n=t.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(t),this.sortReset(i.children),n[n.length-1].sorted=!0}},r.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin!=null&&Z.contains(this.skin.constraints,t.data,!0)),!!t.active){var e=t.target,n=e.data.index,i=e.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=e.getAttachment();s instanceof Bs&&this.sortPathConstraintAttachmentWith(s,i);for(var h=t.bones,l=h.length,a=0;a<l;a++)this.sortBone(h[a]);this._updateCache.push(t);for(var a=0;a<l;a++)this.sortReset(h[a].children);for(var a=0;a<l;a++)h[a].sorted=!0}},r.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin!=null&&Z.contains(this.skin.constraints,t.data,!0)),!!t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var a=e[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(e[i]);this._updateCache.push(t);for(var o=0;o<n;o++)this.sortReset(e[o].children);for(var o=0;o<n;o++)e[o].sorted=!0}},r.prototype.sortPathConstraintAttachment=function(t,e,n){var i=t.attachments[e];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},r.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof Bs){var n=t.bones;if(n==null)this.sortBone(e);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var h=n[a];this.sortBone(i[h])}}},r.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e!=null&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},r.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];!i.active||(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},r.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,e=0,n=a.length;e<n;e++)a[e].update()},r.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},r.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,e=0,n=i.length;e<n;e++){var a=i[e];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,e=0,n=o.length;e<n;e++){var a=o[e],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var h=this.pathConstraints,e=0,n=h.length;e<n;e++){var a=h[e],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},r.prototype.setSlotsToSetupPose=function(){var t=this.slots;Z.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},r.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},r.prototype.findBone=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},r.prototype.findSlot=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},r.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(e==null)throw new Error("Skin not found: "+t);this.setSkin(e)},r.prototype.setSkin=function(t){if(t!=this.skin){if(t!=null)if(this.skin!=null)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n],o=a.data.attachmentName;if(o!=null){var s=t.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=t,this.updateCache()}},r.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},r.prototype.getAttachment=function(t,e){if(e==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(t,e);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(t,e):null},r.prototype.setAttachment=function(t,e){if(t==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==t){var s=null;if(e!=null&&(s=this.getAttachment(i,e),s==null))throw new Error("Attachment not found: "+e+", for slot: "+t);o.setAttachment(s);return}}throw new Error("Slot not found: "+t)},r.prototype.findIkConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.getBounds=function(t,e,n){if(n===void 0&&(n=new Array(2)),t==null)throw new Error("offset cannot be null.");if(e==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l];if(c.bone.active){var f=0,d=null,p=c.getAttachment();if(p instanceof Od)f=8,d=Z.setArraySize(n,f,0),p.computeWorldVertices(c.bone,d,0,2);else if(p instanceof zu){var m=p;f=m.worldVerticesLength,d=Z.setArraySize(n,f,0),m.computeWorldVertices(c,0,f,d,0,2)}if(d!=null)for(var g=0,v=d.length;g<v;g+=2){var y=d[g],b=d[g+1];a=Math.min(a,y),o=Math.min(o,b),s=Math.max(s,y),h=Math.max(h,b)}}}t.set(a,o),e.set(s-a,h-o)},r.prototype.update=function(t){this.time+=t},Object.defineProperty(r.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1},enumerable:!1,configurable:!0}),r.deprecatedWarning1=!1,r}(),Wd=function(){function r(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return r.prototype.findBone=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r.prototype.findSlot=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r.prototype.findSkin=function(t){if(t==null)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findEvent=function(t){if(t==null)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findAnimation=function(t){if(t==null)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findIkConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraintIndex=function(t){if(t==null)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r}(),zd=function(){function r(t,e,n){if(this.color=new dt(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(e==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}return r}(),Hd=function(r){ye(t,r);function t(e){var n=r.call(this,e,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return t}(qu),qd=function(){function r(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n}return r}(),Gu=function(){function r(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,t==null)throw new Error("name cannot be null.");this.name=t}return r.prototype.setAttachment=function(t,e,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n},r.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var e=0;e<t.constraints.length;e++){for(var o=t.constraints[e],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var h=s[e];this.setAttachment(h.slotIndex,h.name,h.attachment)}},r.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var e=0;e<t.constraints.length;e++){for(var o=t.constraints[e],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var h=s[e];h.attachment!=null&&(h.attachment instanceof zu?(h.attachment=h.attachment.newLinkedMesh(),this.setAttachment(h.slotIndex,h.name,h.attachment)):(h.attachment=h.attachment.copy(),this.setAttachment(h.slotIndex,h.name,h.attachment)))}},r.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},r.prototype.removeAttachment=function(t,e){var n=this.attachments[t];n&&(n[e]=null)},r.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&t.push(new qd(e,i,a))}}return t},r.prototype.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var i in n){var a=n[i];a&&e.push(new qd(t,i,a))}},r.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},r.prototype.attachAll=function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var a=t.slots[i],o=a.getAttachment();if(o&&n<e.attachments.length){var s=e.attachments[n];for(var h in s){var l=s[h];if(o==l){var u=this.getAttachment(n,h);u!=null&&a.setAttachment(u);break}}}n++}},r}(),k_=function(){function r(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return r.prototype.readSkeletonData=function(t){var e=this.scale,n=new Wd;n.name="";var i=new Wu(t);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var h=0;h<s;h++)i.strings.push(i.readString());s=i.readInt(!0);for(var h=0;h<s;h++){var l=i.readString(),u=h==0?null:n.bones[i.readInt(!0)],c=new Vd(h,l,u);c.rotation=i.readFloat(),c.x=i.readFloat()*e,c.y=i.readFloat()*e,c.scaleX=i.readFloat(),c.scaleY=i.readFloat(),c.shearX=i.readFloat(),c.shearY=i.readFloat(),c.length=i.readFloat()*e,c.transformMode=r.TransformModeValues[i.readInt(!0)],c.skinRequired=i.readBoolean(),o&&dt.rgba8888ToColor(c.color,i.readInt32()),n.bones.push(c)}s=i.readInt(!0);for(var h=0;h<s;h++){var f=i.readString(),d=n.bones[i.readInt(!0)],c=new zd(h,f,d);dt.rgba8888ToColor(c.color,i.readInt32());var p=i.readInt32();p!=-1&&dt.rgb888ToColor(c.darkColor=new dt,p),c.attachmentName=i.readStringRef(),c.blendMode=r.BlendModeValues[i.readInt(!0)],n.slots.push(c)}s=i.readInt(!0);for(var h=0,m=void 0;h<s;h++){var c=new jd(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var g=0;g<m;g++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.mix=i.readFloat(),c.softness=i.readFloat()*e,c.bendDirection=i.readByte(),c.compress=i.readBoolean(),c.stretch=i.readBoolean(),c.uniform=i.readBoolean(),n.ikConstraints.push(c)}s=i.readInt(!0);for(var h=0,m=void 0;h<s;h++){var c=new Hd(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var g=0;g<m;g++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.local=i.readBoolean(),c.relative=i.readBoolean(),c.offsetRotation=i.readFloat(),c.offsetX=i.readFloat()*e,c.offsetY=i.readFloat()*e,c.offsetScaleX=i.readFloat(),c.offsetScaleY=i.readFloat(),c.offsetShearY=i.readFloat(),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),c.scaleMix=i.readFloat(),c.shearMix=i.readFloat(),n.transformConstraints.push(c)}s=i.readInt(!0);for(var h=0,m=void 0;h<s;h++){var c=new Ud(i.readString());c.order=i.readInt(!0),c.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var g=0;g<m;g++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.slots[i.readInt(!0)],c.positionMode=r.PositionModeValues[i.readInt(!0)],c.spacingMode=r.SpacingModeValues[i.readInt(!0)],c.rotateMode=r.RotateModeValues[i.readInt(!0)],c.offsetRotation=i.readFloat(),c.position=i.readFloat(),c.positionMode==pe.Fixed&&(c.position*=e),c.spacing=i.readFloat(),(c.spacingMode==Ne.Length||c.spacingMode==Ne.Fixed)&&(c.spacing*=e),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),n.pathConstraints.push(c)}var v=this.readSkin(i,n,!0,o);v!=null&&(n.defaultSkin=v,n.skins.push(v));{var h=n.skins.length;for(Z.setArraySize(n.skins,s=h+i.readInt(!0));h<s;h++)n.skins[h]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var h=0;h<s;h++){var y=this.linkedMeshes[h],b=y.skin==null?n.defaultSkin:n.findSkin(y.skin);if(b==null)throw new Error("Skin not found: "+y.skin);var x=b.getAttachment(y.slotIndex,y.parent);if(x==null)throw new Error("Parent mesh not found: "+y.parent);y.mesh.deformAttachment=y.inheritDeform?x:y.mesh,y.mesh.setParentMesh(x)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var h=0;h<s;h++){var c=new Yd(i.readStringRef());c.intValue=i.readInt(!1),c.floatValue=i.readFloat(),c.stringValue=i.readString(),c.audioPath=i.readString(),c.audioPath!=null&&(c.volume=i.readFloat(),c.balance=i.readFloat()),n.events.push(c)}s=i.readInt(!0);for(var h=0;h<s;h++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},r.prototype.readSkin=function(t,e,n,i){var a=null,o=0;if(n){if(o=t.readInt(!0),o==0)return null;a=new Gu("default")}else{a=new Gu(t.readStringRef()),a.bones.length=t.readInt(!0);for(var s=0,h=a.bones.length;s<h;s++)a.bones[s]=e.bones[t.readInt(!0)];for(var s=0,h=t.readInt(!0);s<h;s++)a.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var s=0,h=t.readInt(!0);s<h;s++)a.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var s=0,h=t.readInt(!0);s<h;s++)a.constraints.push(e.pathConstraints[t.readInt(!0)]);o=t.readInt(!0)}for(var s=0;s<o;s++)for(var l=t.readInt(!0),u=0,c=t.readInt(!0);u<c;u++){var f=t.readStringRef(),d=this.readAttachment(t,e,a,l,f,i);d!=null&&a.setAttachment(l,f,d)}return a},r.prototype.readAttachment=function(t,e,n,i,a,o){var s=this.scale,h=t.readStringRef();h==null&&(h=a);var l=t.readByte(),u=r.AttachmentTypeValues[l];switch(u){case Vt.Region:{var c=t.readStringRef(),f=t.readFloat(),d=t.readFloat(),p=t.readFloat(),m=t.readFloat(),g=t.readFloat(),v=t.readFloat(),y=t.readFloat(),b=t.readInt32();c==null&&(c=h);var x=this.attachmentLoader.newRegionAttachment(n,h,c);return x==null?null:(x.path=c,x.x=d*s,x.y=p*s,x.scaleX=m,x.scaleY=g,x.rotation=f,x.width=v*s,x.height=y*s,dt.rgba8888ToColor(x.color,b),x)}case Vt.BoundingBox:{var _=t.readInt(!0),w=this.readVertices(t,_),b=o?t.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,h);return E==null?null:(E.worldVerticesLength=_<<1,E.vertices=w.vertices,E.bones=w.bones,o&&dt.rgba8888ToColor(E.color,b),E)}case Vt.Mesh:{var c=t.readStringRef(),b=t.readInt32(),_=t.readInt(!0),S=this.readFloatArray(t,_<<1,1),T=this.readShortArray(t),w=this.readVertices(t,_),I=t.readInt(!0),R=null,v=0,y=0;o&&(R=this.readShortArray(t),v=t.readFloat(),y=t.readFloat()),c==null&&(c=h);var A=this.attachmentLoader.newMeshAttachment(n,h,c);return A==null?null:(A.path=c,dt.rgba8888ToColor(A.color,b),A.bones=w.bones,A.vertices=w.vertices,A.worldVerticesLength=_<<1,A.triangles=T,A.regionUVs=new Float32Array(S),A.hullLength=I<<1,o&&(A.edges=R,A.width=v*s,A.height=y*s),A)}case Vt.LinkedMesh:{var c=t.readStringRef(),b=t.readInt32(),C=t.readStringRef(),O=t.readStringRef(),N=t.readBoolean(),v=0,y=0;o&&(v=t.readFloat(),y=t.readFloat()),c==null&&(c=h);var A=this.attachmentLoader.newMeshAttachment(n,h,c);return A==null?null:(A.path=c,dt.rgba8888ToColor(A.color,b),o&&(A.width=v*s,A.height=y*s),this.linkedMeshes.push(new BL(A,C,i,O,N)),A)}case Vt.Path:{for(var L=t.readBoolean(),D=t.readBoolean(),_=t.readInt(!0),w=this.readVertices(t,_),Q=Z.newArray(_/3,0),tt=0,V=Q.length;tt<V;tt++)Q[tt]=t.readFloat()*s;var b=o?t.readInt32():0,c=this.attachmentLoader.newPathAttachment(n,h);return c==null?null:(c.closed=L,c.constantSpeed=D,c.worldVerticesLength=_<<1,c.vertices=w.vertices,c.bones=w.bones,c.lengths=Q,o&&dt.rgba8888ToColor(c.color,b),c)}case Vt.Point:{var f=t.readFloat(),d=t.readFloat(),p=t.readFloat(),b=o?t.readInt32():0,W=this.attachmentLoader.newPointAttachment(n,h);return W==null?null:(W.x=d*s,W.y=p*s,W.rotation=f,o&&dt.rgba8888ToColor(W.color,b),W)}case Vt.Clipping:{var X=t.readInt(!0),_=t.readInt(!0),w=this.readVertices(t,_),b=o?t.readInt32():0,j=this.attachmentLoader.newClippingAttachment(n,h);return j==null?null:(j.endSlot=e.slots[X],j.worldVerticesLength=_<<1,j.vertices=w.vertices,j.bones=w.bones,o&&dt.rgba8888ToColor(j.color,b),j)}}return null},r.prototype.readVertices=function(t,e){var n=e<<1,i=new VL,a=this.scale;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,n,a),i;for(var o=new Array,s=new Array,h=0;h<e;h++){var l=t.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(t.readInt(!0)),o.push(t.readFloat()*a),o.push(t.readFloat()*a),o.push(t.readFloat())}return i.vertices=Z.toFloatArray(o),i.bones=s,i},r.prototype.readFloatArray=function(t,e,n){var i=new Array(e);if(n==1)for(var a=0;a<e;a++)i[a]=t.readFloat();else for(var a=0;a<e;a++)i[a]=t.readFloat()*n;return i},r.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),i=0;i<e;i++)n[i]=t.readShort();return n},r.prototype.readAnimation=function(t,e,n){for(var i=new Array,a=this.scale,o=0,s=new dt,h=new dt,l=0,u=t.readInt(!0);l<u;l++)for(var c=t.readInt(!0),f=0,d=t.readInt(!0);f<d;f++){var p=t.readByte(),m=t.readInt(!0);switch(p){case r.SLOT_ATTACHMENT:{var g=new xa(m);g.slotIndex=c;for(var v=0;v<m;v++)g.setFrame(v,t.readFloat(),t.readStringRef());i.push(g),o=Math.max(o,g.frames[m-1]);break}case r.SLOT_COLOR:{var g=new Vs(m);g.slotIndex=c;for(var v=0;v<m;v++){var y=t.readFloat();dt.rgba8888ToColor(s,t.readInt32()),g.setFrame(v,y,s.r,s.g,s.b,s.a),v<m-1&&this.readCurve(t,v,g)}i.push(g),o=Math.max(o,g.frames[(m-1)*Vs.ENTRIES]);break}case r.SLOT_TWO_COLOR:{var g=new Xs(m);g.slotIndex=c;for(var v=0;v<m;v++){var y=t.readFloat();dt.rgba8888ToColor(s,t.readInt32()),dt.rgb888ToColor(h,t.readInt32()),g.setFrame(v,y,s.r,s.g,s.b,s.a,h.r,h.g,h.b),v<m-1&&this.readCurve(t,v,g)}i.push(g),o=Math.max(o,g.frames[(m-1)*Xs.ENTRIES]);break}}}for(var l=0,u=t.readInt(!0);l<u;l++)for(var b=t.readInt(!0),f=0,d=t.readInt(!0);f<d;f++){var p=t.readByte(),m=t.readInt(!0);switch(p){case r.BONE_ROTATE:{var g=new Tr(m);g.boneIndex=b;for(var v=0;v<m;v++)g.setFrame(v,t.readFloat(),t.readFloat()),v<m-1&&this.readCurve(t,v,g);i.push(g),o=Math.max(o,g.frames[(m-1)*Tr.ENTRIES]);break}case r.BONE_TRANSLATE:case r.BONE_SCALE:case r.BONE_SHEAR:{var g=void 0,x=1;p==r.BONE_SCALE?g=new kd(m):p==r.BONE_SHEAR?g=new Fd(m):(g=new ba(m),x=a),g.boneIndex=b;for(var v=0;v<m;v++)g.setFrame(v,t.readFloat(),t.readFloat()*x,t.readFloat()*x),v<m-1&&this.readCurve(t,v,g);i.push(g),o=Math.max(o,g.frames[(m-1)*ba.ENTRIES]);break}}}for(var l=0,u=t.readInt(!0);l<u;l++){var _=t.readInt(!0),m=t.readInt(!0),g=new Ys(m);g.ikConstraintIndex=_;for(var v=0;v<m;v++)g.setFrame(v,t.readFloat(),t.readFloat(),t.readFloat()*a,t.readByte(),t.readBoolean(),t.readBoolean()),v<m-1&&this.readCurve(t,v,g);i.push(g),o=Math.max(o,g.frames[(m-1)*Ys.ENTRIES])}for(var l=0,u=t.readInt(!0);l<u;l++){var _=t.readInt(!0),m=t.readInt(!0),g=new js(m);g.transformConstraintIndex=_;for(var v=0;v<m;v++)g.setFrame(v,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),v<m-1&&this.readCurve(t,v,g);i.push(g),o=Math.max(o,g.frames[(m-1)*js.ENTRIES])}for(var l=0,u=t.readInt(!0);l<u;l++)for(var _=t.readInt(!0),w=n.pathConstraints[_],f=0,d=t.readInt(!0);f<d;f++){var p=t.readByte(),m=t.readInt(!0);switch(p){case r.PATH_POSITION:case r.PATH_SPACING:{var g=void 0,x=1;p==r.PATH_SPACING?(g=new Dd(m),(w.spacingMode==Ne.Length||w.spacingMode==Ne.Fixed)&&(x=a)):(g=new wo(m),w.positionMode==pe.Fixed&&(x=a)),g.pathConstraintIndex=_;for(var v=0;v<m;v++)g.setFrame(v,t.readFloat(),t.readFloat()*x),v<m-1&&this.readCurve(t,v,g);i.push(g),o=Math.max(o,g.frames[(m-1)*wo.ENTRIES]);break}case r.PATH_MIX:{var g=new Us(m);g.pathConstraintIndex=_;for(var v=0;v<m;v++)g.setFrame(v,t.readFloat(),t.readFloat(),t.readFloat()),v<m-1&&this.readCurve(t,v,g);i.push(g),o=Math.max(o,g.frames[(m-1)*Us.ENTRIES]);break}}}for(var l=0,u=t.readInt(!0);l<u;l++)for(var E=n.skins[t.readInt(!0)],f=0,d=t.readInt(!0);f<d;f++)for(var c=t.readInt(!0),S=0,T=t.readInt(!0);S<T;S++){var I=E.getAttachment(c,t.readStringRef()),R=I.bones!=null,A=I.vertices,C=R?A.length/3*2:A.length,m=t.readInt(!0),g=new Nd(m);g.slotIndex=c,g.attachment=I;for(var v=0;v<m;v++){var y=t.readFloat(),O=void 0,N=t.readInt(!0);if(N==0)O=R?Z.newFloatArray(C):A;else{O=Z.newFloatArray(C);var L=t.readInt(!0);if(N+=L,a==1)for(var D=L;D<N;D++)O[D]=t.readFloat();else for(var D=L;D<N;D++)O[D]=t.readFloat()*a;if(!R)for(var D=0,Q=O.length;D<Q;D++)O[D]+=A[D]}g.setFrame(v,y,O),v<m-1&&this.readCurve(t,v,g)}i.push(g),o=Math.max(o,g.frames[m-1])}var tt=t.readInt(!0);if(tt>0){for(var g=new _o(tt),V=n.slots.length,l=0;l<tt;l++){for(var y=t.readFloat(),W=t.readInt(!0),X=Z.newArray(V,0),f=V-1;f>=0;f--)X[f]=-1;for(var j=Z.newArray(V-W,0),Y=0,q=0,f=0;f<W;f++){for(var c=t.readInt(!0);Y!=c;)j[q++]=Y++;X[Y+t.readInt(!0)]=Y++}for(;Y<V;)j[q++]=Y++;for(var f=V-1;f>=0;f--)X[f]==-1&&(X[f]=j[--q]);g.setFrame(l,y,X)}i.push(g),o=Math.max(o,g.frames[tt-1])}var $=t.readInt(!0);if($>0){for(var g=new Hu($),l=0;l<$;l++){var y=t.readFloat(),K=n.events[t.readInt(!0)],J=new Xd(y,K);J.intValue=t.readInt(!1),J.floatValue=t.readFloat(),J.stringValue=t.readBoolean()?t.readString():K.stringValue,J.data.audioPath!=null&&(J.volume=t.readFloat(),J.balance=t.readFloat()),g.setFrame(l,J)}i.push(g),o=Math.max(o,g.frames[$-1])}return new Se(e,i,o)},r.prototype.readCurve=function(t,e,n){switch(t.readByte()){case r.CURVE_STEPPED:n.setStepped(e);break;case r.CURVE_BEZIER:this.setCurve(n,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat());break}},r.prototype.setCurve=function(t,e,n,i,a,o){t.setCurve(e,n,i,a,o)},r.AttachmentTypeValues=[0,1,2,3,4,5,6],r.TransformModeValues=[Mt.Normal,Mt.OnlyTranslation,Mt.NoRotationOrReflection,Mt.NoScale,Mt.NoScaleOrReflection],r.PositionModeValues=[pe.Fixed,pe.Percent],r.SpacingModeValues=[Ne.Length,Ne.Fixed,Ne.Percent],r.RotateModeValues=[_e.Tangent,_e.Chain,_e.ChainScale],r.BlendModeValues=[gt.NORMAL,gt.ADD,gt.MULTIPLY,gt.SCREEN],r.BONE_ROTATE=0,r.BONE_TRANSLATE=1,r.BONE_SCALE=2,r.BONE_SHEAR=3,r.SLOT_ATTACHMENT=0,r.SLOT_COLOR=1,r.SLOT_TWO_COLOR=2,r.PATH_POSITION=0,r.PATH_SPACING=1,r.PATH_MIX=2,r.CURVE_LINEAR=0,r.CURVE_STEPPED=1,r.CURVE_BEZIER=2,r}(),BL=function(){function r(t,e,n,i,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return r}(),VL=function(){function r(t,e){t===void 0&&(t=null),e===void 0&&(e=null),this.bones=t,this.vertices=e}return r}(),XL=function(){function r(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new xo(function(){return Z.newFloatArray(16)})}return r.prototype.update=function(t,e){if(t==null)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=t.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var h=0;h<s;h++){var l=o[h];if(l.bone.active){var u=l.getAttachment();if(u instanceof Rd){var c=u;n.push(c);var f=a.obtain();f.length!=c.worldVerticesLength&&(f=Z.newFloatArray(c.worldVerticesLength)),i.push(f),c.computeWorldVertices(l,0,c.worldVerticesLength,f,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},r.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var h=a[o],l=h,u=0,c=h.length;u<c;u+=2){var f=l[u],d=l[u+1];t=Math.min(t,f),e=Math.min(e,d),n=Math.max(n,f),i=Math.max(i,d)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=i},r.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},r.prototype.aabbIntersectsSegment=function(t,e,n,i){var a=this.minX,o=this.minY,s=this.maxX,h=this.maxY;if(t<=a&&n<=a||e<=o&&i<=o||t>=s&&n>=s||e>=h&&i>=h)return!1;var l=(i-e)/(n-t),u=l*(a-t)+e;if(u>o&&u<h||(u=l*(s-t)+e,u>o&&u<h))return!0;var c=(o-e)/l+t;return c>a&&c<s||(c=(h-e)/l+t,c>a&&c<s)},r.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},r.prototype.containsPoint=function(t,e){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null},r.prototype.containsPointPolygon=function(t,e,n){for(var i=t,a=t.length,o=a-2,s=!1,h=0;h<a;h+=2){var l=i[h+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var c=i[h];c+(n-l)/(u-l)*(i[o]-c)<e&&(s=!s)}o=h}return s},r.prototype.intersectsSegment=function(t,e,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],t,e,n,i))return this.boundingBoxes[o];return null},r.prototype.intersectsSegmentPolygon=function(t,e,n,i,a){for(var o=t,s=t.length,h=e-i,l=n-a,u=e*a-n*i,c=o[s-2],f=o[s-1],d=0;d<s;d+=2){var p=o[d],m=o[d+1],g=c*m-f*p,v=c-p,y=f-m,b=h*y-l*v,x=(u*v-h*g)/b;if((x>=c&&x<=p||x>=p&&x<=c)&&(x>=e&&x<=i||x>=i&&x<=e)){var _=(u*y-l*g)/b;if((_>=f&&_<=m||_>=m&&_<=f)&&(_>=n&&_<=a||_>=a&&_<=n))return!0}c=p,f=m}return!1},r.prototype.getPolygon=function(t){if(t==null)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return e==-1?null:this.polygons[e]},r.prototype.getWidth=function(){return this.maxX-this.minX},r.prototype.getHeight=function(){return this.maxY-this.minY},r}(),F_=function(){function r(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return r.prototype.readSkeletonData=function(t){var e=this.scale,n=new Wd,i=typeof t=="string"?JSON.parse(t):t,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var h=i.bones[s],l=null,u=this.getValue(h,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var c=new Vd(n.bones.length,h.name,l);c.length=this.getValue(h,"length",0)*e,c.x=this.getValue(h,"x",0)*e,c.y=this.getValue(h,"y",0)*e,c.rotation=this.getValue(h,"rotation",0),c.scaleX=this.getValue(h,"scaleX",1),c.scaleY=this.getValue(h,"scaleY",1),c.shearX=this.getValue(h,"shearX",0),c.shearY=this.getValue(h,"shearY",0),c.transformMode=r.transformModeFromString(this.getValue(h,"transform","normal")),c.skinRequired=this.getValue(h,"skin",!1),n.bones.push(c)}if(i.slots)for(var s=0;s<i.slots.length;s++){var f=i.slots[s],d=f.name,p=f.bone,m=n.findBone(p);if(m==null)throw new Error("Slot bone not found: "+p);var c=new zd(n.slots.length,d,m),g=this.getValue(f,"color",null);g!=null&&c.color.setFromString(g);var v=this.getValue(f,"dark",null);v!=null&&(c.darkColor=new dt(1,1,1,1),c.darkColor.setFromString(v)),c.attachmentName=this.getValue(f,"attachment",null),c.blendMode=r.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(c)}if(i.ik)for(var s=0;s<i.ik.length;s++){var y=i.ik[s],c=new jd(y.name);c.order=this.getValue(y,"order",0),c.skinRequired=this.getValue(y,"skin",!1);for(var b=0;b<y.bones.length;b++){var p=y.bones[b],x=n.findBone(p);if(x==null)throw new Error("IK bone not found: "+p);c.bones.push(x)}var _=y.target;if(c.target=n.findBone(_),c.target==null)throw new Error("IK target bone not found: "+_);c.mix=this.getValue(y,"mix",1),c.softness=this.getValue(y,"softness",0)*e,c.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,c.compress=this.getValue(y,"compress",!1),c.stretch=this.getValue(y,"stretch",!1),c.uniform=this.getValue(y,"uniform",!1),n.ikConstraints.push(c)}if(i.transform)for(var s=0;s<i.transform.length;s++){var y=i.transform[s],c=new Hd(y.name);c.order=this.getValue(y,"order",0),c.skinRequired=this.getValue(y,"skin",!1);for(var b=0;b<y.bones.length;b++){var p=y.bones[b],x=n.findBone(p);if(x==null)throw new Error("Transform constraint bone not found: "+p);c.bones.push(x)}var _=y.target;if(c.target=n.findBone(_),c.target==null)throw new Error("Transform constraint target bone not found: "+_);c.local=this.getValue(y,"local",!1),c.relative=this.getValue(y,"relative",!1),c.offsetRotation=this.getValue(y,"rotation",0),c.offsetX=this.getValue(y,"x",0)*e,c.offsetY=this.getValue(y,"y",0)*e,c.offsetScaleX=this.getValue(y,"scaleX",0),c.offsetScaleY=this.getValue(y,"scaleY",0),c.offsetShearY=this.getValue(y,"shearY",0),c.rotateMix=this.getValue(y,"rotateMix",1),c.translateMix=this.getValue(y,"translateMix",1),c.scaleMix=this.getValue(y,"scaleMix",1),c.shearMix=this.getValue(y,"shearMix",1),n.transformConstraints.push(c)}if(i.path)for(var s=0;s<i.path.length;s++){var y=i.path[s],c=new Ud(y.name);c.order=this.getValue(y,"order",0),c.skinRequired=this.getValue(y,"skin",!1);for(var b=0;b<y.bones.length;b++){var p=y.bones[b],x=n.findBone(p);if(x==null)throw new Error("Transform constraint bone not found: "+p);c.bones.push(x)}var _=y.target;if(c.target=n.findSlot(_),c.target==null)throw new Error("Path target slot not found: "+_);c.positionMode=r.positionModeFromString(this.getValue(y,"positionMode","percent")),c.spacingMode=r.spacingModeFromString(this.getValue(y,"spacingMode","length")),c.rotateMode=r.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),c.offsetRotation=this.getValue(y,"rotation",0),c.position=this.getValue(y,"position",0),c.positionMode==pe.Fixed&&(c.position*=e),c.spacing=this.getValue(y,"spacing",0),(c.spacingMode==Ne.Length||c.spacingMode==Ne.Fixed)&&(c.spacing*=e),c.rotateMix=this.getValue(y,"rotateMix",1),c.translateMix=this.getValue(y,"translateMix",1),n.pathConstraints.push(c)}if(i.skins)for(var s=0;s<i.skins.length;s++){var w=i.skins[s],E=new Gu(w.name);if(w.bones)for(var S=0;S<w.bones.length;S++){var x=n.findBone(w.bones[S]);if(x==null)throw new Error("Skin bone not found: "+w.bones[s]);E.bones.push(x)}if(w.ik)for(var S=0;S<w.ik.length;S++){var T=n.findIkConstraint(w.ik[S]);if(T==null)throw new Error("Skin IK constraint not found: "+w.ik[s]);E.constraints.push(T)}if(w.transform)for(var S=0;S<w.transform.length;S++){var T=n.findTransformConstraint(w.transform[S]);if(T==null)throw new Error("Skin transform constraint not found: "+w.transform[s]);E.constraints.push(T)}if(w.path)for(var S=0;S<w.path.length;S++){var T=n.findPathConstraint(w.path[S]);if(T==null)throw new Error("Skin path constraint not found: "+w.path[s]);E.constraints.push(T)}for(var d in w.attachments){var I=n.findSlot(d);if(I==null)throw new Error("Slot not found: "+d);var f=w.attachments[d];for(var R in f){var A=this.readAttachment(f[R],E,I.index,R,n);A!=null&&E.setAttachment(I.index,R,A)}}n.skins.push(E),E.name=="default"&&(n.defaultSkin=E)}for(var s=0,C=this.linkedMeshes.length;s<C;s++){var O=this.linkedMeshes[s],E=O.skin==null?n.defaultSkin:n.findSkin(O.skin);if(E==null)throw new Error("Skin not found: "+O.skin);var N=E.getAttachment(O.slotIndex,O.parent);if(N==null)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?N:O.mesh,O.mesh.setParentMesh(N)}if(this.linkedMeshes.length=0,i.events)for(var L in i.events){var D=i.events[L],c=new Yd(L);c.intValue=this.getValue(D,"int",0),c.floatValue=this.getValue(D,"float",0),c.stringValue=this.getValue(D,"string",""),c.audioPath=this.getValue(D,"audio",null),c.audioPath!=null&&(c.volume=this.getValue(D,"volume",1),c.balance=this.getValue(D,"balance",0)),n.events.push(c)}if(i.animations)for(var Q in i.animations){var tt=i.animations[Q];this.readAnimation(tt,Q,n)}return n},r.prototype.readAttachment=function(t,e,n,i,a){var o=this.scale;i=this.getValue(t,"name",i);var s=this.getValue(t,"type","region");switch(s){case"region":{var h=this.getValue(t,"path",i),l=this.attachmentLoader.newRegionAttachment(e,i,h);if(l==null)return null;l.path=h,l.x=this.getValue(t,"x",0)*o,l.y=this.getValue(t,"y",0)*o,l.scaleX=this.getValue(t,"scaleX",1),l.scaleY=this.getValue(t,"scaleY",1),l.rotation=this.getValue(t,"rotation",0),l.width=t.width*o,l.height=t.height*o;var u=this.getValue(t,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(c==null)return null;this.readVertices(t,c,t.vertexCount<<1);var u=this.getValue(t,"color",null);return u!=null&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var h=this.getValue(t,"path",i),f=this.attachmentLoader.newMeshAttachment(e,i,h);if(f==null)return null;f.path=h;var u=this.getValue(t,"color",null);u!=null&&f.color.setFromString(u),f.width=this.getValue(t,"width",0)*o,f.height=this.getValue(t,"height",0)*o;var d=this.getValue(t,"parent",null);if(d!=null)return this.linkedMeshes.push(new YL(f,this.getValue(t,"skin",null),n,d,this.getValue(t,"deform",!0))),f;var p=t.uvs;return this.readVertices(t,f,p.length),f.triangles=t.triangles,f.regionUVs=new Float32Array(p),f.edges=this.getValue(t,"edges",null),f.hullLength=this.getValue(t,"hull",0)*2,f}case"path":{var h=this.attachmentLoader.newPathAttachment(e,i);if(h==null)return null;h.closed=this.getValue(t,"closed",!1),h.constantSpeed=this.getValue(t,"constantSpeed",!0);var m=t.vertexCount;this.readVertices(t,h,m<<1);for(var g=Z.newArray(m/3,0),v=0;v<t.lengths.length;v++)g[v]=t.lengths[v]*o;h.lengths=g;var u=this.getValue(t,"color",null);return u!=null&&h.color.setFromString(u),h}case"point":{var y=this.attachmentLoader.newPointAttachment(e,i);if(y==null)return null;y.x=this.getValue(t,"x",0)*o,y.y=this.getValue(t,"y",0)*o,y.rotation=this.getValue(t,"rotation",0);var u=this.getValue(t,"color",null);return u!=null&&y.color.setFromString(u),y}case"clipping":{var b=this.attachmentLoader.newClippingAttachment(e,i);if(b==null)return null;var x=this.getValue(t,"end",null);if(x!=null){var _=a.findSlot(x);if(_==null)throw new Error("Clipping end slot not found: "+x);b.endSlot=_}var m=t.vertexCount;this.readVertices(t,b,m<<1);var u=this.getValue(t,"color",null);return u!=null&&b.color.setFromString(u),b}}return null},r.prototype.readVertices=function(t,e,n){var i=this.scale;e.worldVerticesLength=n;var a=t.vertices;if(n==a.length){var o=Z.toFloatArray(a);if(i!=1)for(var s=0,h=a.length;s<h;s++)o[s]*=i;e.vertices=o;return}for(var l=new Array,u=new Array,s=0,h=a.length;s<h;){var c=a[s++];u.push(c);for(var f=s+c*4;s<f;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}e.bones=u,e.vertices=Z.toFloatArray(l)},r.prototype.readAnimation=function(t,e,n){var i=this.scale,a=new Array,o=0;if(t.slots)for(var s in t.slots){var h=t.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in h){var c=h[u];if(u=="attachment"){var f=new xa(c.length);f.slotIndex=l;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d++,this.getValue(m,"time",0),m.name)}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}else if(u=="color"){var f=new Vs(c.length);f.slotIndex=l;for(var d=0,p=0;p<c.length;p++){var m=c[p],g=new dt;g.setFromString(m.color||"ffffffff"),f.setFrame(d,this.getValue(m,"time",0),g.r,g.g,g.b,g.a),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Vs.ENTRIES])}else if(u=="twoColor"){var f=new Xs(c.length);f.slotIndex=l;for(var d=0,p=0;p<c.length;p++){var m=c[p],v=new dt,y=new dt;v.setFromString(m.light),y.setFromString(m.dark),f.setFrame(d,this.getValue(m,"time",0),v.r,v.g,v.b,v.a,y.r,y.g,y.b),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Xs.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(t.bones)for(var b in t.bones){var x=t.bones[b],_=n.findBoneIndex(b);if(_==-1)throw new Error("Bone not found: "+b);for(var u in x){var c=x[u];if(u==="rotate"){var f=new Tr(c.length);f.boneIndex=_;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d,this.getValue(m,"time",0),this.getValue(m,"angle",0)),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Tr.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var f=null,w=1,E=0;u==="scale"?(f=new kd(c.length),E=1):u==="shear"?f=new Fd(c.length):(f=new ba(c.length),w=i),f.boneIndex=_;for(var d=0,p=0;p<c.length;p++){var m=c[p],S=this.getValue(m,"x",E),T=this.getValue(m,"y",E);f.setFrame(d,this.getValue(m,"time",0),S*w,T*w),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*ba.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+b+")")}}if(t.ik)for(var I in t.ik){var R=t.ik[I],A=n.findIkConstraint(I),f=new Ys(R.length);f.ikConstraintIndex=n.ikConstraints.indexOf(A);for(var d=0,p=0;p<R.length;p++){var m=R[p];f.setFrame(d,this.getValue(m,"time",0),this.getValue(m,"mix",1),this.getValue(m,"softness",0)*i,this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Ys.ENTRIES])}if(t.transform)for(var I in t.transform){var R=t.transform[I],A=n.findTransformConstraint(I),f=new js(R.length);f.transformConstraintIndex=n.transformConstraints.indexOf(A);for(var d=0,p=0;p<R.length;p++){var m=R[p];f.setFrame(d,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*js.ENTRIES])}if(t.path)for(var I in t.path){var R=t.path[I],C=n.findPathConstraintIndex(I);if(C==-1)throw new Error("Path constraint not found: "+I);var O=n.pathConstraints[C];for(var u in R){var c=R[u];if(u==="position"||u==="spacing"){var f=null,w=1;u==="spacing"?(f=new Dd(c.length),(O.spacingMode==Ne.Length||O.spacingMode==Ne.Fixed)&&(w=i)):(f=new wo(c.length),O.positionMode==pe.Fixed&&(w=i)),f.pathConstraintIndex=C;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d,this.getValue(m,"time",0),this.getValue(m,u,0)*w),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*wo.ENTRIES])}else if(u==="mix"){var f=new Us(c.length);f.pathConstraintIndex=C;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d,this.getValue(m,"time",0),this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Us.ENTRIES])}}}if(t.deform)for(var N in t.deform){var L=t.deform[N],D=n.findSkin(N);if(D!=null)for(var s in L){var h=L[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+h.name);for(var u in h){var c=h[u],Q=D.getAttachment(l,u);if(Q==null)throw new Error("Deform attachment not found: "+c.name);var tt=Q.bones!=null,V=Q.vertices,W=tt?V.length/3*2:V.length,f=new Nd(c.length);f.slotIndex=l,f.attachment=Q;for(var d=0,X=0;X<c.length;X++){var m=c[X],j=void 0,Y=this.getValue(m,"vertices",null);if(Y==null)j=tt?Z.newFloatArray(W):V;else{j=Z.newFloatArray(W);var q=this.getValue(m,"offset",0);if(Z.arrayCopy(Y,0,j,q,Y.length),i!=1)for(var p=q,$=p+Y.length;p<$;p++)j[p]*=i;if(!tt)for(var p=0;p<W;p++)j[p]+=V[p]}f.setFrame(d,this.getValue(m,"time",0),j),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}}}var K=t.drawOrder;if(K==null&&(K=t.draworder),K!=null){for(var f=new _o(K.length),J=n.slots.length,d=0,X=0;X<K.length;X++){var it=K[X],ut=null,at=this.getValue(it,"offsets",null);if(at!=null){ut=Z.newArray(J,-1);for(var M=Z.newArray(J-at.length,0),k=0,U=0,p=0;p<at.length;p++){var H=at[p],l=n.findSlotIndex(H.slot);if(l==-1)throw new Error("Slot not found: "+H.slot);for(;k!=l;)M[U++]=k++;ut[k+H.offset]=k++}for(;k<J;)M[U++]=k++;for(var p=J-1;p>=0;p--)ut[p]==-1&&(ut[p]=M[--U])}f.setFrame(d++,this.getValue(it,"time",0),ut)}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}if(t.events){for(var f=new Hu(t.events.length),d=0,p=0;p<t.events.length;p++){var G=t.events[p],rt=n.findEvent(G.name);if(rt==null)throw new Error("Event not found: "+G.name);var ht=new Xd(Z.toSinglePrecision(this.getValue(G,"time",0)),rt);ht.intValue=this.getValue(G,"int",rt.intValue),ht.floatValue=this.getValue(G,"float",rt.floatValue),ht.stringValue=this.getValue(G,"string",rt.stringValue),ht.data.audioPath!=null&&(ht.volume=this.getValue(G,"volume",1),ht.balance=this.getValue(G,"balance",0)),f.setFrame(d++,ht)}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Se(e,a,o))},r.prototype.readCurve=function(t,e,n){if(t.hasOwnProperty("curve"))if(t.curve==="stepped")e.setStepped(n);else{var i=t.curve;e.setCurve(n,i,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},r.prototype.getValue=function(t,e,n){return t[e]!==void 0?t[e]:n},r.blendModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return gt.NORMAL;if(t=="additive")return gt.ADD;if(t=="multiply")return gt.MULTIPLY;if(t=="screen")return gt.SCREEN;throw new Error("Unknown blend mode: "+t)},r.positionModeFromString=function(t){if(t=t.toLowerCase(),t=="fixed")return pe.Fixed;if(t=="percent")return pe.Percent;throw new Error("Unknown position mode: "+t)},r.spacingModeFromString=function(t){if(t=t.toLowerCase(),t=="length")return Ne.Length;if(t=="fixed")return Ne.Fixed;if(t=="percent")return Ne.Percent;throw new Error("Unknown position mode: "+t)},r.rotateModeFromString=function(t){if(t=t.toLowerCase(),t=="tangent")return _e.Tangent;if(t=="chain")return _e.Chain;if(t=="chainscale")return _e.ChainScale;throw new Error("Unknown rotate mode: "+t)},r.transformModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return Mt.Normal;if(t=="onlytranslation")return Mt.OnlyTranslation;if(t=="norotationorreflection")return Mt.NoRotationOrReflection;if(t=="noscale")return Mt.NoScale;if(t=="noscaleorreflection")return Mt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},r}(),YL=function(){function r(t,e,n,i,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return r}(),jL=function(r){ye(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createSkeleton=function(e){this.skeleton=new O_(e),this.skeleton.updateWorldTransform(),this.stateData=new A_(e),this.state=new S_(this.stateData)},t}(Ls);const UL=Object.freeze(Object.defineProperty({__proto__:null,Animation:Se,AnimationState:S_,AnimationStateAdapter:LL,AnimationStateData:A_,AtlasAttachmentLoader:Ld,Attachment:Md,AttachmentTimeline:xa,Bone:Bd,BoneData:Vd,BoundingBoxAttachment:Rd,ClippingAttachment:__,ColorTimeline:Vs,ConstraintData:qu,CurveTimeline:xn,DeformTimeline:Nd,DrawOrderTimeline:_o,Event:Xd,EventData:Yd,EventQueue:I_,EventTimeline:Hu,get EventType(){return ar},IkConstraint:P_,IkConstraintData:jd,IkConstraintTimeline:Ys,JitterEffect:NL,MeshAttachment:zu,PathAttachment:Bs,PathConstraint:C_,PathConstraintData:Ud,PathConstraintMixTimeline:Us,PathConstraintPositionTimeline:wo,PathConstraintSpacingTimeline:Dd,PointAttachment:w_,RegionAttachment:Od,RotateTimeline:Tr,ScaleTimeline:kd,ShearTimeline:Fd,Skeleton:O_,SkeletonBinary:k_,SkeletonBounds:XL,SkeletonData:Wd,SkeletonJson:F_,Skin:Gu,SkinEntry:qd,Slot:M_,SlotData:zd,get SpacingMode(){return Ne},Spine:jL,SwirlEffect:DL,get TimelineType(){return je},TrackEntry:T_,TransformConstraint:R_,TransformConstraintData:Hd,TransformConstraintTimeline:js,TranslateTimeline:ba,TwoColorTimeline:Xs,VertexAttachment:ya},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Gd=function(r,t){return Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Gd(r,t)};function Ce(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gd(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var $d=function(){function r(t){if(t==null)throw new Error("name cannot be null.");this.name=t}return r}(),_a=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.id=(t.nextID++&65535)<<11,n.worldVerticesLength=0,n}return t.prototype.computeWorldVerticesOld=function(e,n){this.computeWorldVertices(e,0,this.worldVerticesLength,n,0,2)},t.prototype.computeWorldVertices=function(e,n,i,a,o,s){i=o+(i>>1)*s;var h=e.bone.skeleton,l=e.attachmentVertices,u=this.vertices,c=this.bones;if(c==null){l.length>0&&(u=l);for(var f=e.bone.matrix,d=f.tx,p=f.ty,m=f.a,g=f.c,v=f.b,y=f.d,b=n,x=o;x<i;b+=2,x+=s){var _=u[b],w=u[b+1];a[x]=_*m+w*g+d,a[x+1]=_*v+w*y+p}return}for(var E=0,S=0,T=0;T<n;T+=2){var I=c[E];E+=I+1,S+=I}var R=h.bones;if(l.length==0)for(var x=o,g=S*3;x<i;x+=s){var A=0,C=0,I=c[E++];for(I+=E;E<I;E++,g+=3){var f=R[c[E]].matrix,_=u[g],w=u[g+1],O=u[g+2];A+=(_*f.a+w*f.c+f.tx)*O,C+=(_*f.b+w*f.d+f.ty)*O}a[x]=A,a[x+1]=C}else for(var N=l,x=o,g=S*3,L=S<<1;x<i;x+=s){var A=0,C=0,I=c[E++];for(I+=E;E<I;E++,g+=3,L+=2){var f=R[c[E]].matrix,_=u[g]+N[L],w=u[g+1]+N[L+1],O=u[g+2];A+=(_*f.a+w*f.c+f.tx)*O,C+=(_*f.b+w*f.d+f.ty)*O}a[x]=A,a[x+1]=C}},t.prototype.applyDeform=function(e){return this==e},t.nextID=0,t}($d),Zd=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.BoundingBox,n.color=new dt(1,1,1,1),n}return t}(_a),N_=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Clipping,n.color=new dt(.2275,.2275,.8078,1),n}return t}(_a),Kd=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Mesh,n.color=new dt(1,1,1,1),n.inheritDeform=!1,n.tempColor=new dt(0,0,0,0),n}return t.prototype.applyDeform=function(e){return this==e||this.inheritDeform&&this.parentMesh==e},t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(e){this.parentMesh=e,e!=null&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},t}(_a),Ws=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new dt(1,1,1,1),n}return t}(_a),D_=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Point,n.color=new dt(.38,.94,0,1),n}return t.prototype.computeWorldPosition=function(e,n){var i=e.matrix;return n.x=this.x*i.a+this.y*i.c+e.worldX,n.y=this.x*i.b+this.y*i.d+e.worldY,n},t.prototype.computeWorldRotation=function(e){var n=e.matrix,i=B.cosDeg(this.rotation),a=B.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*B.radDeg},t}(_a),Jd=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new dt(1,1,1,1),n.offset=Z.newFloatArray(8),n.uvs=Z.newFloatArray(8),n.tempColor=new dt(1,1,1,1),n}return t.prototype.updateOffset=function(){var e=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*e,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*e,s=a+this.region.height*n,h=this.rotation*Math.PI/180,l=Math.cos(h),u=Math.sin(h),c=i*l+this.x,f=i*u,d=a*l+this.y,p=a*u,m=o*l+this.x,g=o*u,v=s*l+this.y,y=s*u,b=this.offset;b[t.OX1]=c-p,b[t.OY1]=d+f,b[t.OX2]=c-y,b[t.OY2]=v+f,b[t.OX3]=m-y,b[t.OY3]=v+g,b[t.OX4]=m-p,b[t.OY4]=d+g},t.prototype.setRegion=function(e){this.region=e;var n=this.uvs;e.rotate?(n[2]=e.u,n[3]=e.v2,n[4]=e.u,n[5]=e.v,n[6]=e.u2,n[7]=e.v,n[0]=e.u2,n[1]=e.v2):(n[0]=e.u,n[1]=e.v2,n[2]=e.u,n[3]=e.v,n[4]=e.u2,n[5]=e.v,n[6]=e.u2,n[7]=e.v2)},t.prototype.computeWorldVertices=function(e,n,i,a){var o=this.offset,s=e.matrix,h=s.tx,l=s.ty,u=s.a,c=s.c,f=s.b,d=s.d,p=0,m=0;p=o[t.OX1],m=o[t.OY1],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l,i+=a,p=o[t.OX2],m=o[t.OY2],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l,i+=a,p=o[t.OX3],m=o[t.OY3],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l,i+=a,p=o[t.OX4],m=o[t.OY4],n[i]=p*u+m*c+h,n[i+1]=p*f+m*d+l},t.OX1=0,t.OY1=1,t.OX2=2,t.OY2=3,t.OX3=4,t.OY3=5,t.OX4=6,t.OY4=7,t.X1=0,t.Y1=1,t.C1R=2,t.C1G=3,t.C1B=4,t.C1A=5,t.U1=6,t.V1=7,t.X2=8,t.Y2=9,t.C2R=10,t.C2G=11,t.C2B=12,t.C2A=13,t.U2=14,t.V2=15,t.X3=16,t.Y3=17,t.C3R=18,t.C3G=19,t.C3B=20,t.C3A=21,t.U3=22,t.V3=23,t.X4=24,t.Y4=25,t.C4R=26,t.C4G=27,t.C4B=28,t.C4A=29,t.U4=30,t.V4=31,t}($d),WL=function(){function r(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return r.prototype.begin=function(t){},r.prototype.transform=function(t,e,n,i){t.x+=B.randomTriangular(-this.jitterX,this.jitterY),t.y+=B.randomTriangular(-this.jitterX,this.jitterY)},r.prototype.end=function(){},r}(),zL=function(){function r(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return r.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},r.prototype.transform=function(t,e,n,i){var a=this.angle*B.degreesToRadians,o=t.x-this.worldX,s=t.y-this.worldY,h=Math.sqrt(o*o+s*s);if(h<this.radius){var l=r.interpolation.apply(0,a,(this.radius-h)/this.radius),u=Math.cos(l),c=Math.sin(l);t.x=u*o-c*s+this.worldX,t.y=c*o+u*s+this.worldY}},r.prototype.end=function(){},r.interpolation=new b_(2),r}(),De=function(){function r(t,e,n){if(t==null)throw new Error("name cannot be null.");if(e==null)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}return r.prototype.apply=function(t,e,n,i,a,o,s,h){if(t==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,e>0&&(e%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(t,e,n,a,o,s,h)},r.binarySearch=function(t,e,n){n===void 0&&(n=1);var i=0,a=t.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(t[(o+1)*n]<=e?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},r.linearSearch=function(t,e,n){for(var i=0,a=t.length-n;i<=a;i+=n)if(t[i]>e)return i;return-1},r}(),Ue;(function(r){r[r.rotate=0]="rotate",r[r.translate=1]="translate",r[r.scale=2]="scale",r[r.shear=3]="shear",r[r.attachment=4]="attachment",r[r.color=5]="color",r[r.deform=6]="deform",r[r.event=7]="event",r[r.drawOrder=8]="drawOrder",r[r.ikConstraint=9]="ikConstraint",r[r.transformConstraint=10]="transformConstraint",r[r.pathConstraintPosition=11]="pathConstraintPosition",r[r.pathConstraintSpacing=12]="pathConstraintSpacing",r[r.pathConstraintMix=13]="pathConstraintMix",r[r.twoColor=14]="twoColor"})(Ue||(Ue={}));var _n=function(){function r(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=Z.newFloatArray((t-1)*r.BEZIER_SIZE)}return r.prototype.getFrameCount=function(){return this.curves.length/r.BEZIER_SIZE+1},r.prototype.setLinear=function(t){this.curves[t*r.BEZIER_SIZE]=r.LINEAR},r.prototype.setStepped=function(t){this.curves[t*r.BEZIER_SIZE]=r.STEPPED},r.prototype.getCurveType=function(t){var e=t*r.BEZIER_SIZE;if(e==this.curves.length)return r.LINEAR;var n=this.curves[e];return n==r.LINEAR?r.LINEAR:n==r.STEPPED?r.STEPPED:r.BEZIER},r.prototype.setCurve=function(t,e,n,i,a){var o=(-e*2+i)*.03,s=(-n*2+a)*.03,h=((e-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+h,c=s*2+l,f=e*.3+o+h*.16666667,d=n*.3+s+l*.16666667,p=t*r.BEZIER_SIZE,m=this.curves;m[p++]=r.BEZIER;for(var g=f,v=d,y=p+r.BEZIER_SIZE-1;p<y;p+=2)m[p]=g,m[p+1]=v,f+=u,d+=c,u+=h,c+=l,g+=f,v+=d},r.prototype.getCurvePercent=function(t,e){e=B.clamp(e,0,1);var n=this.curves,i=t*r.BEZIER_SIZE,a=n[i];if(a==r.LINEAR)return e;if(a==r.STEPPED)return 0;i++;for(var o=0,s=i,h=i+r.BEZIER_SIZE-1;i<h;i+=2)if(o=n[i],o>=e){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(e-l)/(o-l)}var c=n[i-1];return c+(1-c)*(e-o)/(1-o)},r.LINEAR=0,r.STEPPED=1,r.BEZIER=2,r.BEZIER_SIZE=10*2-1,r}(),Qr=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e<<1),n}return t.prototype.getPropertyId=function(){return(Ue.rotate<<24)+this.boneIndex},t.prototype.setFrame=function(e,n,i){e<<=1,this.frames[e]=n,this.frames[e+t.ROTATION]=i},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(i<l[0]){switch(s){case F.setup:u.rotation=u.data.rotation;return;case F.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-(16384-(16384.499999999996-c/360|0))*360)*o}return}if(i>=l[l.length-t.ENTRIES]){var f=l[l.length+t.PREV_ROTATION];switch(s){case F.setup:u.rotation=u.data.rotation+f*o;break;case F.first:case F.replace:f+=u.data.rotation-u.rotation,f-=(16384-(16384.499999999996-f/360|0))*360;case F.add:u.rotation+=f*o}return}var d=De.binarySearch(l,i,t.ENTRIES),p=l[d+t.PREV_ROTATION],m=l[d],g=this.getCurvePercent((d>>1)-1,1-(i-m)/(l[d+t.PREV_TIME]-m)),v=l[d+t.ROTATION]-p;switch(v=p+(v-(16384-(16384.499999999996-v/360|0))*360)*g,s){case F.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case F.first:case F.replace:v+=u.data.rotation-u.rotation;case F.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}},t.ENTRIES=2,t.PREV_TIME=-2,t.PREV_ROTATION=-1,t.ROTATION=1,t}(_n),zs=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(Ue.translate<<24)+this.boneIndex},t.prototype.setFrame=function(e,n,i,a){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.X]=i,this.frames[e+t.Y]=a},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(i<l[0]){switch(s){case F.setup:u.x=u.data.x,u.y=u.data.y;return;case F.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_X],f=l[l.length+t.PREV_Y];else{var d=De.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_X],f=l[d+t.PREV_Y];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c+=(l[d+t.X]-c)*m,f+=(l[d+t.Y]-f)*m}switch(s){case F.setup:u.x=u.data.x+c*o,u.y=u.data.y+f*o;break;case F.first:case F.replace:u.x+=(u.data.x+c-u.x)*o,u.y+=(u.data.y+f-u.y)*o;break;case F.add:u.x+=c*o,u.y+=f*o}},t.ENTRIES=3,t.PREV_TIME=-3,t.PREV_X=-2,t.PREV_Y=-1,t.X=1,t.Y=2,t}(_n),L_=function(r){Ce(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getPropertyId=function(){return(Ue.scale<<24)+this.boneIndex},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(i<l[0]){switch(s){case F.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case F.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_X]*u.data.scaleX,f=l[l.length+t.PREV_Y]*u.data.scaleY;else{var d=De.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_X],f=l[d+t.PREV_Y];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c=(c+(l[d+t.X]-c)*m)*u.data.scaleX,f=(f+(l[d+t.Y]-f)*m)*u.data.scaleY}if(o==1)s==F.add?(u.scaleX+=c-u.data.scaleX,u.scaleY+=f-u.data.scaleY):(u.scaleX=c,u.scaleY=f);else{var g=0,v=0;if(h==Dt.mixOut)switch(s){case F.setup:g=u.data.scaleX,v=u.data.scaleY,u.scaleX=g+(Math.abs(c)*B.signum(g)-g)*o,u.scaleY=v+(Math.abs(f)*B.signum(v)-v)*o;break;case F.first:case F.replace:g=u.scaleX,v=u.scaleY,u.scaleX=g+(Math.abs(c)*B.signum(g)-g)*o,u.scaleY=v+(Math.abs(f)*B.signum(v)-v)*o;break;case F.add:g=u.scaleX,v=u.scaleY,u.scaleX=g+(Math.abs(c)*B.signum(g)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(f)*B.signum(v)-u.data.scaleY)*o}else switch(s){case F.setup:g=Math.abs(u.data.scaleX)*B.signum(c),v=Math.abs(u.data.scaleY)*B.signum(f),u.scaleX=g+(c-g)*o,u.scaleY=v+(f-v)*o;break;case F.first:case F.replace:g=Math.abs(u.scaleX)*B.signum(c),v=Math.abs(u.scaleY)*B.signum(f),u.scaleX=g+(c-g)*o,u.scaleY=v+(f-v)*o;break;case F.add:g=B.signum(c),v=B.signum(f),u.scaleX=Math.abs(u.scaleX)*g+(c-Math.abs(u.data.scaleX)*g)*o,u.scaleY=Math.abs(u.scaleY)*v+(f-Math.abs(u.data.scaleY)*v)*o}}},t}(zs),B_=function(r){Ce(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getPropertyId=function(){return(Ue.shear<<24)+this.boneIndex},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.bones[this.boneIndex];if(i<l[0]){switch(s){case F.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case F.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_X],f=l[l.length+t.PREV_Y];else{var d=De.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_X],f=l[d+t.PREV_Y];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c=c+(l[d+t.X]-c)*m,f=f+(l[d+t.Y]-f)*m}switch(s){case F.setup:u.shearX=u.data.shearX+c*o,u.shearY=u.data.shearY+f*o;break;case F.first:case F.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o,u.shearY+=(u.data.shearY+f-u.shearY)*o;break;case F.add:u.shearX+=c*o,u.shearY+=f*o}},t}(zs),Qd=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(Ue.color<<24)+this.slotIndex},t.prototype.setFrame=function(e,n,i,a,o,s){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.R]=i,this.frames[e+t.G]=a,this.frames[e+t.B]=o,this.frames[e+t.A]=s},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case F.setup:l.color.setFromColor(l.data.color);return;case F.first:var c=l.color,f=l.data.color;c.add((f.r-c.r)*o,(f.g-c.g)*o,(f.b-c.b)*o,(f.a-c.a)*o)}return}var d=0,p=0,m=0,g=0;if(i>=u[u.length-t.ENTRIES]){var v=u.length;d=u[v+t.PREV_R],p=u[v+t.PREV_G],m=u[v+t.PREV_B],g=u[v+t.PREV_A]}else{var y=De.binarySearch(u,i,t.ENTRIES);d=u[y+t.PREV_R],p=u[y+t.PREV_G],m=u[y+t.PREV_B],g=u[y+t.PREV_A];var b=u[y],x=this.getCurvePercent(y/t.ENTRIES-1,1-(i-b)/(u[y+t.PREV_TIME]-b));d+=(u[y+t.R]-d)*x,p+=(u[y+t.G]-p)*x,m+=(u[y+t.B]-m)*x,g+=(u[y+t.A]-g)*x}if(o==1)l.color.set(d,p,m,g);else{var c=l.color;s==F.setup&&c.setFromColor(l.data.color),c.add((d-c.r)*o,(p-c.g)*o,(m-c.b)*o,(g-c.a)*o)}},t.ENTRIES=5,t.PREV_TIME=-5,t.PREV_R=-4,t.PREV_G=-3,t.PREV_B=-2,t.PREV_A=-1,t.R=1,t.G=2,t.B=3,t.A=4,t}(_n),tp=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(Ue.twoColor<<24)+this.slotIndex},t.prototype.setFrame=function(e,n,i,a,o,s,h,l,u){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.R]=i,this.frames[e+t.G]=a,this.frames[e+t.B]=o,this.frames[e+t.A]=s,this.frames[e+t.R2]=h,this.frames[e+t.G2]=l,this.frames[e+t.B2]=u},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case F.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case F.first:var c=l.color,f=l.darkColor,d=l.data.color,p=l.data.darkColor;c.add((d.r-c.r)*o,(d.g-c.g)*o,(d.b-c.b)*o,(d.a-c.a)*o),f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,0)}return}var m=0,g=0,v=0,y=0,b=0,x=0,_=0;if(i>=u[u.length-t.ENTRIES]){var w=u.length;m=u[w+t.PREV_R],g=u[w+t.PREV_G],v=u[w+t.PREV_B],y=u[w+t.PREV_A],b=u[w+t.PREV_R2],x=u[w+t.PREV_G2],_=u[w+t.PREV_B2]}else{var E=De.binarySearch(u,i,t.ENTRIES);m=u[E+t.PREV_R],g=u[E+t.PREV_G],v=u[E+t.PREV_B],y=u[E+t.PREV_A],b=u[E+t.PREV_R2],x=u[E+t.PREV_G2],_=u[E+t.PREV_B2];var S=u[E],T=this.getCurvePercent(E/t.ENTRIES-1,1-(i-S)/(u[E+t.PREV_TIME]-S));m+=(u[E+t.R]-m)*T,g+=(u[E+t.G]-g)*T,v+=(u[E+t.B]-v)*T,y+=(u[E+t.A]-y)*T,b+=(u[E+t.R2]-b)*T,x+=(u[E+t.G2]-x)*T,_+=(u[E+t.B2]-_)*T}if(o==1)l.color.set(m,g,v,y),l.darkColor.set(b,x,_,1);else{var c=l.color,f=l.darkColor;s==F.setup&&(c.setFromColor(l.data.color),f.setFromColor(l.data.darkColor)),c.add((m-c.r)*o,(g-c.g)*o,(v-c.b)*o,(y-c.a)*o),f.add((b-f.r)*o,(x-f.g)*o,(_-f.b)*o,0)}},t.ENTRIES=8,t.PREV_TIME=-8,t.PREV_R=-7,t.PREV_G=-6,t.PREV_B=-5,t.PREV_A=-4,t.PREV_R2=-3,t.PREV_G2=-2,t.PREV_B2=-1,t.R=1,t.G=2,t.B=3,t.A=4,t.R2=5,t.G2=6,t.B2=7,t}(_n),$u=function(){function r(t){this.frames=Z.newFloatArray(t),this.attachmentNames=new Array(t)}return r.prototype.getPropertyId=function(){return(Ue.attachment<<24)+this.slotIndex},r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},r.prototype.apply=function(t,e,n,i,a,o,s){var h=t.slots[this.slotIndex];if(s==Dt.mixOut&&o==F.setup){var l=h.data.attachmentName;h.setAttachment(l==null?null:t.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==F.setup||o==F.first){var c=h.data.attachmentName;h.setAttachment(c==null?null:t.getAttachment(this.slotIndex,c))}return}var f=0;n>=u[u.length-1]?f=u.length-1:f=De.binarySearch(u,n,1)-1;var d=this.attachmentNames[f];t.slots[this.slotIndex].setAttachment(d==null?null:t.getAttachment(this.slotIndex,d))},r}(),V_=null,X_=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e),n.frameVertices=new Array(e),V_==null&&(V_=Z.newFloatArray(64)),n}return t.prototype.getPropertyId=function(){return(Ue.deform<<27)+ +this.attachment.id+this.slotIndex},t.prototype.setFrame=function(e,n,i){this.frames[e]=n,this.frameVertices[e]=i},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof _a)||!u.applyDeform(this.attachment))){var c=l.attachmentVertices;c.length==0&&(s=F.setup);var f=this.frameVertices,d=f[0].length,p=this.frames;if(i<p[0]){var m=u;switch(s){case F.setup:c.length=0;return;case F.first:if(o==1){c.length=0;break}var g=Z.setArraySize(c,d);if(m.bones==null)for(var v=m.vertices,y=0;y<d;y++)g[y]+=(v[y]-g[y])*o;else{o=1-o;for(var y=0;y<d;y++)g[y]*=o}}return}var b=Z.setArraySize(c,d);if(i>=p[p.length-1]){var x=f[p.length-1];if(o==1)if(s==F.add){var m=u;if(m.bones==null)for(var v=m.vertices,y=0;y<d;y++)b[y]+=x[y]-v[y];else for(var y=0;y<d;y++)b[y]+=x[y]}else Z.arrayCopy(x,0,b,0,d);else switch(s){case F.setup:{var _=u;if(_.bones==null)for(var v=_.vertices,y=0;y<d;y++){var w=v[y];b[y]=w+(x[y]-w)*o}else for(var y=0;y<d;y++)b[y]=x[y]*o;break}case F.first:case F.replace:for(var y=0;y<d;y++)b[y]+=(x[y]-b[y])*o;case F.add:var m=u;if(m.bones==null)for(var v=m.vertices,y=0;y<d;y++)b[y]+=(x[y]-v[y])*o;else for(var y=0;y<d;y++)b[y]+=x[y]*o}return}var E=De.binarySearch(p,i),S=f[E-1],T=f[E],I=p[E],R=this.getCurvePercent(E-1,1-(i-I)/(p[E-1]-I));if(o==1)if(s==F.add){var m=u;if(m.bones==null)for(var v=m.vertices,y=0;y<d;y++){var A=S[y];b[y]+=A+(T[y]-A)*R-v[y]}else for(var y=0;y<d;y++){var A=S[y];b[y]+=A+(T[y]-A)*R}}else for(var y=0;y<d;y++){var A=S[y];b[y]=A+(T[y]-A)*R}else switch(s){case F.setup:{var C=u;if(C.bones==null)for(var v=C.vertices,y=0;y<d;y++){var A=S[y],w=v[y];b[y]=w+(A+(T[y]-A)*R-w)*o}else for(var y=0;y<d;y++){var A=S[y];b[y]=(A+(T[y]-A)*R)*o}break}case F.first:case F.replace:for(var y=0;y<d;y++){var A=S[y];b[y]+=(A+(T[y]-A)*R-b[y])*o}break;case F.add:var m=u;if(m.bones==null)for(var v=m.vertices,y=0;y<d;y++){var A=S[y];b[y]+=(A+(T[y]-A)*R-v[y])*o}else for(var y=0;y<d;y++){var A=S[y];b[y]+=(A+(T[y]-A)*R)*o}}}},t}(_n),Y_=function(){function r(t){this.frames=Z.newFloatArray(t),this.events=new Array(t)}return r.prototype.getPropertyId=function(){return Ue.event<<24},r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},r.prototype.apply=function(t,e,n,i,a,o,s){if(i!=null){var h=this.frames,l=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,i,a,o,s),e=-1;else if(e>=h[l-1])return;if(!(n<h[0])){var u=0;if(e<h[0])u=0;else{u=De.binarySearch(h,e);for(var c=h[u];u>0&&h[u-1]==c;)u--}for(;u<l&&n>=h[u];u++)i.push(this.events[u])}}},r}(),Zu=function(){function r(t){this.frames=Z.newFloatArray(t),this.drawOrders=new Array(t)}return r.prototype.getPropertyId=function(){return Ue.drawOrder<<24},r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},r.prototype.apply=function(t,e,n,i,a,o,s){var h=t.drawOrder,l=t.slots;if(s==Dt.mixOut&&o==F.setup){Z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}var u=this.frames;if(n<u[0]){(o==F.setup||o==F.first)&&Z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}var c=0;n>=u[u.length-1]?c=u.length-1:c=De.binarySearch(u,n)-1;var f=this.drawOrders[c];if(f==null)Z.arrayCopy(l,0,h,0,l.length);else for(var d=0,p=f.length;d<p;d++)h[d]=l[f[d]]},r}(),ep=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(Ue.ikConstraint<<24)+this.ikConstraintIndex},t.prototype.setFrame=function(e,n,i,a,o,s){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.MIX]=i,this.frames[e+t.BEND_DIRECTION]=a,this.frames[e+t.COMPRESS]=o?1:0,this.frames[e+t.STRETCH]=s?1:0},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case F.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case F.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-t.ENTRIES]){s==F.setup?(u.mix=u.data.mix+(l[l.length+t.PREV_MIX]-u.data.mix)*o,h==Dt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+t.PREV_BEND_DIRECTION],u.compress=l[l.length+t.PREV_COMPRESS]!=0,u.stretch=l[l.length+t.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+t.PREV_MIX]-u.mix)*o,h==Dt.mixIn&&(u.bendDirection=l[l.length+t.PREV_BEND_DIRECTION],u.compress=l[l.length+t.PREV_COMPRESS]!=0,u.stretch=l[l.length+t.PREV_STRETCH]!=0));return}var c=De.binarySearch(l,i,t.ENTRIES),f=l[c+t.PREV_MIX],d=l[c],p=this.getCurvePercent(c/t.ENTRIES-1,1-(i-d)/(l[c+t.PREV_TIME]-d));s==F.setup?(u.mix=u.data.mix+(f+(l[c+t.MIX]-f)*p-u.data.mix)*o,h==Dt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[c+t.PREV_BEND_DIRECTION],u.compress=l[c+t.PREV_COMPRESS]!=0,u.stretch=l[c+t.PREV_STRETCH]!=0)):(u.mix+=(f+(l[c+t.MIX]-f)*p-u.mix)*o,h==Dt.mixIn&&(u.bendDirection=l[c+t.PREV_BEND_DIRECTION],u.compress=l[c+t.PREV_COMPRESS]!=0,u.stretch=l[c+t.PREV_STRETCH]!=0))},t.ENTRIES=5,t.PREV_TIME=-5,t.PREV_MIX=-4,t.PREV_BEND_DIRECTION=-3,t.PREV_COMPRESS=-2,t.PREV_STRETCH=-1,t.MIX=1,t.BEND_DIRECTION=2,t.COMPRESS=3,t.STRETCH=4,t}(_n),rp=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(Ue.transformConstraint<<24)+this.transformConstraintIndex},t.prototype.setFrame=function(e,n,i,a,o,s){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.ROTATE]=i,this.frames[e+t.TRANSLATE]=a,this.frames[e+t.SCALE]=o,this.frames[e+t.SHEAR]=s},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var c=u.data;switch(s){case F.setup:u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,u.shearMix=c.shearMix;return;case F.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*o,u.translateMix+=(c.translateMix-u.translateMix)*o,u.scaleMix+=(c.scaleMix-u.scaleMix)*o,u.shearMix+=(c.shearMix-u.shearMix)*o}return}var f=0,d=0,p=0,m=0;if(i>=l[l.length-t.ENTRIES]){var g=l.length;f=l[g+t.PREV_ROTATE],d=l[g+t.PREV_TRANSLATE],p=l[g+t.PREV_SCALE],m=l[g+t.PREV_SHEAR]}else{var v=De.binarySearch(l,i,t.ENTRIES);f=l[v+t.PREV_ROTATE],d=l[v+t.PREV_TRANSLATE],p=l[v+t.PREV_SCALE],m=l[v+t.PREV_SHEAR];var y=l[v],b=this.getCurvePercent(v/t.ENTRIES-1,1-(i-y)/(l[v+t.PREV_TIME]-y));f+=(l[v+t.ROTATE]-f)*b,d+=(l[v+t.TRANSLATE]-d)*b,p+=(l[v+t.SCALE]-p)*b,m+=(l[v+t.SHEAR]-m)*b}if(s==F.setup){var c=u.data;u.rotateMix=c.rotateMix+(f-c.rotateMix)*o,u.translateMix=c.translateMix+(d-c.translateMix)*o,u.scaleMix=c.scaleMix+(p-c.scaleMix)*o,u.shearMix=c.shearMix+(m-c.shearMix)*o}else u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(m-u.shearMix)*o},t.ENTRIES=5,t.PREV_TIME=-5,t.PREV_ROTATE=-4,t.PREV_TRANSLATE=-3,t.PREV_SCALE=-2,t.PREV_SHEAR=-1,t.ROTATE=1,t.TRANSLATE=2,t.SCALE=3,t.SHEAR=4,t}(_n),Ku=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(Ue.pathConstraintPosition<<24)+this.pathConstraintIndex},t.prototype.setFrame=function(e,n,i){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.VALUE]=i},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case F.setup:u.position=u.data.position;return;case F.first:u.position+=(u.data.position-u.position)*o}return}var c=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_VALUE];else{var f=De.binarySearch(l,i,t.ENTRIES);c=l[f+t.PREV_VALUE];var d=l[f],p=this.getCurvePercent(f/t.ENTRIES-1,1-(i-d)/(l[f+t.PREV_TIME]-d));c+=(l[f+t.VALUE]-c)*p}s==F.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o},t.ENTRIES=2,t.PREV_TIME=-2,t.PREV_VALUE=-1,t.VALUE=1,t}(_n),j_=function(r){Ce(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getPropertyId=function(){return(Ue.pathConstraintSpacing<<24)+this.pathConstraintIndex},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case F.setup:u.spacing=u.data.spacing;return;case F.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var c=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_VALUE];else{var f=De.binarySearch(l,i,t.ENTRIES);c=l[f+t.PREV_VALUE];var d=l[f],p=this.getCurvePercent(f/t.ENTRIES-1,1-(i-d)/(l[f+t.PREV_TIME]-d));c+=(l[f+t.VALUE]-c)*p}s==F.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o},t}(Ku),np=function(r){Ce(t,r);function t(e){var n=r.call(this,e)||this;return n.frames=Z.newFloatArray(e*t.ENTRIES),n}return t.prototype.getPropertyId=function(){return(Ue.pathConstraintMix<<24)+this.pathConstraintIndex},t.prototype.setFrame=function(e,n,i,a){e*=t.ENTRIES,this.frames[e]=n,this.frames[e+t.ROTATE]=i,this.frames[e+t.TRANSLATE]=a},t.prototype.apply=function(e,n,i,a,o,s,h){var l=this.frames,u=e.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case F.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case F.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var c=0,f=0;if(i>=l[l.length-t.ENTRIES])c=l[l.length+t.PREV_ROTATE],f=l[l.length+t.PREV_TRANSLATE];else{var d=De.binarySearch(l,i,t.ENTRIES);c=l[d+t.PREV_ROTATE],f=l[d+t.PREV_TRANSLATE];var p=l[d],m=this.getCurvePercent(d/t.ENTRIES-1,1-(i-p)/(l[d+t.PREV_TIME]-p));c+=(l[d+t.ROTATE]-c)*m,f+=(l[d+t.TRANSLATE]-f)*m}s==F.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(f-u.data.translateMix)*o):(u.rotateMix+=(c-u.rotateMix)*o,u.translateMix+=(f-u.translateMix)*o)},t.ENTRIES=3,t.PREV_TIME=-3,t.PREV_ROTATE=-2,t.PREV_TRANSLATE=-1,t.ROTATE=1,t.TRANSLATE=2,t}(_n),U_=function(){function r(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new z_(this),this.propertyIDs=new g_,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new xo(function(){return new W_}),this.data=t}return r.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var a=e[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=t*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var h=a.trackLast-s.delay;if(h>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(h/a.timeScale+t)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){e[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,t)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},r.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?((n.totalAlpha==0||t.mixDuration==0)&&(t.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},r.prototype.apply=function(t){if(t==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var h=a==0?F.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,t,h):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),f=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||h==F.add)for(var p=0;p<f;p++)Z.webkit602BugfixHelper(l,h),d[p].apply(t,u,c,e,l,h,Dt.mixIn);else{var m=s.timelineMode,g=s.timelinesRotation.length==0;g&&Z.setArraySize(s.timelinesRotation,f<<1,null);for(var v=s.timelinesRotation,p=0;p<f;p++){var y=d[p],b=m[p]==r.SUBSEQUENT?h:F.setup;y instanceof Qr?this.applyRotateTimeline(y,t,c,l,b,v,p<<1,g):(Z.webkit602BugfixHelper(l,h),y.apply(t,u,c,e,l,b,Dt.mixIn))}}this.queueEvents(s,c),e.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},r.prototype.applyMixingFrom=function(t,e,n){var i=t.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,e,n);var a=0;t.mixDuration==0?(a=1,n==F.first&&(n=F.setup)):(a=t.mixTime/t.mixDuration,a>1&&(a=1),n!=F.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,h=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),c=i.animation.timelines.length,f=i.animation.timelines,d=i.alpha*t.interruptAlpha,p=d*(1-a);if(n==F.add)for(var m=0;m<c;m++)f[m].apply(e,l,u,o,p,n,Dt.mixOut);else{var g=i.timelineMode,v=i.timelineHoldMix,y=i.timelinesRotation.length==0;y&&Z.setArraySize(i.timelinesRotation,c<<1,null);var b=i.timelinesRotation;i.totalAlpha=0;for(var m=0;m<c;m++){var x=f[m],_=Dt.mixOut,w=void 0,E=0;switch(g[m]){case r.SUBSEQUENT:if(!s&&x instanceof $u||!h&&x instanceof Zu)continue;w=n,E=p;break;case r.FIRST:w=F.setup,E=p;break;case r.HOLD:w=F.setup,E=d;break;default:w=F.setup;var S=v[m];E=d*Math.max(0,1-S.mixTime/S.mixDuration);break}i.totalAlpha+=E,x instanceof Qr?this.applyRotateTimeline(x,e,u,E,w,b,m<<1,y):(Z.webkit602BugfixHelper(E,n),w==F.setup&&(x instanceof $u?s&&(_=Dt.mixOut):x instanceof Zu&&h&&(_=Dt.mixOut)),x.apply(e,l,u,o,E,w,_))}}return t.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},r.prototype.applyRotateTimeline=function(t,e,n,i,a,o,s,h){if(h&&(o[s]=0),i==1){t.apply(e,0,n,null,1,a,Dt.mixIn);return}var l=t,u=l.frames,c=e.bones[l.boneIndex],f=0,d=0;if(n<u[0])switch(a){case F.setup:c.rotation=c.data.rotation;default:return;case F.first:f=c.rotation,d=c.data.rotation}else if(f=a==F.setup?c.data.rotation:c.rotation,n>=u[u.length-Qr.ENTRIES])d=c.data.rotation+u[u.length+Qr.PREV_ROTATION];else{var p=De.binarySearch(u,n,Qr.ENTRIES),m=u[p+Qr.PREV_ROTATION],g=u[p],v=l.getCurvePercent((p>>1)-1,1-(n-g)/(u[p+Qr.PREV_TIME]-g));d=u[p+Qr.ROTATION]-m,d-=(16384-(16384.499999999996-d/360|0))*360,d=m+d*v+c.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var y=0,b=d-f;if(b-=(16384-(16384.499999999996-b/360|0))*360,b==0)y=o[s];else{var x=0,_=0;h?(x=0,_=b):(x=o[s],_=o[s+1]);var w=b>0,E=x>=0;B.signum(_)!=B.signum(b)&&Math.abs(_)<=90&&(Math.abs(x)>180&&(x+=360*B.signum(x)),E=w),y=b+x-x%360,E!=w&&(y+=360*B.signum(x)),o[s]=y}o[s+1]=b,f+=y*i,c.rotation=f-(16384-(16384.499999999996-f/360|0))*360},r.prototype.queueEvents=function(t,e){for(var n=t.animationStart,i=t.animationEnd,a=i-n,o=t.trackLast%a,s=this.events,h=0,l=s.length;h<l;h++){var u=s[h];if(u.time<o)break;u.time>i||this.queue.event(t,u)}var c=!1;for(t.loop?c=a==0||o>t.trackTime%a:c=e>=i&&t.animationLast<i,c&&this.queue.complete(t);h<l;h++){var f=s[h];f.time<n||this.queue.event(t,s[h])}},r.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},r.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e!=null){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[e.trackIndex]=null,this.queue.drain()}}},r.prototype.setCurrent=function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,i!=null&&(n&&this.queue.interrupt(i),e.mixingFrom=i,i.mixingTo=e,e.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)},r.prototype.setAnimation=function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)},r.prototype.setAnimationWith=function(t,e,n){if(e==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(t);a!=null&&(a.nextTrackLast==-1?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(t,e,n,a);return this.setCurrent(t,o,i),this.queue.drain(),o},r.prototype.addAnimation=function(t,e,n,i){var a=this.data.skeletonData.findAnimation(e);if(a==null)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,i)},r.prototype.addAnimationWith=function(t,e,n,i){if(e==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(t,e,n,a);if(a==null)this.setCurrent(t,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,e)):i=a.trackTime}return o.delay=i,o},r.prototype.setEmptyAnimation=function(t,e){var n=this.setAnimationWith(t,r.emptyAnimation,!1);return n.mixDuration=e,n.trackEnd=e,n},r.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);var i=this.addAnimationWith(t,r.emptyAnimation,!1,n);return i.mixDuration=e,i.trackEnd=e,i},r.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},r.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(Z.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},r.prototype.trackEntry=function(t,e,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,e),a},r.prototype.disposeNext=function(t){for(var e=t.next;e!=null;)this.queue.dispose(e),e=e.next;t.next=null},r.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=F.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},r.prototype.setTimelineModes=function(t){var e=t.mixingTo,n=t.animation.timelines,i=t.animation.timelines.length,a=Z.setArraySize(t.timelineMode,i);t.timelineHoldMix.length=0;var o=Z.setArraySize(t.timelineHoldMix,i),s=this.propertyIDs;if(e!=null&&e.holdPrevious){for(var h=0;h<i;h++)s.add(n[h].getPropertyId()),a[h]=r.HOLD;return}t:for(var h=0;h<i;h++){var l=n[h].getPropertyId();if(!s.add(l))a[h]=r.SUBSEQUENT;else if(e==null||!this.hasTimeline(e,l))a[h]=r.FIRST;else{for(var u=e.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(t.mixDuration>0){a[h]=r.HOLD_MIX,o[h]=u;continue t}break}a[h]=r.HOLD}}},r.prototype.hasTimeline=function(t,e){for(var n=t.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==e)return!0;return!1},r.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},r.prototype.addListener=function(t){if(t==null)throw new Error("listener cannot be null.");this.listeners.push(t)},r.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},r.prototype.clearListeners=function(){this.listeners.length=0},r.prototype.clearListenerNotifications=function(){this.queue.clear()},r.prototype.setAnimationByName=function(t,e,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,n)},r.prototype.addAnimationByName=function(t,e,n,i){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,n,i)},r.prototype.hasAnimation=function(t){var e=this.data.skeletonData.findAnimation(t);return e!==null},r.prototype.hasAnimationByName=function(t){return r.deprecatedWarning3||(r.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},r.emptyAnimation=new De("<empty>",[],0),r.SUBSEQUENT=0,r.FIRST=1,r.HOLD=2,r.HOLD_MIX=3,r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r.deprecatedWarning3=!1,r}(),W_=function(){function r(){this.mixBlend=F.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return r.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},r.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return t==0?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(r.prototype,"time",{get:function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endTime",{get:function(){return r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),r.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r}(),z_=function(){function r(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return r.prototype.start=function(t){this.objects.push(or.start),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.interrupt=function(t){this.objects.push(or.interrupt),this.objects.push(t)},r.prototype.end=function(t){this.objects.push(or.end),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.dispose=function(t){this.objects.push(or.dispose),this.objects.push(t)},r.prototype.complete=function(t){this.objects.push(or.complete),this.objects.push(t)},r.prototype.event=function(t,e){this.objects.push(or.event),this.objects.push(t),this.objects.push(e)},r.prototype.deprecateStuff=function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},r.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],a=t[n+1];switch(i){case or.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case or.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(a);break;case or.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<e.length;o++)e[o].end&&e[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case or.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(a);this.animState.trackEntryPool.free(a);break;case or.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<e.length;o++)e[o].complete&&e[o].complete(a);var s=B.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case or.event:var h=t[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,h);for(var o=0;o<e.length;o++)e[o].event&&e[o].event(a,h);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,h);break}}this.clear(),this.drainDisabled=!1}},r.prototype.clear=function(){this.objects.length=0},r.deprecatedWarning1=!1,r}(),or;(function(r){r[r.start=0]="start",r[r.interrupt=1]="interrupt",r[r.end=2]="end",r[r.dispose=3]="dispose",r[r.complete=4]="complete",r[r.event=5]="event"})(or||(or={}));var HL=function(){function r(){}return r.prototype.start=function(t){},r.prototype.interrupt=function(t){},r.prototype.end=function(t){},r.prototype.dispose=function(t){},r.prototype.complete=function(t){},r.prototype.event=function(t,e){},r}(),H_=function(){function r(t){if(this.animationToMixTime={},this.defaultMix=0,t==null)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return r.prototype.setMix=function(t,e,n){var i=this.skeletonData.findAnimation(t);if(i==null)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(a==null)throw new Error("Animation not found: "+e);this.setMixWith(i,a,n)},r.prototype.setMixByName=function(t,e,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,n)},r.prototype.setMixWith=function(t,e,n){if(t==null)throw new Error("from cannot be null.");if(e==null)throw new Error("to cannot be null.");var i=t.name+"."+e.name;this.animationToMixTime[i]=n},r.prototype.getMix=function(t,e){var n=t.name+"."+e.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},r.deprecatedWarning1=!1,r}(),q_=function(){function r(t){this.atlas=t}return r.prototype.newRegionAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var a=new Jd(e);return a.region=i,a},r.prototype.newMeshAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var a=new Kd(e);return a.region=i,a},r.prototype.newBoundingBoxAttachment=function(t,e){return new Zd(e)},r.prototype.newPathAttachment=function(t,e){return new Ws(e)},r.prototype.newPointAttachment=function(t,e){return new D_(e)},r.prototype.newClippingAttachment=function(t,e){return new N_(e)},r}(),ip=function(){function r(t,e,n){if(this.matrix=new ge,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return Object.defineProperty(r.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),r.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransformWith=function(t,e,n,i,a,o,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var h=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(h==null){var f=this.skeleton,d=n+90+s;l.a=B.cosDeg(n+o)*i*u,l.c=B.cosDeg(d)*a*u,l.b=B.sinDeg(n+o)*i*c,l.d=B.sinDeg(d)*a*c,l.tx=t*u+f.x,l.ty=e*c+f.y;return}var p=h.matrix.a,m=h.matrix.c,g=h.matrix.b,v=h.matrix.d;switch(l.tx=p*t+m*e+h.matrix.tx,l.ty=g*t+v*e+h.matrix.ty,this.data.transformMode){case Mt.Normal:{var d=n+90+s,y=B.cosDeg(n+o)*i,b=B.cosDeg(d)*a,x=B.sinDeg(n+o)*i,_=B.sinDeg(d)*a;l.a=p*y+m*x,l.c=p*b+m*_,l.b=g*y+v*x,l.d=g*b+v*_;return}case Mt.OnlyTranslation:{var d=n+90+s;l.a=B.cosDeg(n+o)*i,l.c=B.cosDeg(d)*a,l.b=B.sinDeg(n+o)*i,l.d=B.sinDeg(d)*a;break}case Mt.NoRotationOrReflection:{var w=p*p+g*g,E=0;w>1e-4?(w=Math.abs(p*v-m*g)/w,m=g*w,v=p*w,E=Math.atan2(g,p)*B.radDeg):(p=0,g=0,E=90-Math.atan2(v,m)*B.radDeg);var S=n+o-E,T=n+s-E+90,y=B.cosDeg(S)*i,b=B.cosDeg(T)*a,x=B.sinDeg(S)*i,_=B.sinDeg(T)*a;l.a=p*y-m*x,l.c=p*b-m*_,l.b=g*y+v*x,l.d=g*b+v*_;break}case Mt.NoScale:case Mt.NoScaleOrReflection:{var I=B.cosDeg(n),R=B.sinDeg(n),A=(p*I+m*R)/u,C=(g*I+v*R)/c,w=Math.sqrt(A*A+C*C);w>1e-5&&(w=1/w),A*=w,C*=w,w=Math.sqrt(A*A+C*C),this.data.transformMode==Mt.NoScale&&p*v-m*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(w=-w);var O=Math.PI/2+Math.atan2(C,A),N=Math.cos(O)*w,L=Math.sin(O)*w,y=B.cosDeg(o)*i,b=B.cosDeg(90+s)*a,x=B.sinDeg(o)*i,_=B.sinDeg(90+s)*a;l.a=A*y+N*x,l.c=A*b+N*_,l.b=C*y+L*x,l.d=C*b+L*_;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},r.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},r.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*B.radDeg},r.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*B.radDeg},r.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},r.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},r.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(t==null){this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*B.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*B.radDeg;return}var n=t.matrix,i=1/(n.a*n.d-n.b*n.c),a=e.tx-n.tx,o=e.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,h=i*n.a,l=i*n.c,u=i*n.b,c=s*e.a-l*e.b,f=s*e.c-l*e.d,d=h*e.b-u*e.a,p=h*e.d-u*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+d*d),this.ascaleX>1e-4){var m=c*p-f*d;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*f+d*p,m)*B.radDeg,this.arotation=Math.atan2(d,c)*B.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,f)*B.radDeg},r.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,i=e.c,a=e.b,o=e.d,s=1/(n*o-i*a),h=t.x-e.tx,l=t.y-e.ty;return t.x=h*o*s-l*i*s,t.y=l*n*s-h*a*s,t},r.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,i=t.y;return t.x=n*e.a+i*e.c+e.tx,t.y=n*e.b+i*e.d+e.ty,t},r.prototype.worldToLocalRotation=function(t){var e=B.sinDeg(t),n=B.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*n,i.d*n-i.c*e)*B.radDeg},r.prototype.localToWorldRotation=function(t){var e=B.sinDeg(t),n=B.cosDeg(t),i=this.matrix;return Math.atan2(n*i.b+e*i.d,n*i.a+e*i.c)*B.radDeg},r.prototype.rotateWorld=function(t){var e=this.matrix,n=e.a,i=e.c,a=e.b,o=e.d,s=B.cosDeg(t),h=B.sinDeg(t);e.a=s*n-h*a,e.c=s*i-h*o,e.b=h*n+s*a,e.d=h*i+s*o,this.appliedValid=!1},r}(),G_=function(){function r(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Mt.Normal,t<0)throw new Error("index must be >= 0.");if(e==null)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}return r}(),$_=function(){function r(t,e){if(e==null)throw new Error("data cannot be null.");this.time=t,this.data=e}return r}(),Z_=function(){function r(t){this.name=t}return r}(),K_=function(){function r(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return r.prototype.getOrder=function(){return this.data.order},r.prototype.apply=function(){this.update()},r.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix);break}},r.prototype.apply1=function(t,e,n,i,a,o,s){t.appliedValid||t.updateAppliedTransform();var h=t.parent.matrix,l=1/(h.a*h.d-h.b*h.c),u=e-h.tx,c=n-h.ty,f=(u*h.d-c*h.c)*l-t.ax,d=(c*h.a-u*h.b)*l-t.ay,p=Math.atan2(d,f)*B.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var m=t.ascaleX,g=t.ascaleY;if(i||a){var v=t.data.length*m,y=Math.sqrt(f*f+d*d);if(i&&y<v||a&&y>v&&v>1e-4){var b=(y/v-1)*s+1;m*=b,o&&(g*=b)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*s,m,g,t.ashearX,t.ashearY)},r.prototype.apply2=function(t,e,n,i,a,o,s){if(s==0){e.updateWorldTransform();return}t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var h=t.ax,l=t.ay,u=t.ascaleX,c=u,f=t.ascaleY,d=e.ascaleX,p=t.matrix,m=0,g=0,v=0;u<0?(u=-u,m=180,v=-1):(m=0,v=1),f<0&&(f=-f,v=-v),d<0?(d=-d,g=180):g=0;var y=e.ax,b=0,x=0,_=0,w=p.a,E=p.c,S=p.b,T=p.d,I=Math.abs(u-f)<=1e-4;I?(b=e.ay,x=w*y+E*b+p.tx,_=S*y+T*b+p.ty):(b=0,x=w*y+p.tx,_=S*y+p.ty);var R=t.parent.matrix;w=R.a,E=R.c,S=R.b,T=R.d;var A=1/(w*T-E*S),C=n-R.tx,O=i-R.ty,N=(C*T-O*E)*A-h,L=(O*w-C*S)*A-l,D=N*N+L*L;C=x-R.tx,O=_-R.ty;var Q=(C*T-O*E)*A-h,tt=(O*w-C*S)*A-l,V=Math.sqrt(Q*Q+tt*tt),W=e.data.length*d,X=0,j=0;t:if(I){W*=u;var Y=(D-V*V-W*W)/(2*V*W);Y<-1?Y=-1:Y>1&&(Y=1,o&&V+W>1e-4&&(c*=(Math.sqrt(D)/(V+W)-1)*s+1)),j=Math.acos(Y)*a,w=V+W*Y,E=W*Math.sin(j),X=Math.atan2(L*w-N*E,N*w+L*E)}else{w=u*W,E=f*W;var q=w*w,$=E*E,K=Math.atan2(L,N);S=$*V*V+q*D-q*$;var J=-2*$*V,it=$-q;if(T=J*J-4*it*S,T>=0){var ut=Math.sqrt(T);J<0&&(ut=-ut),ut=-(J+ut)/2;var at=ut/it,M=S/ut,k=Math.abs(at)<Math.abs(M)?at:M;if(k*k<=D){O=Math.sqrt(D-k*k)*a,X=K-Math.atan2(O,k),j=Math.atan2(O/f,(k-V)/u);break t}}var U=B.PI,H=V-w,G=H*H,rt=0,ht=0,ot=V+w,z=ot*ot,nt=0;S=-w*V/(q-$),S>=-1&&S<=1&&(S=Math.acos(S),C=w*Math.cos(S)+V,O=E*Math.sin(S),T=C*C+O*O,T<G&&(U=S,G=T,H=C,rt=O),T>z&&(ht=S,z=T,ot=C,nt=O)),D<=(G+z)/2?(X=K-Math.atan2(rt*a,H),j=U*a):(X=K-Math.atan2(nt*a,ot),j=ht*a)}var lt=Math.atan2(b,y)*v,pt=t.arotation;X=(X-lt)*B.radDeg+m-pt,X>180?X-=360:X<-180&&(X+=360),t.updateWorldTransformWith(h,l,pt+X*s,c,t.ascaleY,0,0),pt=e.arotation,j=((j+lt)*B.radDeg-e.ashearX)*v+g-pt,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(y,b,pt+j*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},r}(),J_=function(){function r(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=t}return r}(),Q_=function(){function r(t){this.order=0,this.bones=new Array,this.name=t}return r}(),Dr;(function(r){r[r.Length=0]="Length",r[r.Fixed=1]="Fixed",r[r.Percent=2]="Percent"})(Dr||(Dr={}));var tw=function(){function r(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,i=t.bones.length;n<i;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return r.prototype.apply=function(){this.update()},r.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof Ws){var e=this.rotateMix,n=this.translateMix,i=n>0,a=e>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,h=s==Dr.Length,l=o.rotateMode,u=l==_e.Tangent,c=l==_e.ChainScale,f=this.bones.length,d=u?f:f+1,p=this.bones,m=Z.setArraySize(this.spaces,d),g=null,v=this.spacing;if(c||h){c&&(g=Z.setArraySize(this.lengths,f));for(var y=0,b=d-1;y<b;){var x=p[y],_=x.data.length;if(_<r.epsilon)c&&(g[y]=0),m[++y]=0;else{var w=_*x.matrix.a,E=_*x.matrix.b,S=Math.sqrt(w*w+E*E);c&&(g[y]=S),m[++y]=(h?_+v:v)*S/_}}}else for(var y=1;y<d;y++)m[y]=v;var T=this.computeWorldPositions(t,d,u,o.positionMode==pe.Percent,s==Dr.Percent),I=T[0],R=T[1],A=o.offsetRotation,C=!1;if(A==0)C=l==_e.Chain;else{C=!1;var O=this.target.bone.matrix;A*=O.a*O.d-O.b*O.c>0?B.degRad:-B.degRad}for(var y=0,O=3;y<f;y++,O+=3){var x=p[y],N=x.matrix;N.tx+=(I-N.tx)*n,N.ty+=(R-N.ty)*n;var w=T[O],E=T[O+1],L=w-I,D=E-R;if(c){var Q=g[y];if(Q!=0){var tt=(Math.sqrt(L*L+D*D)/Q-1)*e+1;N.a*=tt,N.b*=tt}}if(I=w,R=E,a){var V=N.a,W=N.c,X=N.b,j=N.d,Y=0,q=0,$=0;if(u?Y=T[O-1]:m[y+1]==0?Y=T[O+2]:Y=Math.atan2(D,L),Y-=Math.atan2(X,V),C){q=Math.cos(Y),$=Math.sin(Y);var K=x.data.length;I+=(K*(q*V-$*X)-L)*e,R+=(K*($*V+q*X)-D)*e}else Y+=A;Y>B.PI?Y-=B.PI2:Y<-B.PI&&(Y+=B.PI2),Y*=e,q=Math.cos(Y),$=Math.sin(Y),N.a=q*V-$*X,N.c=q*W-$*j,N.b=$*V+q*X,N.d=$*W+q*j}x.appliedValid=!1}}}},r.prototype.computeWorldPositions=function(t,e,n,i,a){var o=this.target,s=this.position,h=this.spaces,l=Z.setArraySize(this.positions,e*3+2),u=null,c=t.closed,f=t.worldVerticesLength,d=f/6,p=r.NONE;if(!t.constantSpeed){var m=t.lengths;d-=c?1:2;var g=m[d];if(i&&(s*=g),a)for(var v=0;v<e;v++)h[v]*=g;u=Z.setArraySize(this.world,8);for(var v=0,y=0,b=0;v<e;v++,y+=3){var x=h[v];s+=x;var _=s;if(c)_%=g,_<0&&(_+=g),b=0;else if(_<0){p!=r.BEFORE&&(p=r.BEFORE,t.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(_,u,0,l,y);continue}else if(_>g){p!=r.AFTER&&(p=r.AFTER,t.computeWorldVertices(o,f-6,4,u,0,2)),this.addAfterPosition(_-g,u,0,l,y);continue}for(;;b++){var w=m[b];if(!(_>w)){if(b==0)_/=w;else{var E=m[b-1];_=(_-E)/(w-E)}break}}b!=p&&(p=b,c&&b==d?(t.computeWorldVertices(o,f-4,4,u,0,2),t.computeWorldVertices(o,0,4,u,4,2)):t.computeWorldVertices(o,b*6+2,8,u,0,2)),this.addCurvePosition(_,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,y,n||v>0&&x==0)}return l}c?(f+=2,u=Z.setArraySize(this.world,f),t.computeWorldVertices(o,2,f-4,u,0,2),t.computeWorldVertices(o,0,2,u,f-4,2),u[f-2]=u[0],u[f-1]=u[1]):(d--,f-=4,u=Z.setArraySize(this.world,f),t.computeWorldVertices(o,2,f,u,0,2));for(var S=Z.setArraySize(this.curves,d),T=0,I=u[0],R=u[1],A=0,C=0,O=0,N=0,L=0,D=0,Q=0,tt=0,V=0,W=0,X=0,j=0,Y=0,q=0,v=0,$=2;v<d;v++,$+=6)A=u[$],C=u[$+1],O=u[$+2],N=u[$+3],L=u[$+4],D=u[$+5],Q=(I-A*2+O)*.1875,tt=(R-C*2+N)*.1875,V=((A-O)*3-I+L)*.09375,W=((C-N)*3-R+D)*.09375,X=Q*2+V,j=tt*2+W,Y=(A-I)*.75+Q+V*.16666667,q=(C-R)*.75+tt+W*.16666667,T+=Math.sqrt(Y*Y+q*q),Y+=X,q+=j,X+=V,j+=W,T+=Math.sqrt(Y*Y+q*q),Y+=X,q+=j,T+=Math.sqrt(Y*Y+q*q),Y+=X+V,q+=j+W,T+=Math.sqrt(Y*Y+q*q),S[v]=T,I=L,R=D;if(i&&(s*=T),a)for(var v=0;v<e;v++)h[v]*=T;for(var K=this.segments,J=0,v=0,y=0,b=0,it=0;v<e;v++,y+=3){var x=h[v];s+=x;var _=s;if(c)_%=T,_<0&&(_+=T),b=0;else if(_<0){this.addBeforePosition(_,u,0,l,y);continue}else if(_>T){this.addAfterPosition(_-T,u,f-4,l,y);continue}for(;;b++){var ut=S[b];if(!(_>ut)){if(b==0)_/=ut;else{var E=S[b-1];_=(_-E)/(ut-E)}break}}if(b!=p){p=b;var at=b*6;for(I=u[at],R=u[at+1],A=u[at+2],C=u[at+3],O=u[at+4],N=u[at+5],L=u[at+6],D=u[at+7],Q=(I-A*2+O)*.03,tt=(R-C*2+N)*.03,V=((A-O)*3-I+L)*.006,W=((C-N)*3-R+D)*.006,X=Q*2+V,j=tt*2+W,Y=(A-I)*.3+Q+V*.16666667,q=(C-R)*.3+tt+W*.16666667,J=Math.sqrt(Y*Y+q*q),K[0]=J,at=1;at<8;at++)Y+=X,q+=j,X+=V,j+=W,J+=Math.sqrt(Y*Y+q*q),K[at]=J;Y+=X,q+=j,J+=Math.sqrt(Y*Y+q*q),K[8]=J,Y+=X+V,q+=j+W,J+=Math.sqrt(Y*Y+q*q),K[9]=J,it=0}for(_*=J;;it++){var M=K[it];if(!(_>M)){if(it==0)_/=M;else{var E=K[it-1];_=it+(_-E)/(M-E)}break}}this.addCurvePosition(_*.1,I,R,A,C,O,N,L,D,l,y,n||v>0&&x==0)}return l},r.prototype.addBeforePosition=function(t,e,n,i,a){var o=e[n],s=e[n+1],h=e[n+2]-o,l=e[n+3]-s,u=Math.atan2(l,h);i[a]=o+t*Math.cos(u),i[a+1]=s+t*Math.sin(u),i[a+2]=u},r.prototype.addAfterPosition=function(t,e,n,i,a){var o=e[n+2],s=e[n+3],h=o-e[n],l=s-e[n+1],u=Math.atan2(l,h);i[a]=o+t*Math.cos(u),i[a+1]=s+t*Math.sin(u),i[a+2]=u},r.prototype.addCurvePosition=function(t,e,n,i,a,o,s,h,l,u,c,f){(t==0||isNaN(t))&&(t=1e-4);var d=t*t,p=d*t,m=1-t,g=m*m,v=g*m,y=m*t,b=y*3,x=m*b,_=b*t,w=e*v+i*x+o*_+h*p,E=n*v+a*x+s*_+l*p;u[c]=w,u[c+1]=E,f&&(u[c+2]=Math.atan2(E-(n*g+a*y*2+s*d),w-(e*g+i*y*2+o*d)))},r.prototype.getOrder=function(){return this.data.order},r.NONE=-1,r.BEFORE=-2,r.AFTER=-3,r.epsilon=1e-5,r}(),ew=function(){function r(t,e){if(this.attachmentVertices=new Array,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new dt,this.darkColor=t.darkColor==null?null:new dt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return r.prototype.getAttachment=function(){return this.attachment},r.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},r.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},r.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},r.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},r}(),rw=function(){function r(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Ds,t==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return r.prototype.apply=function(){this.update()},r.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},r.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,h=o.c,l=o.b,u=o.d,c=s*u-h*l>0?B.degRad:-B.degRad,f=this.data.offsetRotation*c,d=this.data.offsetShearY*c,p=this.bones,m=0,g=p.length;m<g;m++){var v=p[m],y=!1,b=v.matrix;if(t!=0){var x=b.a,_=b.c,w=b.b,E=b.d,S=Math.atan2(l,s)-Math.atan2(w,x)+f;S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2),S*=t;var T=Math.cos(S),I=Math.sin(S);b.a=T*x-I*w,b.c=T*_-I*E,b.b=I*x+T*w,b.d=I*_+T*E,y=!0}if(e!=0){var R=this.temp;a.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=(R.x-b.tx)*e,b.ty+=(R.y-b.ty)*e,y=!0}if(n>0){var A=Math.sqrt(b.a*b.a+b.b*b.b),C=Math.sqrt(s*s+l*l);A>1e-5&&(A=(A+(C-A+this.data.offsetScaleX)*n)/A),b.a*=A,b.b*=A,A=Math.sqrt(b.c*b.c+b.d*b.d),C=Math.sqrt(h*h+u*u),A>1e-5&&(A=(A+(C-A+this.data.offsetScaleY)*n)/A),b.c*=A,b.d*=A,y=!0}if(i>0){var _=b.c,E=b.d,O=Math.atan2(E,_),S=Math.atan2(u,h)-Math.atan2(l,s)-(O-Math.atan2(b.b,b.a));S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2),S=O+(S+d)*i;var A=Math.sqrt(_*_+E*E);b.c=Math.cos(S)*A,b.d=Math.sin(S)*A,y=!0}y&&(v.appliedValid=!1)}},r.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,h=o.c,l=o.b,u=o.d,c=s*u-h*l>0?B.degRad:-B.degRad,f=this.data.offsetRotation*c,d=this.data.offsetShearY*c,p=this.bones,m=0,g=p.length;m<g;m++){var v=p[m],y=!1,b=v.matrix;if(t!=0){var x=b.a,_=b.c,w=b.b,E=b.d,S=Math.atan2(l,s)+f;S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2),S*=t;var T=Math.cos(S),I=Math.sin(S);b.a=T*x-I*w,b.c=T*_-I*E,b.b=I*x+T*w,b.d=I*_+T*E,y=!0}if(e!=0){var R=this.temp;a.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=R.x*e,b.ty+=R.y*e,y=!0}if(n>0){var A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;b.a*=A,b.b*=A,A=(Math.sqrt(h*h+u*u)-1+this.data.offsetScaleY)*n+1,b.c*=A,b.d*=A,y=!0}if(i>0){var S=Math.atan2(u,h)-Math.atan2(l,s);S>B.PI?S-=B.PI2:S<-B.PI&&(S+=B.PI2);var _=b.c,E=b.d;S=Math.atan2(E,_)+(S-B.PI/2+d)*i;var A=Math.sqrt(_*_+E*E);b.c=Math.cos(S)*A,b.d=Math.sin(S)*A,y=!0}y&&(v.appliedValid=!1)}},r.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,h=o.length;s<h;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(t!=0){var c=a.arotation-u+this.data.offsetRotation;c-=(16384-(16384.499999999996-c/360|0))*360,u+=c*t}var f=l.ax,d=l.ay;e!=0&&(f+=(a.ax-f+this.data.offsetX)*e,d+=(a.ay-d+this.data.offsetY)*e);var p=l.ascaleX,m=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),m>1e-5&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*n)/m));var g=l.ashearY;if(i>0){var c=a.ashearY-g+this.data.offsetShearY;c-=(16384-(16384.499999999996-c/360|0))*360,l.shearY+=c*i}l.updateWorldTransformWith(f,d,u,p,m,l.ashearX,g)}},r.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,h=o.length;s<h;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;t!=0&&(u+=(a.arotation+this.data.offsetRotation)*t);var c=l.ax,f=l.ay;e!=0&&(c+=(a.ax+this.data.offsetX)*e,f+=(a.ay+this.data.offsetY)*e);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var m=l.ashearY;i>0&&(m+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(c,f,u,d,p,l.ashearX,m)}},r.prototype.getOrder=function(){return this.data.order},r}(),nw=function(){function r(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,t==null)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],i=void 0;if(n.parent==null)i=new ip(n,this,null);else{var a=this.bones[n.parent.index];i=new ip(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var e=0;e<t.slots.length;e++){var o=t.slots[e],i=this.bones[o.boneData.index],s=new ew(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var e=0;e<t.ikConstraints.length;e++){var h=t.ikConstraints[e];this.ikConstraints.push(new K_(h,this))}this.transformConstraints=new Array;for(var e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new rw(l,this))}this.pathConstraints=new Array;for(var e=0;e<t.pathConstraints.length;e++){var u=t.pathConstraints[e];this.pathConstraints.push(new tw(u,this))}this.color=new dt(1,1,1,1),this.updateCache()}return r.prototype.updateCache=function(){var t=this._updateCache;t.length=0,this.updateCacheReset.length=0;for(var e=this.bones,n=0,i=e.length;n<i;n++)e[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,h=a.length,l=o.length,u=s.length,c=h+l+u;t:for(var n=0;n<c;n++){for(var f=0;f<h;f++){var d=a[f];if(d.data.order==n){this.sortIkConstraint(d);continue t}}for(var f=0;f<l;f++){var d=o[f];if(d.data.order==n){this.sortTransformConstraint(d);continue t}}for(var f=0;f<u;f++){var d=s[f];if(d.data.order==n){this.sortPathConstraint(d);continue t}}}for(var n=0,i=e.length;n<i;n++)this.sortBone(e[n])},r.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var n=t.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(t),this.sortReset(i.children),n[n.length-1].sorted=!0},r.prototype.sortPathConstraint=function(t){var e=t.target,n=e.data.index,i=e.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=e.getAttachment();s instanceof Ws&&this.sortPathConstraintAttachmentWith(s,i);for(var h=t.bones,l=h.length,a=0;a<l;a++)this.sortBone(h[a]);this._updateCache.push(t);for(var a=0;a<l;a++)this.sortReset(h[a].children);for(var a=0;a<l;a++)h[a].sorted=!0},r.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var a=e[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(e[i]);this._updateCache.push(t);for(var o=0;o<n;o++)this.sortReset(e[o].children);for(var o=0;o<n;o++)e[o].sorted=!0},r.prototype.sortPathConstraintAttachment=function(t,e,n){var i=t.attachments[e];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},r.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof Ws){var n=t.bones;if(n==null)this.sortBone(e);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var h=n[a];this.sortBone(i[h])}}},r.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e!=null&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},r.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.sorted&&this.sortReset(i.children),i.sorted=!1}},r.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,e=0,n=a.length;e<n;e++)a[e].update()},r.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},r.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,e=0,n=i.length;e<n;e++){var a=i[e];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,e=0,n=o.length;e<n;e++){var a=o[e],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var h=this.pathConstraints,e=0,n=h.length;e<n;e++){var a=h[e],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},r.prototype.setSlotsToSetupPose=function(){var t=this.slots;Z.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},r.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},r.prototype.findBone=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},r.prototype.findSlot=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},r.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(e==null)throw new Error("Skin not found: "+t);this.setSkin(e)},r.prototype.setSkin=function(t){if(t!=null)if(this.skin!=null)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n],o=a.data.attachmentName;if(o!=null){var s=t.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=t},r.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},r.prototype.getAttachment=function(t,e){if(e==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(t,e);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(t,e):null},r.prototype.setAttachment=function(t,e){if(t==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==t){var s=null;if(e!=null&&(s=this.getAttachment(i,e),s==null))throw new Error("Attachment not found: "+e+", for slot: "+t);o.setAttachment(s);return}}throw new Error("Slot not found: "+t)},r.prototype.findIkConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.getBounds=function(t,e,n){if(t==null)throw new Error("offset cannot be null.");if(e==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l],f=0,d=null,p=c.getAttachment();if(p instanceof Jd)f=8,d=Z.setArraySize(n,f,0),p.computeWorldVertices(c.bone,d,0,2);else if(p instanceof Kd){var m=p;f=m.worldVerticesLength,d=Z.setArraySize(n,f,0),m.computeWorldVertices(c,0,f,d,0,2)}if(d!=null)for(var g=0,v=d.length;g<v;g+=2){var y=d[g],b=d[g+1];a=Math.min(a,y),o=Math.min(o,b),s=Math.max(s,y),h=Math.max(h,b)}}t.set(a,o),e.set(s-a,h-o)},r.prototype.update=function(t){this.time+=t},Object.defineProperty(r.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1},enumerable:!1,configurable:!0}),r.deprecatedWarning1=!1,r}(),qL=function(){function r(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new xo(function(){return Z.newFloatArray(16)})}return r.prototype.update=function(t,e){if(t==null)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=t.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var h=0;h<s;h++){var l=o[h],u=l.getAttachment();if(u instanceof Zd){var c=u;n.push(c);var f=a.obtain();f.length!=c.worldVerticesLength&&(f=Z.newFloatArray(c.worldVerticesLength)),i.push(f),c.computeWorldVertices(l,0,c.worldVerticesLength,f,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},r.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var h=a[o],l=h,u=0,c=h.length;u<c;u+=2){var f=l[u],d=l[u+1];t=Math.min(t,f),e=Math.min(e,d),n=Math.max(n,f),i=Math.max(i,d)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=i},r.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},r.prototype.aabbIntersectsSegment=function(t,e,n,i){var a=this.minX,o=this.minY,s=this.maxX,h=this.maxY;if(t<=a&&n<=a||e<=o&&i<=o||t>=s&&n>=s||e>=h&&i>=h)return!1;var l=(i-e)/(n-t),u=l*(a-t)+e;if(u>o&&u<h||(u=l*(s-t)+e,u>o&&u<h))return!0;var c=(o-e)/l+t;return c>a&&c<s||(c=(h-e)/l+t,c>a&&c<s)},r.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},r.prototype.containsPoint=function(t,e){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null},r.prototype.containsPointPolygon=function(t,e,n){for(var i=t,a=t.length,o=a-2,s=!1,h=0;h<a;h+=2){var l=i[h+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var c=i[h];c+(n-l)/(u-l)*(i[o]-c)<e&&(s=!s)}o=h}return s},r.prototype.intersectsSegment=function(t,e,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],t,e,n,i))return this.boundingBoxes[o];return null},r.prototype.intersectsSegmentPolygon=function(t,e,n,i,a){for(var o=t,s=t.length,h=e-i,l=n-a,u=e*a-n*i,c=o[s-2],f=o[s-1],d=0;d<s;d+=2){var p=o[d],m=o[d+1],g=c*m-f*p,v=c-p,y=f-m,b=h*y-l*v,x=(u*v-h*g)/b;if((x>=c&&x<=p||x>=p&&x<=c)&&(x>=e&&x<=i||x>=i&&x<=e)){var _=(u*y-l*g)/b;if((_>=f&&_<=m||_>=m&&_<=f)&&(_>=n&&_<=a||_>=a&&_<=n))return!0}c=p,f=m}return!1},r.prototype.getPolygon=function(t){if(t==null)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return e==-1?null:this.polygons[e]},r.prototype.getWidth=function(){return this.maxX-this.minX},r.prototype.getHeight=function(){return this.maxY-this.minY},r}(),iw=function(){function r(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return r.prototype.findBone=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(t==null)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r.prototype.findSlot=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(t==null)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r.prototype.findSkin=function(t){if(t==null)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findEvent=function(t){if(t==null)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findAnimation=function(t){if(t==null)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findIkConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(t==null)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraintIndex=function(t){if(t==null)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r}(),aw=function(){function r(t,e,n){if(this.color=new dt(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(e==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}return r}(),ow=function(){function r(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,t==null)throw new Error("name cannot be null.");this.name=t}return r}(),sw=function(){function r(t){if(this.attachments=new Array,t==null)throw new Error("name cannot be null.");this.name=t}return r.prototype.addAttachment=function(t,e,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n},r.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},r.prototype.attachAll=function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var a=t.slots[i],o=a.getAttachment();if(o&&n<e.attachments.length){var s=e.attachments[n];for(var h in s){var l=s[h];if(o==l){var u=this.getAttachment(n,h);u!=null&&a.setAttachment(u);break}}}n++}},r}(),lw=function(){function r(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return r.prototype.readSkeletonData=function(t){var e=this.scale,n=new iw,i=typeof t=="string"?JSON.parse(t):t,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],h=null,l=this.getValue(s,"parent",null);if(l!=null&&(h=n.findBone(l),h==null))throw new Error("Parent bone not found: "+l);var u=new G_(n.bones.length,s.name,h);u.length=this.getValue(s,"length",0)*e,u.x=this.getValue(s,"x",0)*e,u.y=this.getValue(s,"y",0)*e,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=r.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var c=i.slots[o],f=c.name,d=c.bone,p=n.findBone(d);if(p==null)throw new Error("Slot bone not found: "+d);var u=new aw(n.slots.length,f,p),m=this.getValue(c,"color",null);m!=null&&u.color.setFromString(m);var g=this.getValue(c,"dark",null);g!=null&&(u.darkColor=new dt(1,1,1,1),u.darkColor.setFromString(g)),u.attachmentName=this.getValue(c,"attachment",null),u.blendMode=r.blendModeFromString(this.getValue(c,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var v=i.ik[o],u=new J_(v.name);u.order=this.getValue(v,"order",0);for(var y=0;y<v.bones.length;y++){var d=v.bones[y],b=n.findBone(d);if(b==null)throw new Error("IK bone not found: "+d);u.bones.push(b)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("IK target bone not found: "+x);u.bendDirection=this.getValue(v,"bendPositive",!0)?1:-1,u.mix=this.getValue(v,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var v=i.transform[o],u=new ow(v.name);u.order=this.getValue(v,"order",0);for(var y=0;y<v.bones.length;y++){var d=v.bones[y],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(b)}var x=v.target;if(u.target=n.findBone(x),u.target==null)throw new Error("Transform constraint target bone not found: "+x);u.local=this.getValue(v,"local",!1),u.relative=this.getValue(v,"relative",!1),u.offsetRotation=this.getValue(v,"rotation",0),u.offsetX=this.getValue(v,"x",0)*e,u.offsetY=this.getValue(v,"y",0)*e,u.offsetScaleX=this.getValue(v,"scaleX",0),u.offsetScaleY=this.getValue(v,"scaleY",0),u.offsetShearY=this.getValue(v,"shearY",0),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),u.scaleMix=this.getValue(v,"scaleMix",1),u.shearMix=this.getValue(v,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var v=i.path[o],u=new Q_(v.name);u.order=this.getValue(v,"order",0);for(var y=0;y<v.bones.length;y++){var d=v.bones[y],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(b)}var x=v.target;if(u.target=n.findSlot(x),u.target==null)throw new Error("Path target slot not found: "+x);u.positionMode=r.positionModeFromString(this.getValue(v,"positionMode","percent")),u.spacingMode=r.spacingModeFromString(this.getValue(v,"spacingMode","length")),u.rotateMode=r.rotateModeFromString(this.getValue(v,"rotateMode","tangent")),u.offsetRotation=this.getValue(v,"rotation",0),u.position=this.getValue(v,"position",0),u.positionMode==pe.Fixed&&(u.position*=e),u.spacing=this.getValue(v,"spacing",0),(u.spacingMode==Dr.Length||u.spacingMode==Dr.Fixed)&&(u.spacing*=e),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var _ in i.skins){var w=i.skins[_],E=new sw(_);for(var f in w){var S=n.findSlotIndex(f);if(S==-1)throw new Error("Slot not found: "+f);var c=w[f];for(var T in c){var I=this.readAttachment(c[T],E,S,T,n);I!=null&&E.addAttachment(S,T,I)}}n.skins.push(E),E.name=="default"&&(n.defaultSkin=E)}for(var o=0,R=this.linkedMeshes.length;o<R;o++){var A=this.linkedMeshes[o],E=A.skin==null?n.defaultSkin:n.findSkin(A.skin);if(E==null)throw new Error("Skin not found: "+A.skin);var C=E.getAttachment(A.slotIndex,A.parent);if(C==null)throw new Error("Parent mesh not found: "+A.parent);A.mesh.setParentMesh(C)}if(this.linkedMeshes.length=0,i.events)for(var O in i.events){var N=i.events[O],u=new Z_(O);u.intValue=this.getValue(N,"int",0),u.floatValue=this.getValue(N,"float",0),u.stringValue=this.getValue(N,"string",""),u.audioPath=this.getValue(N,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(N,"volume",1),u.balance=this.getValue(N,"balance",0)),n.events.push(u)}if(i.animations)for(var L in i.animations){var D=i.animations[L];this.readAnimation(D,L,n)}return n},r.prototype.readAttachment=function(t,e,n,i,a){var o=this.scale;i=this.getValue(t,"name",i);var s=this.getValue(t,"type","region");switch(s){case"region":{var h=this.getValue(t,"path",i),l=this.attachmentLoader.newRegionAttachment(e,i,h);if(l==null)return null;l.path=h,l.x=this.getValue(t,"x",0)*o,l.y=this.getValue(t,"y",0)*o,l.scaleX=this.getValue(t,"scaleX",1),l.scaleY=this.getValue(t,"scaleY",1),l.rotation=this.getValue(t,"rotation",0),l.width=t.width*o,l.height=t.height*o;var u=this.getValue(t,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(c==null)return null;this.readVertices(t,c,t.vertexCount<<1);var u=this.getValue(t,"color",null);return u!=null&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var h=this.getValue(t,"path",i),f=this.attachmentLoader.newMeshAttachment(e,i,h);if(f==null)return null;f.path=h;var u=this.getValue(t,"color",null);u!=null&&f.color.setFromString(u);var d=this.getValue(t,"parent",null);if(d!=null)return f.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new GL(f,this.getValue(t,"skin",null),n,d)),f;var p=t.uvs;return this.readVertices(t,f,p.length),f.triangles=t.triangles,f.regionUVs=new Float32Array(p),f.hullLength=this.getValue(t,"hull",0)*2,f}case"path":{var h=this.attachmentLoader.newPathAttachment(e,i);if(h==null)return null;h.closed=this.getValue(t,"closed",!1),h.constantSpeed=this.getValue(t,"constantSpeed",!0);var m=t.vertexCount;this.readVertices(t,h,m<<1);for(var g=Z.newArray(m/3,0),v=0;v<t.lengths.length;v++)g[v]=t.lengths[v]*o;h.lengths=g;var u=this.getValue(t,"color",null);return u!=null&&h.color.setFromString(u),h}case"point":{var y=this.attachmentLoader.newPointAttachment(e,i);if(y==null)return null;y.x=this.getValue(t,"x",0)*o,y.y=this.getValue(t,"y",0)*o,y.rotation=this.getValue(t,"rotation",0);var u=this.getValue(t,"color",null);return u!=null&&y.color.setFromString(u),y}case"clipping":{var b=this.attachmentLoader.newClippingAttachment(e,i);if(b==null)return null;var x=this.getValue(t,"end",null);if(x!=null){var _=a.findSlot(x);if(_==null)throw new Error("Clipping end slot not found: "+x);b.endSlot=_}var m=t.vertexCount;this.readVertices(t,b,m<<1);var u=this.getValue(t,"color",null);return u!=null&&b.color.setFromString(u),b}}return null},r.prototype.readVertices=function(t,e,n){var i=this.scale;e.worldVerticesLength=n;var a=t.vertices;if(n==a.length){var o=Z.toFloatArray(a);if(i!=1)for(var s=0,h=a.length;s<h;s++)o[s]*=i;e.vertices=o;return}for(var l=new Array,u=new Array,s=0,h=a.length;s<h;){var c=a[s++];u.push(c);for(var f=s+c*4;s<f;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}e.bones=u,e.vertices=Z.toFloatArray(l)},r.prototype.readAnimation=function(t,e,n){var i=this.scale,a=new Array,o=0;if(t.slots)for(var s in t.slots){var h=t.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in h){var c=h[u];if(u=="attachment"){var f=new $u(c.length);f.slotIndex=l;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d++,m.time,m.name)}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}else if(u=="color"){var f=new Qd(c.length);f.slotIndex=l;for(var d=0,p=0;p<c.length;p++){var m=c[p],g=new dt;g.setFromString(m.color||"ffffffff"),f.setFrame(d,m.time,g.r,g.g,g.b,g.a),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Qd.ENTRIES])}else if(u=="twoColor"){var f=new tp(c.length);f.slotIndex=l;for(var d=0,p=0;p<c.length;p++){var m=c[p],v=new dt,y=new dt;v.setFromString(m.light),y.setFromString(m.dark),f.setFrame(d,m.time,v.r,v.g,v.b,v.a,y.r,y.g,y.b),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*tp.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(t.bones)for(var b in t.bones){var x=t.bones[b],_=n.findBoneIndex(b);if(_==-1)throw new Error("Bone not found: "+b);for(var u in x){var c=x[u];if(u==="rotate"){var f=new Qr(c.length);f.boneIndex=_;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d,m.time,m.angle),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Qr.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var f=null,w=1;u==="scale"?f=new L_(c.length):u==="shear"?f=new B_(c.length):(f=new zs(c.length),w=i),f.boneIndex=_;for(var d=0,p=0;p<c.length;p++){var m=c[p],E=this.getValue(m,"x",0),S=this.getValue(m,"y",0);f.setFrame(d,m.time,E*w,S*w),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*zs.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+b+")")}}if(t.ik)for(var T in t.ik){var I=t.ik[T],R=n.findIkConstraint(T),f=new ep(I.length);f.ikConstraintIndex=n.ikConstraints.indexOf(R);for(var d=0,p=0;p<I.length;p++){var m=I[p];f.setFrame(d,m.time,this.getValue(m,"mix",1),this.getValue(m,"bendPositive",!0)?1:-1,this.getValue(m,"compress",!1),this.getValue(m,"stretch",!1)),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*ep.ENTRIES])}if(t.transform)for(var T in t.transform){var I=t.transform[T],R=n.findTransformConstraint(T),f=new rp(I.length);f.transformConstraintIndex=n.transformConstraints.indexOf(R);for(var d=0,p=0;p<I.length;p++){var m=I[p];f.setFrame(d,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1),this.getValue(m,"scaleMix",1),this.getValue(m,"shearMix",1)),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*rp.ENTRIES])}if(t.paths)for(var T in t.paths){var I=t.paths[T],A=n.findPathConstraintIndex(T);if(A==-1)throw new Error("Path constraint not found: "+T);var C=n.pathConstraints[A];for(var u in I){var c=I[u];if(u==="position"||u==="spacing"){var f=null,w=1;u==="spacing"?(f=new j_(c.length),(C.spacingMode==Dr.Length||C.spacingMode==Dr.Fixed)&&(w=i)):(f=new Ku(c.length),C.positionMode==pe.Fixed&&(w=i)),f.pathConstraintIndex=A;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d,m.time,this.getValue(m,u,0)*w),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*Ku.ENTRIES])}else if(u==="mix"){var f=new np(c.length);f.pathConstraintIndex=A;for(var d=0,p=0;p<c.length;p++){var m=c[p];f.setFrame(d,m.time,this.getValue(m,"rotateMix",1),this.getValue(m,"translateMix",1)),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[(f.getFrameCount()-1)*np.ENTRIES])}}}if(t.deform)for(var O in t.deform){var N=t.deform[O],L=n.findSkin(O);if(L!=null)for(var s in N){var h=N[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+h.name);for(var u in h){var c=h[u],D=L.getAttachment(l,u);if(D==null)throw new Error("Deform attachment not found: "+c.name);var Q=D.bones!=null,tt=D.vertices,V=Q?tt.length/3*2:tt.length,f=new X_(c.length);f.slotIndex=l,f.attachment=D;for(var d=0,W=0;W<c.length;W++){var m=c[W],X=void 0,j=this.getValue(m,"vertices",null);if(j==null)X=Q?Z.newFloatArray(V):tt;else{X=Z.newFloatArray(V);var Y=this.getValue(m,"offset",0);if(Z.arrayCopy(j,0,X,Y,j.length),i!=1)for(var p=Y,q=p+j.length;p<q;p++)X[p]*=i;if(!Q)for(var p=0;p<V;p++)X[p]+=tt[p]}f.setFrame(d,m.time,X),this.readCurve(m,f,d),d++}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}}}var $=t.drawOrder;if($==null&&($=t.draworder),$!=null){for(var f=new Zu($.length),K=n.slots.length,d=0,W=0;W<$.length;W++){var J=$[W],it=null,ut=this.getValue(J,"offsets",null);if(ut!=null){it=Z.newArray(K,-1);for(var at=Z.newArray(K-ut.length,0),M=0,k=0,p=0;p<ut.length;p++){var U=ut[p],l=n.findSlotIndex(U.slot);if(l==-1)throw new Error("Slot not found: "+U.slot);for(;M!=l;)at[k++]=M++;it[M+U.offset]=M++}for(;M<K;)at[k++]=M++;for(var p=K-1;p>=0;p--)it[p]==-1&&(it[p]=at[--k])}f.setFrame(d++,J.time,it)}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}if(t.events){for(var f=new Y_(t.events.length),d=0,p=0;p<t.events.length;p++){var H=t.events[p],G=n.findEvent(H.name);if(G==null)throw new Error("Event not found: "+H.name);var rt=new $_(Z.toSinglePrecision(H.time),G);rt.intValue=this.getValue(H,"int",G.intValue),rt.floatValue=this.getValue(H,"float",G.floatValue),rt.stringValue=this.getValue(H,"string",G.stringValue),rt.data.audioPath!=null&&(rt.volume=this.getValue(H,"volume",1),rt.balance=this.getValue(H,"balance",0)),f.setFrame(d++,rt)}a.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new De(e,a,o))},r.prototype.readCurve=function(t,e,n){if(t.curve){if(t.curve==="stepped")e.setStepped(n);else if(Object.prototype.toString.call(t.curve)==="[object Array]"){var i=t.curve;e.setCurve(n,i[0],i[1],i[2],i[3])}}},r.prototype.getValue=function(t,e,n){return t[e]!==void 0?t[e]:n},r.blendModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return gt.NORMAL;if(t=="additive")return gt.ADD;if(t=="multiply")return gt.MULTIPLY;if(t=="screen")return gt.SCREEN;throw new Error("Unknown blend mode: "+t)},r.positionModeFromString=function(t){if(t=t.toLowerCase(),t=="fixed")return pe.Fixed;if(t=="percent")return pe.Percent;throw new Error("Unknown position mode: "+t)},r.spacingModeFromString=function(t){if(t=t.toLowerCase(),t=="length")return Dr.Length;if(t=="fixed")return Dr.Fixed;if(t=="percent")return Dr.Percent;throw new Error("Unknown position mode: "+t)},r.rotateModeFromString=function(t){if(t=t.toLowerCase(),t=="tangent")return _e.Tangent;if(t=="chain")return _e.Chain;if(t=="chainscale")return _e.ChainScale;throw new Error("Unknown rotate mode: "+t)},r.transformModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return Mt.Normal;if(t=="onlytranslation")return Mt.OnlyTranslation;if(t=="norotationorreflection")return Mt.NoRotationOrReflection;if(t=="noscale")return Mt.NoScale;if(t=="noscaleorreflection")return Mt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},r}(),GL=function(){function r(t,e,n,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i}return r}(),$L=function(r){Ce(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createSkeleton=function(e){this.skeleton=new nw(e),this.skeleton.updateWorldTransform(),this.stateData=new H_(e),this.state=new U_(this.stateData)},t}(Ls);const ZL=Object.freeze(Object.defineProperty({__proto__:null,Animation:De,AnimationState:U_,AnimationStateAdapter2:HL,AnimationStateData:H_,AtlasAttachmentLoader:q_,Attachment:$d,AttachmentTimeline:$u,Bone:ip,BoneData:G_,BoundingBoxAttachment:Zd,ClippingAttachment:N_,ColorTimeline:Qd,CurveTimeline:_n,DeformTimeline:X_,DrawOrderTimeline:Zu,Event:$_,EventData:Z_,EventQueue:z_,EventTimeline:Y_,get EventType(){return or},IkConstraint:K_,IkConstraintData:J_,IkConstraintTimeline:ep,JitterEffect:WL,MeshAttachment:Kd,PathAttachment:Ws,PathConstraint:tw,PathConstraintData:Q_,PathConstraintMixTimeline:np,PathConstraintPositionTimeline:Ku,PathConstraintSpacingTimeline:j_,PointAttachment:D_,RegionAttachment:Jd,RotateTimeline:Qr,ScaleTimeline:L_,ShearTimeline:B_,Skeleton:nw,SkeletonBounds:qL,SkeletonData:iw,SkeletonJson:lw,Skin:sw,Slot:ew,SlotData:aw,get SpacingMode(){return Dr},Spine:$L,SwirlEffect:zL,get TimelineType(){return Ue},TrackEntry:W_,TransformConstraint:rw,TransformConstraintData:ow,TransformConstraintTimeline:rp,TranslateTimeline:zs,TwoColorTimeline:tp,VertexAttachment:_a},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var ap=function(r,t){return ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},ap(r,t)};function Yt(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ap(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var op=function(){function r(t){if(!t)throw new Error("name cannot be null.");this.name=t}return r}(),wn=function(r){Yt(t,r);function t(e){var n=r.call(this,e)||this;return n.id=t.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return t.prototype.computeWorldVerticesOld=function(e,n){this.computeWorldVertices(e,0,this.worldVerticesLength,n,0,2)},t.prototype.computeWorldVertices=function(e,n,i,a,o,s){i=o+(i>>1)*s;var h=e.bone.skeleton,l=e.deform,u=this.vertices,c=this.bones;if(!c){l.length>0&&(u=l);for(var f=e.bone.matrix,d=f.tx,p=f.ty,m=f.a,g=f.c,v=f.b,y=f.d,b=n,x=o;x<i;b+=2,x+=s){var _=u[b],w=u[b+1];a[x]=_*m+w*g+d,a[x+1]=_*v+w*y+p}return}for(var E=0,S=0,T=0;T<n;T+=2){var I=c[E];E+=I+1,S+=I}var R=h.bones;if(l.length==0)for(var x=o,g=S*3;x<i;x+=s){var A=0,C=0,I=c[E++];for(I+=E;E<I;E++,g+=3){var f=R[c[E]].matrix,_=u[g],w=u[g+1],O=u[g+2];A+=(_*f.a+w*f.c+f.tx)*O,C+=(_*f.b+w*f.d+f.ty)*O}a[x]=A,a[x+1]=C}else for(var N=l,x=o,g=S*3,L=S<<1;x<i;x+=s){var A=0,C=0,I=c[E++];for(I+=E;E<I;E++,g+=3,L+=2){var f=R[c[E]].matrix,_=u[g]+N[L],w=u[g+1]+N[L+1],O=u[g+2];A+=(_*f.a+w*f.c+f.tx)*O,C+=(_*f.b+w*f.d+f.ty)*O}a[x]=A,a[x+1]=C}},t.prototype.copyTo=function(e){this.bones?(e.bones=new Array(this.bones.length),Z.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices&&(e.vertices=Z.newFloatArray(this.vertices.length),Z.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)),e.worldVerticesLength=this.worldVerticesLength,e.timelineAttachment=this.timelineAttachment},t.nextID=0,t}(op),sp=function(r){Yt(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.BoundingBox,n.color=new dt(1,1,1,1),n}return t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e},t}(wn),uw=function(r){Yt(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Clipping,n.endSlot=null,n.color=new dt(.2275,.2275,.8078,1),n}return t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e},t}(wn),Ju=function(r){Yt(t,r);function t(e,n){var i=r.call(this,e)||this;return i.type=Vt.Mesh,i.region=null,i.triangles=[],i.color=new dt(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new dt(0,0,0,0),i.path=n,i}return t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(e){this.parentMesh=e,e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},t.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var e=new t(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),Z.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),Z.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),Z.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e},t.prototype.computeWorldVertices=function(e,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(e,this),r.prototype.computeWorldVertices.call(this,e,n,i,a,o,s)},t.prototype.newLinkedMesh=function(){var e=new t(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh?this.parentMesh:this),e},t}(wn),Hs=function(r){Yt(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new dt(1,1,1,1),n}return t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),Z.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},t}(wn),hw=function(r){Yt(t,r);function t(e){var n=r.call(this,e)||this;return n.type=Vt.Point,n.x=0,n.y=0,n.rotation=0,n.color=new dt(.38,.94,0,1),n}return t.prototype.computeWorldPosition=function(e,n){var i=e.matrix;return n.x=this.x*i.a+this.y*i.c+e.worldX,n.y=this.x*i.b+this.y*i.d+e.worldY,n},t.prototype.computeWorldRotation=function(e){var n=e.matrix,i=B.cosDeg(this.rotation),a=B.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*B.radDeg},t.prototype.copy=function(){var e=new t(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e},t}(wn),lp=function(r){Yt(t,r);function t(e,n){var i=r.call(this,e)||this;return i.type=Vt.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new dt(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=Z.newFloatArray(8),i.uvs=Z.newFloatArray(8),i.tempColor=new dt(1,1,1,1),i.path=n,i}return t.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var e=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,h=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),c=Math.sin(l),f=this.x,d=this.y,p=a*u+f,m=a*c,g=o*u+d,v=o*c,y=s*u+f,b=s*c,x=h*u+d,_=h*c,w=this.offset;w[0]=p-v,w[1]=g+m,w[2]=p-_,w[3]=x+m,w[4]=y-_,w[5]=x+b,w[6]=y-v,w[7]=g+b;var E=this.uvs;e.degrees==90?(E[2]=e.u,E[3]=e.v2,E[4]=e.u,E[5]=e.v,E[6]=e.u2,E[7]=e.v,E[0]=e.u2,E[1]=e.v2):(E[0]=e.u,E[1]=e.v2,E[2]=e.u,E[3]=e.v,E[4]=e.u2,E[5]=e.v,E[6]=e.u2,E[7]=e.v2)},t.prototype.computeWorldVertices=function(e,n,i,a){this.sequence!=null&&this.sequence.apply(e,this);var o=e.bone,s=this.offset,h=o.matrix,l=h.tx,u=h.ty,c=h.a,f=h.c,d=h.b,p=h.d,m=0,g=0;m=s[0],g=s[1],n[i]=m*c+g*f+l,n[i+1]=m*d+g*p+u,i+=a,m=s[2],g=s[3],n[i]=m*c+g*f+l,n[i+1]=m*d+g*p+u,i+=a,m=s[4],g=s[5],n[i]=m*c+g*f+l,n[i+1]=m*d+g*p+u,i+=a,m=s[6],g=s[7],n[i]=m*c+g*f+l,n[i+1]=m*d+g*p+u},t.prototype.copy=function(){var e=new t(this.name,this.path);return e.region=this.region,e.rendererObject=this.rendererObject,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,Z.arrayCopy(this.uvs,0,e.uvs,0,8),Z.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e.sequence=this.sequence!=null?this.sequence.copy():null,e},t.X1=0,t.Y1=1,t.C1R=2,t.C1G=3,t.C1B=4,t.C1A=5,t.U1=6,t.V1=7,t.X2=8,t.Y2=9,t.C2R=10,t.C2G=11,t.C2B=12,t.C2A=13,t.U2=14,t.V2=15,t.X3=16,t.Y3=17,t.C3R=18,t.C3G=19,t.C3B=20,t.C3A=21,t.U3=22,t.V3=23,t.X4=24,t.Y4=25,t.C4R=26,t.C4G=27,t.C4B=28,t.C4A=29,t.U4=30,t.V4=31,t}(op),up=function(){function r(t){this.id=r.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(t)}return r.prototype.copy=function(){var t=new r(this.regions.length);return Z.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t},r.prototype.apply=function(t,e){var n=t.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];e.region!=i&&(e.region=i)},r.prototype.getPath=function(t,e){for(var n=t,i=(this.start+e).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},r.nextID=function(){return r._nextID++},r._nextID=0,r}(),We;(function(r){r[r.hold=0]="hold",r[r.once=1]="once",r[r.loop=2]="loop",r[r.pingpong=3]="pingpong",r[r.onceReverse=4]="onceReverse",r[r.loopReverse=5]="loopReverse",r[r.pingpongReverse=6]="pingpongReverse"})(We||(We={}));var hp=[We.hold,We.once,We.loop,We.pingpong,We.onceReverse,We.loopReverse,We.pingpongReverse],Qu=function(){function r(t,e,n){if(this.timelines=[],this.timelineIds=new y_,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=n}return r.prototype.setTimelines=function(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())},r.prototype.hasTimeline=function(t){for(var e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1},r.prototype.apply=function(t,e,n,i,a,o,s,h){if(!t)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,e>0&&(e%=this.duration));for(var l=this.timelines,u=0,c=l.length;u<c;u++)l[u].apply(t,e,n,a,o,s,h)},r}(),Kt={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},we=function(){function r(t,e){this.propertyIds=e,this.frames=Z.newFloatArray(t*this.getFrameEntries())}return r.prototype.getPropertyIds=function(){return this.propertyIds},r.prototype.getFrameEntries=function(){return 1},r.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},r.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},r.search1=function(t,e){for(var n=t.length,i=1;i<n;i++)if(t[i]>e)return i-1;return n-1},r.search=function(t,e,n){for(var i=t.length,a=n;a<i;a+=n)if(t[a]>e)return a-n;return i-n},r}(),tn=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,i)||this;return a.curves=Z.newFloatArray(e+n*18),a.curves[e-1]=1,a}return t.prototype.setLinear=function(e){this.curves[e]=0},t.prototype.setStepped=function(e){this.curves[e]=1},t.prototype.shrink=function(e){var n=this.getFrameCount()+e*18;if(this.curves.length>n){var i=Z.newFloatArray(n);Z.arrayCopy(this.curves,0,i,0,n),this.curves=i}},t.prototype.setBezier=function(e,n,i,a,o,s,h,l,u,c,f){var d=this.curves,p=this.getFrameCount()+e*18;i==0&&(d[n]=2+p);for(var m=(a-s*2+l)*.03,g=(o-h*2+u)*.03,v=((s-l)*3-a+c)*.006,y=((h-u)*3-o+f)*.006,b=m*2+v,x=g*2+y,_=(s-a)*.3+m+v*.16666667,w=(h-o)*.3+g+y*.16666667,E=a+_,S=o+w,T=p+18;p<T;p+=2)d[p]=E,d[p+1]=S,_+=b,w+=x,b+=v,x+=y,E+=_,S+=w},t.prototype.getBezierValue=function(e,n,i,a){var o=this.curves;if(o[a]>e){var s=this.frames[n],h=this.frames[n+i];return h+(e-s)/(o[a]-s)*(o[a+1]-h)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=e){var u=o[a-2],c=o[a-1];return c+(e-u)/(o[a]-u)*(o[a+1]-c)}n+=this.getFrameEntries();var f=o[l-2],d=o[l-1];return d+(e-f)/(this.frames[n]-f)*(this.frames[n+i]-d)},t}(we),en=function(r){Yt(t,r);function t(e,n,i){return r.call(this,e,n,[i])||this}return t.prototype.getFrameEntries=function(){return 2},t.prototype.setFrame=function(e,n,i){e<<=1,this.frames[e]=n,this.frames[e+1]=i},t.prototype.getCurveValue=function(e){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>e){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],h=n[i+1];return h+(e-s)/(n[i+2]-s)*(n[i+2+1]-h);case 1:return n[i+1]}return this.getBezierValue(e,i,1,o-2)},t}(tn),th=function(r){Yt(t,r);function t(e,n,i,a){return r.call(this,e,n,[i,a])||this}return t.prototype.getFrameEntries=function(){return 3},t.prototype.setFrame=function(e,n,i,a){e*=3,this.frames[e]=n,this.frames[e+1]=i,this.frames[e+2]=a},t}(tn),qs=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.rotation=l.data.rotation;return;case F.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var c=this.getCurveValue(i);switch(s){case F.setup:l.rotation=l.data.rotation+c*o;break;case F.first:case F.replace:c+=l.data.rotation-l.rotation;case F.add:l.rotation+=c*o}}},t}(en),cp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.x+"|"+i,Kt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.x=l.data.x,l.y=l.data.y;return;case F.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var c=0,f=0,d=we.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var m=u[d];c=u[d+1],f=u[d+2];var g=(i-m)/(u[d+3]-m);c+=(u[d+3+1]-c)*g,f+=(u[d+3+2]-f)*g;break;case 1:c=u[d+1],f=u[d+2];break;default:c=this.getBezierValue(i,d,1,p-2),f=this.getBezierValue(i,d,2,p+18-2)}switch(s){case F.setup:l.x=l.data.x+c*o,l.y=l.data.y+f*o;break;case F.first:case F.replace:l.x+=(l.data.x+c-l.x)*o,l.y+=(l.data.y+f-l.y)*o;break;case F.add:l.x+=c*o,l.y+=f*o}}},t}(th),fp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.x=l.data.x;return;case F.first:l.x+=(l.data.x-l.x)*o}return}var c=this.getCurveValue(i);switch(s){case F.setup:l.x=l.data.x+c*o;break;case F.first:case F.replace:l.x+=(l.data.x+c-l.x)*o;break;case F.add:l.x+=c*o}}},t}(en),dp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.y=l.data.y;return;case F.first:l.y+=(l.data.y-l.y)*o}return}var c=this.getCurveValue(i);switch(s){case F.setup:l.y=l.data.y+c*o;break;case F.first:case F.replace:l.y+=(l.data.y+c-l.y)*o;break;case F.add:l.y+=c*o}}},t}(en),pp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.scaleX+"|"+i,Kt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case F.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var c,f,d=we.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var m=u[d];c=u[d+1],f=u[d+2];var g=(i-m)/(u[d+3]-m);c+=(u[d+3+1]-c)*g,f+=(u[d+3+2]-f)*g;break;case 1:c=u[d+1],f=u[d+2];break;default:c=this.getBezierValue(i,d,1,p-2),f=this.getBezierValue(i,d,2,p+18-2)}if(c*=l.data.scaleX,f*=l.data.scaleY,o==1)s==F.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=f-l.data.scaleY):(l.scaleX=c,l.scaleY=f);else{var v=0,y=0;if(h==Dt.mixOut)switch(s){case F.setup:v=l.data.scaleX,y=l.data.scaleY,l.scaleX=v+(Math.abs(c)*B.signum(v)-v)*o,l.scaleY=y+(Math.abs(f)*B.signum(y)-y)*o;break;case F.first:case F.replace:v=l.scaleX,y=l.scaleY,l.scaleX=v+(Math.abs(c)*B.signum(v)-v)*o,l.scaleY=y+(Math.abs(f)*B.signum(y)-y)*o;break;case F.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case F.setup:v=Math.abs(l.data.scaleX)*B.signum(c),y=Math.abs(l.data.scaleY)*B.signum(f),l.scaleX=v+(c-v)*o,l.scaleY=y+(f-y)*o;break;case F.first:case F.replace:v=Math.abs(l.scaleX)*B.signum(c),y=Math.abs(l.scaleY)*B.signum(f),l.scaleX=v+(c-v)*o,l.scaleY=y+(f-y)*o;break;case F.add:l.scaleX+=(c-l.data.scaleX)*o,l.scaleY+=(f-l.data.scaleY)*o}}}},t}(th),mp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.scaleX=l.data.scaleX;return;case F.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var c=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==F.add?l.scaleX+=c-l.data.scaleX:l.scaleX=c;else{var f=0;if(h==Dt.mixOut)switch(s){case F.setup:f=l.data.scaleX,l.scaleX=f+(Math.abs(c)*B.signum(f)-f)*o;break;case F.first:case F.replace:f=l.scaleX,l.scaleX=f+(Math.abs(c)*B.signum(f)-f)*o;break;case F.add:l.scaleX+=(c-l.data.scaleX)*o}else switch(s){case F.setup:f=Math.abs(l.data.scaleX)*B.signum(c),l.scaleX=f+(c-f)*o;break;case F.first:case F.replace:f=Math.abs(l.scaleX)*B.signum(c),l.scaleX=f+(c-f)*o;break;case F.add:l.scaleX+=(c-l.data.scaleX)*o}}}},t}(en),vp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.scaleY=l.data.scaleY;return;case F.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var c=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==F.add?l.scaleY+=c-l.data.scaleY:l.scaleY=c;else{var f=0;if(h==Dt.mixOut)switch(s){case F.setup:f=l.data.scaleY,l.scaleY=f+(Math.abs(c)*B.signum(f)-f)*o;break;case F.first:case F.replace:f=l.scaleY,l.scaleY=f+(Math.abs(c)*B.signum(f)-f)*o;break;case F.add:l.scaleY+=(c-l.data.scaleY)*o}else switch(s){case F.setup:f=Math.abs(l.data.scaleY)*B.signum(c),l.scaleY=f+(c-f)*o;break;case F.first:case F.replace:f=Math.abs(l.scaleY)*B.signum(c),l.scaleY=f+(c-f)*o;break;case F.add:l.scaleY+=(c-l.data.scaleY)*o}}}},t}(en),gp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.shearX+"|"+i,Kt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case F.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var c=0,f=0,d=we.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var m=u[d];c=u[d+1],f=u[d+2];var g=(i-m)/(u[d+3]-m);c+=(u[d+3+1]-c)*g,f+=(u[d+3+2]-f)*g;break;case 1:c=u[d+1],f=u[d+2];break;default:c=this.getBezierValue(i,d,1,p-2),f=this.getBezierValue(i,d,2,p+18-2)}switch(s){case F.setup:l.shearX=l.data.shearX+c*o,l.shearY=l.data.shearY+f*o;break;case F.first:case F.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o,l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case F.add:l.shearX+=c*o,l.shearY+=f*o}}},t}(th),yp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.shearX=l.data.shearX;return;case F.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var c=this.getCurveValue(i);switch(s){case F.setup:l.shearX=l.data.shearX+c*o;break;case F.first:case F.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o;break;case F.add:l.shearX+=c*o}}},t}(en),bp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.shearY=l.data.shearY;return;case F.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var c=this.getCurveValue(i);switch(s){case F.setup:l.shearY=l.data.shearY+c*o;break;case F.first:case F.replace:l.shearY+=(l.data.shearY+c-l.shearY)*o;break;case F.add:l.shearY+=c*o}}},t}(en),xp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,[Kt.rgb+"|"+i,Kt.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return t.prototype.getFrameEntries=function(){return 5},t.prototype.setFrame=function(e,n,i,a,o,s){e*=5,this.frames[e]=n,this.frames[e+1]=i,this.frames[e+2]=a,this.frames[e+3]=o,this.frames[e+4]=s},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(i<u[0]){var f=l.data.color;switch(s){case F.setup:c.setFromColor(f);return;case F.first:c.add((f.r-c.r)*o,(f.g-c.g)*o,(f.b-c.b)*o,(f.a-c.a)*o)}return}var d=0,p=0,m=0,g=0,v=we.search(u,i,5),y=this.curves[v/5];switch(y){case 0:var b=u[v];d=u[v+1],p=u[v+2],m=u[v+3],g=u[v+4];var x=(i-b)/(u[v+5]-b);d+=(u[v+5+1]-d)*x,p+=(u[v+5+2]-p)*x,m+=(u[v+5+3]-m)*x,g+=(u[v+5+4]-g)*x;break;case 1:d=u[v+1],p=u[v+2],m=u[v+3],g=u[v+4];break;default:d=this.getBezierValue(i,v,1,y-2),p=this.getBezierValue(i,v,2,y+18-2),m=this.getBezierValue(i,v,3,y+18*2-2),g=this.getBezierValue(i,v,4,y+18*3-2)}o==1?c.set(d,p,m,g):(s==F.setup&&c.setFromColor(l.data.color),c.add((d-c.r)*o,(p-c.g)*o,(m-c.b)*o,(g-c.a)*o))}},t}(tn),_p=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,[Kt.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return t.prototype.getFrameEntries=function(){return 4},t.prototype.setFrame=function(e,n,i,a,o){e<<=2,this.frames[e]=n,this.frames[e+1]=i,this.frames[e+2]=a,this.frames[e+3]=o},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color;if(i<u[0]){var f=l.data.color;switch(s){case F.setup:c.r=f.r,c.g=f.g,c.b=f.b;return;case F.first:c.r+=(f.r-c.r)*o,c.g+=(f.g-c.g)*o,c.b+=(f.b-c.b)*o}return}var d=0,p=0,m=0,g=we.search(u,i,4),v=this.curves[g>>2];switch(v){case 0:var y=u[g];d=u[g+1],p=u[g+2],m=u[g+3];var b=(i-y)/(u[g+4]-y);d+=(u[g+4+1]-d)*b,p+=(u[g+4+2]-p)*b,m+=(u[g+4+3]-m)*b;break;case 1:d=u[g+1],p=u[g+2],m=u[g+3];break;default:d=this.getBezierValue(i,g,1,v-2),p=this.getBezierValue(i,g,2,v+18-2),m=this.getBezierValue(i,g,3,v+18*2-2)}if(o==1)c.r=d,c.g=p,c.b=m;else{if(s==F.setup){var f=l.data.color;c.r=f.r,c.g=f.g,c.b=f.b}c.r+=(d-c.r)*o,c.g+=(p-c.g)*o,c.b+=(m-c.b)*o}}},t}(tn),wp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var c=l.data.color;switch(s){case F.setup:u.a=c.a;return;case F.first:u.a+=(c.a-u.a)*o}return}var f=this.getCurveValue(i);o==1?u.a=f:(s==F.setup&&(u.a=l.data.color.a),u.a+=(f-u.a)*o)}},t}(en),Ep=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,[Kt.rgb+"|"+i,Kt.alpha+"|"+i,Kt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return t.prototype.getFrameEntries=function(){return 8},t.prototype.setFrame=function(e,n,i,a,o,s,h,l,u){e<<=3,this.frames[e]=n,this.frames[e+1]=i,this.frames[e+2]=a,this.frames[e+3]=o,this.frames[e+4]=s,this.frames[e+5]=h,this.frames[e+6]=l,this.frames[e+7]=u},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,f=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case F.setup:c.setFromColor(d),f.r=p.r,f.g=p.g,f.b=p.b;return;case F.first:c.add((d.r-c.r)*o,(d.g-c.g)*o,(d.b-c.b)*o,(d.a-c.a)*o),f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o}return}var m=0,g=0,v=0,y=0,b=0,x=0,_=0,w=we.search(u,i,8),E=this.curves[w>>3];switch(E){case 0:var S=u[w];m=u[w+1],g=u[w+2],v=u[w+3],y=u[w+4],b=u[w+5],x=u[w+6],_=u[w+7];var T=(i-S)/(u[w+8]-S);m+=(u[w+8+1]-m)*T,g+=(u[w+8+2]-g)*T,v+=(u[w+8+3]-v)*T,y+=(u[w+8+4]-y)*T,b+=(u[w+8+5]-b)*T,x+=(u[w+8+6]-x)*T,_+=(u[w+8+7]-_)*T;break;case 1:m=u[w+1],g=u[w+2],v=u[w+3],y=u[w+4],b=u[w+5],x=u[w+6],_=u[w+7];break;default:m=this.getBezierValue(i,w,1,E-2),g=this.getBezierValue(i,w,2,E+18-2),v=this.getBezierValue(i,w,3,E+18*2-2),y=this.getBezierValue(i,w,4,E+18*3-2),b=this.getBezierValue(i,w,5,E+18*4-2),x=this.getBezierValue(i,w,6,E+18*5-2),_=this.getBezierValue(i,w,7,E+18*6-2)}if(o==1)c.set(m,g,v,y),f.r=b,f.g=x,f.b=_;else{if(s==F.setup){c.setFromColor(l.data.color);var p=l.data.darkColor;f.r=p.r,f.g=p.g,f.b=p.b}c.add((m-c.r)*o,(g-c.g)*o,(v-c.b)*o,(y-c.a)*o),f.r+=(b-f.r)*o,f.g+=(x-f.g)*o,f.b+=(_-f.b)*o}}},t}(tn),Sp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,[Kt.rgb+"|"+i,Kt.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return t.prototype.getFrameEntries=function(){return 7},t.prototype.setFrame=function(e,n,i,a,o,s,h,l){e*=7,this.frames[e]=n,this.frames[e+1]=i,this.frames[e+2]=a,this.frames[e+3]=o,this.frames[e+4]=s,this.frames[e+5]=h,this.frames[e+6]=l},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=this.frames,c=l.color,f=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case F.setup:c.r=d.r,c.g=d.g,c.b=d.b,f.r=p.r,f.g=p.g,f.b=p.b;return;case F.first:c.r+=(d.r-c.r)*o,c.g+=(d.g-c.g)*o,c.b+=(d.b-c.b)*o,f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o}return}var m=0,g=0,v=0,y=0,b=0,x=0,_=we.search(u,i,7),w=this.curves[_/7];switch(w){case 0:var E=u[_];m=u[_+1],g=u[_+2],v=u[_+3],y=u[_+4],b=u[_+5],x=u[_+6];var S=(i-E)/(u[_+7]-E);m+=(u[_+7+1]-m)*S,g+=(u[_+7+2]-g)*S,v+=(u[_+7+3]-v)*S,y+=(u[_+7+4]-y)*S,b+=(u[_+7+5]-b)*S,x+=(u[_+7+6]-x)*S;break;case 1:m=u[_+1],g=u[_+2],v=u[_+3],y=u[_+4],b=u[_+5],x=u[_+6];break;default:m=this.getBezierValue(i,_,1,w-2),g=this.getBezierValue(i,_,2,w+18-2),v=this.getBezierValue(i,_,3,w+18*2-2),y=this.getBezierValue(i,_,4,w+18*3-2),b=this.getBezierValue(i,_,5,w+18*4-2),x=this.getBezierValue(i,_,6,w+18*5-2)}if(o==1)c.r=m,c.g=g,c.b=v,f.r=y,f.g=b,f.b=x;else{if(s==F.setup){var d=l.data.color,p=l.data.darkColor;c.r=d.r,c.g=d.g,c.b=d.b,f.r=p.r,f.g=p.g,f.b=p.b}c.r+=(m-c.r)*o,c.g+=(g-c.g)*o,c.b+=(v-c.b)*o,f.r+=(y-f.r)*o,f.g+=(b-f.g)*o,f.b+=(x-f.b)*o}}},t}(tn),wa=function(r){Yt(t,r);function t(e,n){var i=r.call(this,e,[Kt.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(e),i}return t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,n,i){this.frames[e]=n,this.attachmentNames[e]=i},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){if(h==Dt.mixOut){s==F.setup&&this.setAttachment(e,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==F.setup||s==F.first)&&this.setAttachment(e,l,l.data.attachmentName);return}this.setAttachment(e,l,this.attachmentNames[we.search1(this.frames,i)])}},t.prototype.setAttachment=function(e,n,i){n.setAttachment(i?e.getAttachment(this.slotIndex,i):null)},t}(we),Tp=function(r){Yt(t,r);function t(e,n,i,a){var o=r.call(this,e,n,[Kt.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(e),o}return t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,n,i){this.frames[e]=n,this.vertices[e]=i},t.prototype.setBezier=function(e,n,i,a,o,s,h,l,u,c,f){var d=this.curves,p=this.getFrameCount()+e*18;i==0&&(d[n]=2+p);for(var m=(a-s*2+l)*.03,g=u*.03-h*.06,v=((s-l)*3-a+c)*.006,y=(h-u+.33333333)*.018,b=m*2+v,x=g*2+y,_=(s-a)*.3+m+v*.16666667,w=h*.3+g+y*.16666667,E=a+_,S=w,T=p+18;p<T;p+=2)d[p]=E,d[p+1]=S,_+=b,w+=x,b+=v,x+=y,E+=_,S+=w},t.prototype.getCurvePercent=function(e,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(e-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>e){var s=this.frames[n];return i[a+1]*(e-s)/(i[a]-s)}var h=a+18;for(a+=2;a<h;a+=2)if(i[a]>=e){var l=i[a-2],u=i[a-1];return u+(e-l)/(i[a]-l)*(i[a+1]-u)}var c=i[h-2],f=i[h-1];return f+(1-f)*(e-c)/(this.frames[n+this.getFrameEntries()]-c)},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof wn)||u.timelineAttachment!=this.attachment)){var c=l.deform;c.length==0&&(s=F.setup);var f=this.vertices,d=f[0].length,p=this.frames;if(i<p[0]){switch(s){case F.setup:c.length=0;return;case F.first:if(o==1){c.length=0;return}c.length=d;var m=u;if(m.bones){o=1-o;for(var g=0;g<d;g++)c[g]*=o}else for(var v=m.vertices,g=0;g<d;g++)c[g]+=(v[g]-c[g])*o}return}if(c.length=d,i>=p[p.length-1]){var y=f[p.length-1];if(o==1)if(s==F.add){var m=u;if(m.bones)for(var b=0;b<d;b++)c[b]+=y[b];else for(var v=m.vertices,x=0;x<d;x++)c[x]+=y[x]-v[x]}else Z.arrayCopy(y,0,c,0,d);else switch(s){case F.setup:{var _=u;if(_.bones)for(var w=0;w<d;w++)c[w]=y[w]*o;else for(var v=_.vertices,E=0;E<d;E++){var S=v[E];c[E]=S+(y[E]-S)*o}break}case F.first:case F.replace:for(var T=0;T<d;T++)c[T]+=(y[T]-c[T])*o;break;case F.add:var m=u;if(m.bones)for(var I=0;I<d;I++)c[I]+=y[I]*o;else for(var v=m.vertices,R=0;R<d;R++)c[R]+=(y[R]-v[R])*o}return}var A=we.search1(p,i),C=this.getCurvePercent(i,A),O=f[A],N=f[A+1];if(o==1)if(s==F.add){var m=u;if(m.bones)for(var L=0;L<d;L++){var D=O[L];c[L]+=D+(N[L]-D)*C}else for(var v=m.vertices,Q=0;Q<d;Q++){var D=O[Q];c[Q]+=D+(N[Q]-D)*C-v[Q]}}else for(var tt=0;tt<d;tt++){var D=O[tt];c[tt]=D+(N[tt]-D)*C}else switch(s){case F.setup:{var V=u;if(V.bones)for(var W=0;W<d;W++){var D=O[W];c[W]=(D+(N[W]-D)*C)*o}else for(var v=V.vertices,X=0;X<d;X++){var D=O[X],S=v[X];c[X]=S+(D+(N[X]-D)*C-S)*o}break}case F.first:case F.replace:for(var j=0;j<d;j++){var D=O[j];c[j]+=(D+(N[j]-D)*C-c[j])*o}break;case F.add:var m=u;if(m.bones)for(var Y=0;Y<d;Y++){var D=O[Y];c[Y]+=(D+(N[Y]-D)*C)*o}else for(var v=m.vertices,q=0;q<d;q++){var D=O[q];c[q]+=(D+(N[q]-D)*C-v[q])*o}}}}},t}(tn),eh=function(r){Yt(t,r);function t(e){var n=r.call(this,e,t.propertyIds)||this;return n.events=new Array(e),n}return t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,n){this.frames[e]=n.time,this.events[e]=n},t.prototype.apply=function(e,n,i,a,o,s,h){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(e,n,Number.MAX_VALUE,a,o,s,h),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var c=0;if(n<l[0])c=0;else{c=we.search1(l,n)+1;for(var f=l[c];c>0&&l[c-1]==f;)c--}for(;c<u&&i>=l[c];c++)a.push(this.events[c])}}},t.propertyIds=[""+Kt.event],t}(we),Eo=function(r){Yt(t,r);function t(e){var n=r.call(this,e,t.propertyIds)||this;return n.drawOrders=new Array(e),n}return t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,n,i){this.frames[e]=n,this.drawOrders[e]=i},t.prototype.apply=function(e,n,i,a,o,s,h){if(h==Dt.mixOut){s==F.setup&&Z.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}if(i<this.frames[0]){(s==F.setup||s==F.first)&&Z.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var l=we.search1(this.frames,i),u=this.drawOrders[l];if(!u)Z.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else for(var c=e.drawOrder,f=e.slots,d=0,p=u.length;d<p;d++)c[d]=f[u[d]]},t.propertyIds=[""+Kt.drawOrder],t}(we),Ip=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,[Kt.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return t.prototype.getFrameEntries=function(){return 6},t.prototype.setFrame=function(e,n,i,a,o,s,h){e*=6,this.frames[e]=n,this.frames[e+1]=i,this.frames[e+2]=a,this.frames[e+3]=o,this.frames[e+4]=s?1:0,this.frames[e+5]=h?1:0},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case F.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var c=0,f=0,d=we.search(u,i,6),p=this.curves[d/6];switch(p){case 0:var m=u[d];c=u[d+1],f=u[d+2];var g=(i-m)/(u[d+6]-m);c+=(u[d+6+1]-c)*g,f+=(u[d+6+2]-f)*g;break;case 1:c=u[d+1],f=u[d+2];break;default:c=this.getBezierValue(i,d,1,p-2),f=this.getBezierValue(i,d,2,p+18-2)}s==F.setup?(l.mix=l.data.mix+(c-l.data.mix)*o,l.softness=l.data.softness+(f-l.data.softness)*o,h==Dt.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0)):(l.mix+=(c-l.mix)*o,l.softness+=(f-l.softness)*o,h==Dt.mixIn&&(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0))}},t}(tn),Ap=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,[Kt.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return t.prototype.getFrameEntries=function(){return 7},t.prototype.setFrame=function(e,n,i,a,o,s,h,l){var u=this.frames;e*=7,u[e]=n,u[e+1]=i,u[e+2]=a,u[e+3]=o,u[e+4]=s,u[e+5]=h,u[e+6]=l},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var c=l.data;switch(s){case F.setup:l.mixRotate=c.mixRotate,l.mixX=c.mixX,l.mixY=c.mixY,l.mixScaleX=c.mixScaleX,l.mixScaleY=c.mixScaleY,l.mixShearY=c.mixShearY;return;case F.first:l.mixRotate+=(c.mixRotate-l.mixRotate)*o,l.mixX+=(c.mixX-l.mixX)*o,l.mixY+=(c.mixY-l.mixY)*o,l.mixScaleX+=(c.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(c.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(c.mixShearY-l.mixShearY)*o}return}var f,d,p,m,g,v,y=we.search(u,i,7),b=this.curves[y/7];switch(b){case 0:var x=u[y];f=u[y+1],d=u[y+2],p=u[y+3],m=u[y+4],g=u[y+5],v=u[y+6];var _=(i-x)/(u[y+7]-x);f+=(u[y+7+1]-f)*_,d+=(u[y+7+2]-d)*_,p+=(u[y+7+3]-p)*_,m+=(u[y+7+4]-m)*_,g+=(u[y+7+5]-g)*_,v+=(u[y+7+6]-v)*_;break;case 1:f=u[y+1],d=u[y+2],p=u[y+3],m=u[y+4],g=u[y+5],v=u[y+6];break;default:f=this.getBezierValue(i,y,1,b-2),d=this.getBezierValue(i,y,2,b+18-2),p=this.getBezierValue(i,y,3,b+18*2-2),m=this.getBezierValue(i,y,4,b+18*3-2),g=this.getBezierValue(i,y,5,b+18*4-2),v=this.getBezierValue(i,y,6,b+18*5-2)}if(s==F.setup){var c=l.data;l.mixRotate=c.mixRotate+(f-c.mixRotate)*o,l.mixX=c.mixX+(d-c.mixX)*o,l.mixY=c.mixY+(p-c.mixY)*o,l.mixScaleX=c.mixScaleX+(m-c.mixScaleX)*o,l.mixScaleY=c.mixScaleY+(g-c.mixScaleY)*o,l.mixShearY=c.mixShearY+(v-c.mixShearY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(d-l.mixX)*o,l.mixY+=(p-l.mixY)*o,l.mixScaleX+=(m-l.mixScaleX)*o,l.mixScaleY+=(g-l.mixScaleY)*o,l.mixShearY+=(v-l.mixShearY)*o}},t}(tn),Pp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.position=l.data.position;return;case F.first:l.position+=(l.data.position-l.position)*o}return}var c=this.getCurveValue(i);s==F.setup?l.position=l.data.position+(c-l.data.position)*o:l.position+=(c-l.position)*o}},t}(en),Cp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,Kt.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.spacing=l.data.spacing;return;case F.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var c=this.getCurveValue(i);s==F.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*o:l.spacing+=(c-l.spacing)*o}},t}(en),Mp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,n,[Kt.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return t.prototype.getFrameEntries=function(){return 4},t.prototype.setFrame=function(e,n,i,a,o){var s=this.frames;e<<=2,s[e]=n,s[e+1]=i,s[e+2]=a,s[e+3]=o},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case F.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case F.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var c,f,d,p=we.search(u,i,4),m=this.curves[p>>2];switch(m){case 0:var g=u[p];c=u[p+1],f=u[p+2],d=u[p+3];var v=(i-g)/(u[p+4]-g);c+=(u[p+4+1]-c)*v,f+=(u[p+4+2]-f)*v,d+=(u[p+4+3]-d)*v;break;case 1:c=u[p+1],f=u[p+2],d=u[p+3];break;default:c=this.getBezierValue(i,p,1,m-2),f=this.getBezierValue(i,p,2,m+18-2),d=this.getBezierValue(i,p,3,m+18*2-2)}if(s==F.setup){var y=l.data;l.mixRotate=y.mixRotate+(c-y.mixRotate)*o,l.mixX=y.mixX+(f-y.mixX)*o,l.mixY=y.mixY+(d-y.mixY)*o}else l.mixRotate+=(c-l.mixRotate)*o,l.mixX+=(f-l.mixX)*o,l.mixY+=(d-l.mixY)*o}},t}(tn),Rp=function(r){Yt(t,r);function t(e,n,i){var a=r.call(this,e,[Kt.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return t.prototype.getFrameEntries=function(){return t.ENTRIES},t.prototype.getSlotIndex=function(){return this.slotIndex},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setFrame=function(e,n,i,a,o){var s=this.frames;e*=t.ENTRIES,s[e]=n,s[e+t.MODE]=i|a<<4,s[e+t.DELAY]=o},t.prototype.apply=function(e,n,i,a,o,s,h){var l=e.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,c=this.attachment;if(!(u!=c&&(!(u instanceof wn)||u.timelineAttachment!=c))){var f=this.frames;if(i<f[0]){(s==F.setup||s==F.first)&&(l.sequenceIndex=-1);return}var d=we.search(f,i,t.ENTRIES),p=f[d],m=f[d+t.MODE],g=f[d+t.DELAY];if(this.attachment.sequence){var v=m>>4,y=this.attachment.sequence.regions.length,b=hp[m&15];if(b!=We.hold)switch(v+=(i-p)/g+1e-5|0,b){case We.once:v=Math.min(y-1,v);break;case We.loop:v%=y;break;case We.pingpong:{var x=(y<<1)-2;v=x==0?0:v%x,v>=y&&(v=x-v);break}case We.onceReverse:v=Math.max(y-1-v,0);break;case We.loopReverse:v=y-1-v%y;break;case We.pingpongReverse:{var x=(y<<1)-2;v=x==0?0:(v+y-1)%x,v>=y&&(v=x-v)}}l.sequenceIndex=v}}}},t.ENTRIES=3,t.MODE=1,t.DELAY=2,t}(we),cw=function(){function r(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new dw(this),this.propertyIDs=new y_,this.animationsChanged=!1,this.trackEntryPool=new xo(function(){return new fw}),this.data=t}return r.emptyAnimation=function(){return r._emptyAnimation},r.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var a=e[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=t*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var h=a.trackLast-s.delay;if(h>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(h/a.timeScale+t)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){e[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,t)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},r.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?((n.totalAlpha==0||t.mixDuration==0)&&(t.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},r.prototype.apply=function(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var h=a==0?F.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,t,h):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,c=s.getAnimationTime(),f=c,d=e;s.reverse&&(f=s.animation.duration-f,d=null);var p=s.animation.timelines,m=p.length;if(a==0&&l==1||h==F.add)for(var g=0;g<m;g++){Z.webkit602BugfixHelper(l,h);var v=p[g];v instanceof wa?this.applyAttachmentTimeline(v,t,f,h,!0):v.apply(t,u,f,d,l,h,Dt.mixIn)}else{var y=s.timelineMode,b=s.shortestRotation,x=!b&&s.timelinesRotation.length!=m<<1;x&&(s.timelinesRotation.length=m<<1);for(var g=0;g<m;g++){var _=p[g],w=y[g]==Op?h:F.setup;!b&&_ instanceof qs?this.applyRotateTimeline(_,t,f,l,w,s.timelinesRotation,g<<1,x):_ instanceof wa?this.applyAttachmentTimeline(_,t,f,h,!0):(Z.webkit602BugfixHelper(l,h),_.apply(t,u,f,d,l,w,Dt.mixIn))}}this.queueEvents(s,c),e.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var E=this.unkeyedState+vw,S=t.slots,T=0,I=t.slots.length;T<I;T++){var R=S[T];if(R.attachmentState==E){var A=R.data.attachmentName;R.setAttachment(A?t.getAttachment(R.data.index,A):null)}}return this.unkeyedState+=2,this.queue.drain(),i},r.prototype.applyMixingFrom=function(t,e,n){var i=t.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,e,n);var a=0;t.mixDuration==0?(a=1,n==F.first&&(n=F.setup)):(a=t.mixTime/t.mixDuration,a>1&&(a=1),n!=F.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,h=i.animation.timelines,l=h.length,u=i.alpha*t.interruptAlpha,c=u*(1-a),f=i.animationLast,d=i.getAnimationTime(),p=d,m=null;if(i.reverse?p=i.animation.duration-p:a<i.eventThreshold&&(m=this.events),n==F.add)for(var g=0;g<l;g++)h[g].apply(e,f,p,m,c,n,Dt.mixOut);else{var v=i.timelineMode,y=i.timelineHoldMix,b=i.shortestRotation,x=!b&&i.timelinesRotation.length!=l<<1;x&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var g=0;g<l;g++){var _=h[g],w=Dt.mixOut,E=void 0,S=0;switch(v[g]){case Op:if(!s&&_ instanceof Eo)continue;E=n,S=c;break;case pw:E=F.setup,S=c;break;case mw:E=n,S=u;break;case kp:E=F.setup,S=u;break;default:E=F.setup;var T=y[g];S=u*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=S,!b&&_ instanceof qs?this.applyRotateTimeline(_,e,p,S,E,i.timelinesRotation,g<<1,x):_ instanceof wa?this.applyAttachmentTimeline(_,e,p,E,o):(Z.webkit602BugfixHelper(S,n),s&&_ instanceof Eo&&E==F.setup&&(w=Dt.mixIn),_.apply(e,f,p,m,S,E,w))}}return t.mixDuration>0&&this.queueEvents(i,d),this.events.length=0,i.nextAnimationLast=d,i.nextTrackLast=i.trackTime,a},r.prototype.applyAttachmentTimeline=function(t,e,n,i,a){var o=e.slots[t.slotIndex];!o.bone.active||(n<t.frames[0]?(i==F.setup||i==F.first)&&this.setAttachment(e,o,o.data.attachmentName,a):this.setAttachment(e,o,t.attachmentNames[we.search1(t.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+vw))},r.prototype.setAttachment=function(t,e,n,i){e.setAttachment(n?t.getAttachment(e.data.index,n):null),i&&(e.attachmentState=this.unkeyedState+QL)},r.prototype.applyRotateTimeline=function(t,e,n,i,a,o,s,h){if(h&&(o[s]=0),i==1){t.apply(e,0,n,null,1,a,Dt.mixIn);return}var l=e.bones[t.boneIndex];if(l.active){var u=t.frames,c=0,f=0;if(n<u[0])switch(a){case F.setup:l.rotation=l.data.rotation;default:return;case F.first:c=l.rotation,f=l.data.rotation}else c=a==F.setup?l.data.rotation:l.rotation,f=l.data.rotation+t.getCurveValue(n);var d=0,p=f-c;if(p-=(16384-(16384.499999999996-p/360|0))*360,p==0)d=o[s];else{var m=0,g=0;h?(m=0,g=p):(m=o[s],g=o[s+1]);var v=p>0,y=m>=0;B.signum(g)!=B.signum(p)&&Math.abs(g)<=90&&(Math.abs(m)>180&&(m+=360*B.signum(m)),y=v),d=p+m-m%360,y!=v&&(d+=360*B.signum(m)),o[s]=d}o[s+1]=p,l.rotation=c+d*i}},r.prototype.queueEvents=function(t,e){for(var n=t.animationStart,i=t.animationEnd,a=i-n,o=t.trackLast%a,s=this.events,h=0,l=s.length;h<l;h++){var u=s[h];if(u.time<o)break;u.time>i||this.queue.event(t,u)}var c=!1;for(t.loop?c=a==0||o>t.trackTime%a:c=e>=i&&t.animationLast<i,c&&this.queue.complete(t);h<l;h++){var f=s[h];f.time<n||this.queue.event(t,f)}},r.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},r.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e){this.queue.end(e),this.clearNext(e);for(var n=e;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[e.trackIndex]=null,this.queue.drain()}}},r.prototype.setCurrent=function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,i&&(n&&this.queue.interrupt(i),e.mixingFrom=i,i.mixingTo=e,e.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)},r.prototype.setAnimation=function(t,e,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)},r.prototype.setAnimationWith=function(t,e,n){if(n===void 0&&(n=!1),!e)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(t);a&&(a.nextTrackLast==-1?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(t,e,n,a);return this.setCurrent(t,o,i),this.queue.drain(),o},r.prototype.addAnimation=function(t,e,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(e);if(!a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,i)},r.prototype.addAnimationWith=function(t,e,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(t,e,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(t,o,!0),this.queue.drain()),o.delay=i,o},r.prototype.setEmptyAnimation=function(t,e){e===void 0&&(e=0);var n=this.setAnimationWith(t,r.emptyAnimation(),!1);return n.mixDuration=e,n.trackEnd=e,n},r.prototype.addEmptyAnimation=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=this.addAnimationWith(t,r.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-e),i.mixDuration=e,i.trackEnd=e,i},r.prototype.setEmptyAnimations=function(t){t===void 0&&(t=0);var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},r.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(Z.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},r.prototype.trackEntry=function(t,e,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=t,a.animation=e,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,e):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=F.replace,a},r.prototype.clearNext=function(t){for(var e=t.next;e;)this.queue.dispose(e),e=e.next;t.next=null},r.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=this.tracks,e=0,n=t.length;e<n;e++){var i=t[e];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=F.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},r.prototype.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,i=t.animation.timelines.length,a=t.timelineMode;a.length=i;var o=t.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(e&&e.holdPrevious){for(var h=0;h<i;h++)a[h]=s.addAll(n[h].getPropertyIds())?kp:mw;return}t:for(var h=0;h<i;h++){var l=n[h],u=l.getPropertyIds();if(!s.addAll(u))a[h]=Op;else if(!e||l instanceof wa||l instanceof Eo||l instanceof eh||!e.animation.hasTimeline(u))a[h]=pw;else{for(var c=e.mixingTo;c;c=c.mixingTo)if(!c.animation.hasTimeline(u)){if(t.mixDuration>0){a[h]=JL,o[h]=c;continue t}break}a[h]=kp}}},r.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},r.prototype.addListener=function(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)},r.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},r.prototype.clearListeners=function(){this.listeners.length=0},r.prototype.clearListenerNotifications=function(){this.queue.clear()},r.prototype.setAnimationByName=function(t,e,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,n)},r.prototype.addAnimationByName=function(t,e,n,i){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,n,i)},r.prototype.hasAnimation=function(t){var e=this.data.skeletonData.findAnimation(t);return e!==null},r.prototype.hasAnimationByName=function(t){return r.deprecatedWarning3||(r.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},r._emptyAnimation=new Qu("<empty>",[],0),r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r.deprecatedWarning3=!1,r}(),fw=function(){function r(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=F.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return r.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},r.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return t==0?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},r.prototype.getTrackComplete=function(){var t=this.animationEnd-this.animationStart;if(t!=0){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime},Object.defineProperty(r.prototype,"time",{get:function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endTime",{get:function(){return r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!1,configurable:!0}),r.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r}(),dw=function(){function r(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return r.prototype.start=function(t){this.objects.push(sr.start),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.interrupt=function(t){this.objects.push(sr.interrupt),this.objects.push(t)},r.prototype.end=function(t){this.objects.push(sr.end),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.dispose=function(t){this.objects.push(sr.dispose),this.objects.push(t)},r.prototype.complete=function(t){this.objects.push(sr.complete),this.objects.push(t)},r.prototype.event=function(t,e){this.objects.push(sr.event),this.objects.push(t),this.objects.push(e)},r.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],a=t[n+1];switch(i){case sr.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<e.length;o++){var s=e[o];s.start&&s.start(a)}break;case sr.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<e.length;o++){var s=e[o];s.interrupt&&s.interrupt(a)}break;case sr.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<e.length;o++){var s=e[o];s.end&&s.end(a)}case sr.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<e.length;o++){var s=e[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case sr.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<e.length;o++){var s=e[o];s.complete&&s.complete(a)}break;case sr.event:var h=t[n+++2];a.listener&&a.listener.event&&a.listener.event(a,h);for(var o=0;o<e.length;o++){var s=e[o];s.event&&s.event(a,h)}break}}this.clear(),this.drainDisabled=!1}},r.prototype.clear=function(){this.objects.length=0},r}(),sr;(function(r){r[r.start=0]="start",r[r.interrupt=1]="interrupt",r[r.end=2]="end",r[r.dispose=3]="dispose",r[r.complete=4]="complete",r[r.event=5]="event"})(sr||(sr={}));var KL=function(){function r(){}return r.prototype.start=function(t){},r.prototype.interrupt=function(t){},r.prototype.end=function(t){},r.prototype.dispose=function(t){},r.prototype.complete=function(t){},r.prototype.event=function(t,e){},r}(),Op=0,pw=1,mw=2,kp=3,JL=4,vw=1,QL=2,gw=function(){function r(t){if(this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return r.prototype.setMix=function(t,e,n){var i=this.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(!a)throw new Error("Animation not found: "+e);this.setMixWith(i,a,n)},r.prototype.setMixWith=function(t,e,n){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");var i=t.name+"."+e.name;this.animationToMixTime[i]=n},r.prototype.getMix=function(t,e){var n=t.name+"."+e.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},r}(),Fp=function(){function r(t){this.atlas=t}return r.prototype.loadSequence=function(t,e,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(e,a),h=this.atlas.findRegion(s);if(h==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+t+")");i[a]=h,i[a].renderObject=i[a]}},r.prototype.newRegionAttachment=function(t,e,n,i){var a=new lp(e,n);if(i!=null)this.loadSequence(e,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");o.renderObject=o,a.region=o}return a},r.prototype.newMeshAttachment=function(t,e,n,i){var a=new Ju(e,n);if(i!=null)this.loadSequence(e,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");o.renderObject=o,a.region=o}return a},r.prototype.newBoundingBoxAttachment=function(t,e){return new sp(e)},r.prototype.newPathAttachment=function(t,e){return new Hs(e)},r.prototype.newPointAttachment=function(t,e){return new hw(e)},r.prototype.newClippingAttachment=function(t,e){return new uw(e)},r}(),Np=function(){function r(t,e,n){if(this.matrix=new ge,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return Object.defineProperty(r.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),r.prototype.isActive=function(){return this.active},r.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},r.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},r.prototype.updateWorldTransformWith=function(t,e,n,i,a,o,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var h=this.parent,l=this.matrix,u=this.skeleton.scaleX,c=-this.skeleton.scaleY;if(!h){var f=this.skeleton,d=n+90+s;l.a=B.cosDeg(n+o)*i*u,l.c=B.cosDeg(d)*a*u,l.b=B.sinDeg(n+o)*i*c,l.d=B.sinDeg(d)*a*c,l.tx=t*u+f.x,l.ty=e*c+f.y;return}var p=h.matrix.a,m=h.matrix.c,g=h.matrix.b,v=h.matrix.d;switch(l.tx=p*t+m*e+h.matrix.tx,l.ty=g*t+v*e+h.matrix.ty,this.data.transformMode){case Mt.Normal:{var d=n+90+s,y=B.cosDeg(n+o)*i,b=B.cosDeg(d)*a,x=B.sinDeg(n+o)*i,_=B.sinDeg(d)*a;l.a=p*y+m*x,l.c=p*b+m*_,l.b=g*y+v*x,l.d=g*b+v*_;return}case Mt.OnlyTranslation:{var d=n+90+s;l.a=B.cosDeg(n+o)*i,l.c=B.cosDeg(d)*a,l.b=B.sinDeg(n+o)*i,l.d=B.sinDeg(d)*a;break}case Mt.NoRotationOrReflection:{var w=p*p+g*g,E=0;w>1e-4?(w=Math.abs(p*v-m*g)/w,p/=u,g/=c,m=g*w,v=p*w,E=Math.atan2(g,p)*B.radDeg):(p=0,g=0,E=90-Math.atan2(v,m)*B.radDeg);var S=n+o-E,T=n+s-E+90,y=B.cosDeg(S)*i,b=B.cosDeg(T)*a,x=B.sinDeg(S)*i,_=B.sinDeg(T)*a;l.a=p*y-m*x,l.c=p*b-m*_,l.b=g*y+v*x,l.d=g*b+v*_;break}case Mt.NoScale:case Mt.NoScaleOrReflection:{var I=B.cosDeg(n),R=B.sinDeg(n),A=(p*I+m*R)/u,C=(g*I+v*R)/c,w=Math.sqrt(A*A+C*C);w>1e-5&&(w=1/w),A*=w,C*=w,w=Math.sqrt(A*A+C*C),this.data.transformMode==Mt.NoScale&&p*v-m*g<0!=(u<0!=c<0)&&(w=-w);var O=Math.PI/2+Math.atan2(C,A),N=Math.cos(O)*w,L=Math.sin(O)*w,y=B.cosDeg(o)*i,b=B.cosDeg(90+s)*a,x=B.sinDeg(o)*i,_=B.sinDeg(90+s)*a;l.a=A*y+N*x,l.c=A*b+N*_,l.b=C*y+L*x,l.d=C*b+L*_;break}}l.a*=u,l.c*=u,l.b*=c,l.d*=c},r.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},r.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*B.radDeg},r.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*B.radDeg},r.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.b*t.b)},r.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.c*t.c+t.d*t.d)},r.prototype.updateAppliedTransform=function(){var t=this.parent,e=this.matrix;if(!t){this.ax=e.tx-this.skeleton.x,this.ay=e.ty-this.skeleton.y,this.arotation=Math.atan2(e.b,e.a)*B.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*B.radDeg;return}var n=t.matrix,i=1/(n.a*n.d-n.b*n.c),a=e.tx-n.tx,o=e.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,h=i*n.a,l=i*n.c,u=i*n.b,c=s*e.a-l*e.b,f=s*e.c-l*e.d,d=h*e.b-u*e.a,p=h*e.d-u*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+d*d),this.ascaleX>1e-4){var m=c*p-f*d;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*f+d*p,m)*B.radDeg,this.arotation=Math.atan2(d,c)*B.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,f)*B.radDeg},r.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,i=e.c,a=e.b,o=e.d,s=1/(n*o-i*a),h=t.x-e.tx,l=t.y-e.ty;return t.x=h*o*s-l*i*s,t.y=l*n*s-h*a*s,t},r.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,i=t.y;return t.x=n*e.a+i*e.c+e.tx,t.y=n*e.b+i*e.d+e.ty,t},r.prototype.worldToLocalRotation=function(t){var e=B.sinDeg(t),n=B.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*n,i.d*n-i.c*e)*B.radDeg},r.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=B.sinDeg(t),n=B.cosDeg(t),i=this.matrix;return Math.atan2(n*i.b+e*i.d,n*i.a+e*i.c)*B.radDeg},r.prototype.rotateWorld=function(t){var e=this.matrix,n=e.a,i=e.c,a=e.b,o=e.d,s=B.cosDeg(t),h=B.sinDeg(t);e.a=s*n-h*a,e.c=s*i-h*o,e.b=h*n+s*a,e.d=h*i+s*o},r}(),Dp=function(){function r(t,e,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Mt.Normal,this.skinRequired=!1,this.color=new dt,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}return r}(),rh=function(){function r(t,e,n){this.name=t,this.order=e,this.skinRequired=n}return r}(),Lp=function(){function r(t,e){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!e)throw new Error("data cannot be null.");this.time=t,this.data=e}return r}(),Bp=function(){function r(t){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t}return r}(),yw=function(){function r(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var i=e.findBone(t.bones[n].name);if(!i)throw new Error("Couldn't find bone "+t.bones[n].name);this.bones.push(i)}var a=e.findBone(t.target.name);if(!a)throw new Error("Couldn't find bone "+t.target.name);this.target=a}return r.prototype.isActive=function(){return this.active},r.prototype.update=function(){if(this.mix!=0){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},r.prototype.apply1=function(t,e,n,i,a,o,s){var h=t.parent.matrix;if(!h)throw new Error("IK bone must have parent.");var l=h.a,u=h.c,c=h.b,f=h.d,d=-t.ashearX-t.arotation,p=0,m=0,g=t.skeleton.scaleX,v=-t.skeleton.scaleY;switch(t.data.transformMode){case Mt.OnlyTranslation:p=e-t.worldX,m=n-t.worldY,m=-m;break;case Mt.NoRotationOrReflection:var y=Math.abs(l*f-u*c)/(l*l+c*c),b=l/g,x=c/v;u=-x*y*g,f=b*y*v,d+=Math.atan2(x,b)*B.radDeg;default:var _=e-h.tx,w=n-h.ty,E=l*f-u*c;p=(_*f-w*u)/E-t.ax,m=(w*l-_*c)/E-t.ay}d+=Math.atan2(m,p)*B.radDeg,t.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var S=t.ascaleX,T=t.ascaleY;if(i||a){switch(t.data.transformMode){case Mt.NoScale:case Mt.NoScaleOrReflection:p=e-t.worldX,m=n-t.worldY}var I=t.data.length*S,R=Math.sqrt(p*p+m*m);if(i&&R<I||a&&R>I&&I>1e-4){var y=(R/I-1)*s+1;S*=y,o&&(T*=y)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*s,S,T,t.ashearX,t.ashearY)},r.prototype.apply2=function(t,e,n,i,a,o,s,h,l){var u=t.ax,c=t.ay,f=t.ascaleX,d=t.ascaleY,p=f,m=d,g=e.ascaleX,v=t.matrix,y=0,b=0,x=0;f<0?(f=-f,y=180,x=-1):(y=0,x=1),d<0&&(d=-d,x=-x),g<0?(g=-g,b=180):b=0;var _=e.ax,w=0,E=0,S=0,T=v.a,I=v.c,R=v.b,A=v.d,C=Math.abs(f-d)<=1e-4;!C||o?(w=0,E=T*_+v.tx,S=R*_+v.ty):(w=e.ay,E=T*_+I*w+v.tx,S=R*_+A*w+v.ty);var O=t.parent.matrix;if(!O)throw new Error("IK parent must itself have a parent.");T=O.a,I=O.c,R=O.b,A=O.d;var N=1/(T*A-I*R),L=E-O.tx,D=S-O.ty,Q=(L*A-D*I)*N-u,tt=(D*T-L*R)*N-c,V=Math.sqrt(Q*Q+tt*tt),W=e.data.length*g,X,j;if(V<1e-4){this.apply1(t,n,i,!1,o,!1,l),e.updateWorldTransformWith(_,w,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);return}L=n-O.tx,D=i-O.ty;var Y=(L*A-D*I)*N-u,q=(D*T-L*R)*N-c,$=Y*Y+q*q;if(h!=0){h*=f*(g+1)*.5;var K=Math.sqrt($),J=K-V-W*f+h;if(J>0){var it=Math.min(1,J/(h*2))-1;it=(J-h*(1-it*it))/K,Y-=it*Y,q-=it*q,$=Y*Y+q*q}}t:if(C){W*=f;var ut=($-V*V-W*W)/(2*V*W);ut<-1?(ut=-1,j=Math.PI*a):ut>1?(ut=1,j=0,o&&(T=(Math.sqrt($)/(V+W)-1)*l+1,p*=T,s&&(m*=T))):j=Math.acos(ut)*a,T=V+W*ut,I=W*Math.sin(j),X=Math.atan2(q*T-Y*I,Y*T+q*I)}else{T=f*W,I=d*W;var at=T*T,M=I*I,k=Math.atan2(q,Y);R=M*V*V+at*$-at*M;var U=-2*M*V,H=M-at;if(A=U*U-4*H*R,A>=0){var G=Math.sqrt(A);U<0&&(G=-G),G=-(U+G)*.5;var rt=G/H,ht=R/G,ot=Math.abs(rt)<Math.abs(ht)?rt:ht;if(ot*ot<=$){D=Math.sqrt($-ot*ot)*a,X=k-Math.atan2(D,ot),j=Math.atan2(D/d,(ot-V)/f);break t}}var z=B.PI,nt=V-T,lt=nt*nt,pt=0,bt=0,wt=V+T,Et=wt*wt,Lt=0;R=-T*V/(at-M),R>=-1&&R<=1&&(R=Math.acos(R),L=T*Math.cos(R)+V,D=I*Math.sin(R),A=L*L+D*D,A<lt&&(z=R,lt=A,nt=L,pt=D),A>Et&&(bt=R,Et=A,wt=L,Lt=D)),$<=(lt+Et)*.5?(X=k-Math.atan2(pt*a,nt),j=z*a):(X=k-Math.atan2(Lt*a,wt),j=bt*a)}var kt=Math.atan2(w,_)*x,Ht=t.arotation;X=(X-kt)*B.radDeg+y-Ht,X>180?X-=360:X<-180&&(X+=360),t.updateWorldTransformWith(u,c,Ht+X*l,p,m,0,0),Ht=e.arotation,j=((j+kt)*B.radDeg-e.ashearX)*x+b-Ht,j>180?j-=360:j<-180&&(j+=360),e.updateWorldTransformWith(_,w,Ht+j*l,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},r}(),Vp=function(r){Yt(t,r);function t(e){var n=r.call(this,e,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(t.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),t}(rh),Xp=function(r){Yt(t,r);function t(e){var n=r.call(this,e,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=pe.Fixed,n.spacingMode=Me.Fixed,n.rotateMode=_e.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(t.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),t}(rh),Me;(function(r){r[r.Length=0]="Length",r[r.Fixed=1]="Fixed",r[r.Percent=2]="Percent",r[r.Proportional=3]="Proportional"})(Me||(Me={}));var bw=function(){function r(t,e){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,i=t.bones.length;n<i;n++){var a=e.findBone(t.bones[n].name);if(!a)throw new Error("Couldn't find bone "+t.bones[n].name+".");this.bones.push(a)}var o=e.findSlot(t.target.name);if(!o)throw new Error("Couldn't find target bone "+t.target.name);this.target=o,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}return r.prototype.isActive=function(){return this.active},r.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof Hs){var e=this.mixRotate,n=this.mixX,i=this.mixY;if(!(e==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==_e.Tangent,s=a.rotateMode==_e.ChainScale,h=this.bones,l=h.length,u=o?l:l+1,c=Z.setArraySize(this.spaces,u),f=s?this.lengths=Z.setArraySize(this.lengths,l):[],d=this.spacing;switch(a.spacingMode){case Me.Percent:if(s)for(var p=0,m=u-1;p<m;p++){var g=h[p],v=g.data.length;if(v<r.epsilon)f[p]=0;else{var y=v*g.matrix.a,b=v*g.matrix.b;f[p]=Math.sqrt(y*y+b*b)}}Z.arrayFill(c,1,u,d);break;case Me.Proportional:for(var x=0,p=0,m=u-1;p<m;){var g=h[p],v=g.data.length;if(v<r.epsilon)s&&(f[p]=0),c[++p]=d;else{var y=v*g.matrix.a,b=v*g.matrix.b,_=Math.sqrt(y*y+b*b);s&&(f[p]=_),c[++p]=_,x+=_}}if(x>0){x=u/x*d;for(var p=1;p<u;p++)c[p]*=x}break;default:for(var w=a.spacingMode==Me.Length,p=0,m=u-1;p<m;){var g=h[p],v=g.data.length;if(v<r.epsilon)s&&(f[p]=0),c[++p]=d;else{var y=v*g.matrix.a,b=v*g.matrix.b,E=Math.sqrt(y*y+b*b);s&&(f[p]=E),c[++p]=(w?v+d:d)*E/v}}}var S=this.computeWorldPositions(t,u,o),T=S[0],I=S[1],R=a.offsetRotation,A=!1;if(R==0)A=a.rotateMode==_e.Chain;else{A=!1;var C=this.target.bone.matrix;R*=C.a*C.d-C.b*C.c>0?B.degRad:-B.degRad}for(var p=0,C=3;p<l;p++,C+=3){var g=h[p],O=g.matrix;O.tx+=(T-O.tx)*n,O.ty+=(I-O.ty)*i;var y=S[C],b=S[C+1],N=y-T,L=b-I;if(s){var D=f[p];if(D!=0){var Q=(Math.sqrt(N*N+L*L)/D-1)*e+1;O.a*=Q,O.b*=Q}}if(T=y,I=b,e>0){var tt=O.a,V=O.c,W=O.b,X=O.d,j=0,Y=0,q=0;if(o?j=S[C-1]:c[p+1]==0?j=S[C+2]:j=Math.atan2(L,N),j-=Math.atan2(W,tt),A){Y=Math.cos(j),q=Math.sin(j);var $=g.data.length;T+=($*(Y*tt-q*W)-N)*e,I+=($*(q*tt+Y*W)-L)*e}else j+=R;j>B.PI?j-=B.PI2:j<-B.PI&&(j+=B.PI2),j*=e,Y=Math.cos(j),q=Math.sin(j),O.a=Y*tt-q*W,O.c=Y*V-q*X,O.b=q*tt+Y*W,O.d=q*V+Y*X}g.updateAppliedTransform()}}}},r.prototype.computeWorldPositions=function(t,e,n){var i=this.target,a=this.position,o=this.spaces,s=Z.setArraySize(this.positions,e*3+2),h=this.world,l=t.closed,u=t.worldVerticesLength,c=u/6,f=r.NONE;if(!t.constantSpeed){var d=t.lengths;c-=l?1:2;var p=d[c];this.data.positionMode==pe.Percent&&(a*=p);var m;switch(this.data.spacingMode){case Me.Percent:m=p;break;case Me.Proportional:m=p/e;break;default:m=1}h=Z.setArraySize(this.world,8);for(var g=0,v=0,y=0;g<e;g++,v+=3){var b=o[g]*m;a+=b;var x=a;if(l)x%=p,x<0&&(x+=p),y=0;else if(x<0){f!=r.BEFORE&&(f=r.BEFORE,t.computeWorldVertices(i,2,4,h,0,2)),this.addBeforePosition(x,h,0,s,v);continue}else if(x>p){f!=r.AFTER&&(f=r.AFTER,t.computeWorldVertices(i,u-6,4,h,0,2)),this.addAfterPosition(x-p,h,0,s,v);continue}for(;;y++){var _=d[y];if(!(x>_)){if(y==0)x/=_;else{var w=d[y-1];x=(x-w)/(_-w)}break}}y!=f&&(f=y,l&&y==c?(t.computeWorldVertices(i,u-4,4,h,0,2),t.computeWorldVertices(i,0,4,h,4,2)):t.computeWorldVertices(i,y*6+2,8,h,0,2)),this.addCurvePosition(x,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],s,v,n||g>0&&b==0)}return s}l?(u+=2,h=Z.setArraySize(this.world,u),t.computeWorldVertices(i,2,u-4,h,0,2),t.computeWorldVertices(i,0,2,h,u-4,2),h[u-2]=h[0],h[u-1]=h[1]):(c--,u-=4,h=Z.setArraySize(this.world,u),t.computeWorldVertices(i,2,u,h,0,2));for(var E=Z.setArraySize(this.curves,c),S=0,T=h[0],I=h[1],R=0,A=0,C=0,O=0,N=0,L=0,D=0,Q=0,tt=0,V=0,W=0,X=0,j=0,Y=0,g=0,q=2;g<c;g++,q+=6)R=h[q],A=h[q+1],C=h[q+2],O=h[q+3],N=h[q+4],L=h[q+5],D=(T-R*2+C)*.1875,Q=(I-A*2+O)*.1875,tt=((R-C)*3-T+N)*.09375,V=((A-O)*3-I+L)*.09375,W=D*2+tt,X=Q*2+V,j=(R-T)*.75+D+tt*.16666667,Y=(A-I)*.75+Q+V*.16666667,S+=Math.sqrt(j*j+Y*Y),j+=W,Y+=X,W+=tt,X+=V,S+=Math.sqrt(j*j+Y*Y),j+=W,Y+=X,S+=Math.sqrt(j*j+Y*Y),j+=W+tt,Y+=X+V,S+=Math.sqrt(j*j+Y*Y),E[g]=S,T=N,I=L;this.data.positionMode==pe.Percent&&(a*=S);var $;switch(this.data.spacingMode){case Me.Percent:$=S;break;case Me.Proportional:$=S/e;break;default:$=1}for(var K=this.segments,J=0,g=0,v=0,y=0,it=0;g<e;g++,v+=3){var b=o[g]*$;a+=b;var x=a;if(l)x%=S,x<0&&(x+=S),y=0;else if(x<0){this.addBeforePosition(x,h,0,s,v);continue}else if(x>S){this.addAfterPosition(x-S,h,u-4,s,v);continue}for(;;y++){var ut=E[y];if(!(x>ut)){if(y==0)x/=ut;else{var w=E[y-1];x=(x-w)/(ut-w)}break}}if(y!=f){f=y;var at=y*6;for(T=h[at],I=h[at+1],R=h[at+2],A=h[at+3],C=h[at+4],O=h[at+5],N=h[at+6],L=h[at+7],D=(T-R*2+C)*.03,Q=(I-A*2+O)*.03,tt=((R-C)*3-T+N)*.006,V=((A-O)*3-I+L)*.006,W=D*2+tt,X=Q*2+V,j=(R-T)*.3+D+tt*.16666667,Y=(A-I)*.3+Q+V*.16666667,J=Math.sqrt(j*j+Y*Y),K[0]=J,at=1;at<8;at++)j+=W,Y+=X,W+=tt,X+=V,J+=Math.sqrt(j*j+Y*Y),K[at]=J;j+=W,Y+=X,J+=Math.sqrt(j*j+Y*Y),K[8]=J,j+=W+tt,Y+=X+V,J+=Math.sqrt(j*j+Y*Y),K[9]=J,it=0}for(x*=J;;it++){var M=K[it];if(!(x>M)){if(it==0)x/=M;else{var w=K[it-1];x=it+(x-w)/(M-w)}break}}this.addCurvePosition(x*.1,T,I,R,A,C,O,N,L,s,v,n||g>0&&b==0)}return s},r.prototype.addBeforePosition=function(t,e,n,i,a){var o=e[n],s=e[n+1],h=e[n+2]-o,l=e[n+3]-s,u=Math.atan2(l,h);i[a]=o+t*Math.cos(u),i[a+1]=s+t*Math.sin(u),i[a+2]=u},r.prototype.addAfterPosition=function(t,e,n,i,a){var o=e[n+2],s=e[n+3],h=o-e[n],l=s-e[n+1],u=Math.atan2(l,h);i[a]=o+t*Math.cos(u),i[a+1]=s+t*Math.sin(u),i[a+2]=u},r.prototype.addCurvePosition=function(t,e,n,i,a,o,s,h,l,u,c,f){if(t==0||isNaN(t)){u[c]=e,u[c+1]=n,u[c+2]=Math.atan2(a-n,i-e);return}var d=t*t,p=d*t,m=1-t,g=m*m,v=g*m,y=m*t,b=y*3,x=m*b,_=b*t,w=e*v+i*x+o*_+h*p,E=n*v+a*x+s*_+l*p;u[c]=w,u[c+1]=E,f&&(t<.001?u[c+2]=Math.atan2(a-n,i-e):u[c+2]=Math.atan2(E-(n*g+a*y*2+s*d),w-(e*g+i*y*2+o*d)))},r.NONE=-1,r.BEFORE=-2,r.AFTER=-3,r.epsilon=1e-5,r}(),xw=function(){function r(t,e){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new dt,this.darkColor=t.darkColor?new dt:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return r.prototype.getSkeleton=function(){return this.bone.skeleton},r.prototype.getAttachment=function(){return this.attachment},r.prototype.setAttachment=function(t){this.attachment!=t&&((!(t instanceof wn)||!(this.attachment instanceof wn)||t.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)},r.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},r}(),_w=function(){function r(t,e){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Ds,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var n=0;n<t.bones.length;n++){var i=e.findBone(t.bones[n].name);if(!i)throw new Error("Couldn't find bone "+t.bones[n].name+".");this.bones.push(i)}var a=e.findBone(t.target.name);if(!a)throw new Error("Couldn't find target bone "+t.target.name+".");this.target=a}return r.prototype.isActive=function(){return this.active},r.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},r.prototype.applyAbsoluteWorld=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=e!=0||n!=0,h=this.target,l=h.matrix,u=l.a,c=l.c,f=l.b,d=l.d,p=u*d-c*f>0?B.degRad:-B.degRad,m=this.data.offsetRotation*p,g=this.data.offsetShearY*p,v=this.bones,y=0,b=v.length;y<b;y++){var x=v[y],_=x.matrix;if(t!=0){var w=_.a,E=_.c,S=_.b,T=_.d,I=Math.atan2(f,u)-Math.atan2(S,w)+m;I>B.PI?I-=B.PI2:I<-B.PI&&(I+=B.PI2),I*=t;var R=Math.cos(I),A=Math.sin(I);_.a=R*w-A*S,_.c=R*E-A*T,_.b=A*w+R*S,_.d=A*E+R*T}if(s){var C=this.temp;h.localToWorld(C.set(this.data.offsetX,this.data.offsetY)),_.tx+=(C.x-_.tx)*e,_.ty+=(C.y-_.ty)*n}if(i!=0){var O=Math.sqrt(_.a*_.a+_.b*_.b);O!=0&&(O=(O+(Math.sqrt(u*u+f*f)-O+this.data.offsetScaleX)*i)/O),_.a*=O,_.b*=O}if(a!=0){var O=Math.sqrt(_.c*_.c+_.d*_.d);O!=0&&(O=(O+(Math.sqrt(c*c+d*d)-O+this.data.offsetScaleY)*a)/O),_.c*=O,_.d*=O}if(o>0){var E=_.c,T=_.d,N=Math.atan2(T,E),I=Math.atan2(d,c)-Math.atan2(f,u)-(N-Math.atan2(_.b,_.a));I>B.PI?I-=B.PI2:I<-B.PI&&(I+=B.PI2),I=N+(I+g)*o;var O=Math.sqrt(E*E+T*T);_.c=Math.cos(I)*O,_.d=Math.sin(I)*O}x.updateAppliedTransform()}},r.prototype.applyRelativeWorld=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=e!=0||n!=0,h=this.target,l=h.matrix,u=l.a,c=l.c,f=l.b,d=l.d,p=u*d-c*f>0?B.degRad:-B.degRad,m=this.data.offsetRotation*p,g=this.data.offsetShearY*p,v=this.bones,y=0,b=v.length;y<b;y++){var x=v[y],_=x.matrix;if(t!=0){var w=_.a,E=_.c,S=_.b,T=_.d,I=Math.atan2(f,u)+m;I>B.PI?I-=B.PI2:I<-B.PI&&(I+=B.PI2),I*=t;var R=Math.cos(I),A=Math.sin(I);_.a=R*w-A*S,_.c=R*E-A*T,_.b=A*w+R*S,_.d=A*E+R*T}if(s){var C=this.temp;h.localToWorld(C.set(this.data.offsetX,this.data.offsetY)),_.tx+=C.x*e,_.ty+=C.y*n}if(i!=0){var O=(Math.sqrt(u*u+f*f)-1+this.data.offsetScaleX)*i+1;_.a*=O,_.b*=O}if(a!=0){var O=(Math.sqrt(c*c+d*d)-1+this.data.offsetScaleY)*a+1;_.c*=O,_.d*=O}if(o>0){var I=Math.atan2(d,c)-Math.atan2(f,u);I>B.PI?I-=B.PI2:I<-B.PI&&(I+=B.PI2);var E=_.c,T=_.d;I=Math.atan2(T,E)+(I-B.PI/2+g)*o;var O=Math.sqrt(E*E+T*T);_.c=Math.cos(I)*O,_.d=Math.sin(I)*O}x.updateAppliedTransform()}},r.prototype.applyAbsoluteLocal=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,h=this.bones,l=0,u=h.length;l<u;l++){var c=h[l],f=c.arotation;if(t!=0){var d=s.arotation-f+this.data.offsetRotation;d-=(16384-(16384.499999999996-d/360|0))*360,f+=d*t}var p=c.ax,m=c.ay;p+=(s.ax-p+this.data.offsetX)*e,m+=(s.ay-m+this.data.offsetY)*n;var g=c.ascaleX,v=c.ascaleY;i!=0&&g!=0&&(g=(g+(s.ascaleX-g+this.data.offsetScaleX)*i)/g),a!=0&&v!=0&&(v=(v+(s.ascaleY-v+this.data.offsetScaleY)*a)/v);var y=c.ashearY;if(o!=0){var d=s.ashearY-y+this.data.offsetShearY;d-=(16384-(16384.499999999996-d/360|0))*360,y+=d*o}c.updateWorldTransformWith(p,m,f,g,v,c.ashearX,y)}},r.prototype.applyRelativeLocal=function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,h=this.bones,l=0,u=h.length;l<u;l++){var c=h[l],f=c.arotation+(s.arotation+this.data.offsetRotation)*t,d=c.ax+(s.ax+this.data.offsetX)*e,p=c.ay+(s.ay+this.data.offsetY)*n,m=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),g=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),v=c.ashearY+(s.ashearY+this.data.offsetShearY)*o;c.updateWorldTransformWith(d,p,f,m,g,c.ashearX,v)}},r}(),ww=function(){function r(t){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],i=void 0;if(!n.parent)i=new Np(n,this,null);else{var a=this.bones[n.parent.index];i=new Np(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var e=0;e<t.slots.length;e++){var o=t.slots[e],i=this.bones[o.boneData.index],s=new xw(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var e=0;e<t.ikConstraints.length;e++){var h=t.ikConstraints[e];this.ikConstraints.push(new yw(h,this))}this.transformConstraints=new Array;for(var e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new _w(l,this))}this.pathConstraints=new Array;for(var e=0;e<t.pathConstraints.length;e++){var u=t.pathConstraints[e];this.pathConstraints.push(new bw(u,this))}this.color=new dt(1,1,1,1),this.updateCache()}return r.prototype.updateCache=function(){var t=this._updateCache;t.length=0;for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,h=this.transformConstraints,l=this.pathConstraints,u=s.length,c=h.length,f=l.length,d=u+c+f;t:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var m=s[p];if(m.data.order==n){this.sortIkConstraint(m);continue t}}for(var p=0;p<c;p++){var m=h[p];if(m.data.order==n){this.sortTransformConstraint(m);continue t}}for(var p=0;p<f;p++){var m=l[p];if(m.data.order==n){this.sortPathConstraint(m);continue t}}}for(var n=0,i=e.length;n<i;n++)this.sortBone(e[n])},r.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&Z.contains(this.skin.constraints,t.data,!0)),!!t.active){var e=t.target;this.sortBone(e);var n=t.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(t),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(t),this.sortReset(i.children),a.sorted=!0}}},r.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&Z.contains(this.skin.constraints,t.data,!0)),!!t.active){var e=t.target,n=e.data.index,i=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=e.getAttachment();s instanceof Hs&&this.sortPathConstraintAttachmentWith(s,i);for(var h=t.bones,l=h.length,a=0;a<l;a++)this.sortBone(h[a]);this._updateCache.push(t);for(var a=0;a<l;a++)this.sortReset(h[a].children);for(var a=0;a<l;a++)h[a].sorted=!0}},r.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&Z.contains(this.skin.constraints,t.data,!0)),!!t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var a=e[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(e[i]);this._updateCache.push(t);for(var i=0;i<n;i++)this.sortReset(e[i].children);for(var i=0;i<n;i++)e[i].sorted=!0}},r.prototype.sortPathConstraintAttachment=function(t,e,n){var i=t.attachments[e];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},r.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof Hs){var n=t.bones;if(!n)this.sortBone(e);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},r.prototype.sortBone=function(t){if(t&&!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},r.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];!i.active||(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},r.prototype.updateWorldTransform=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,e=0,n=a.length;e<n;e++)a[e].update()},r.prototype.updateWorldTransformWith=function(t){var e=this.getRootBone(),n=t.matrix.a,i=t.matrix.c,a=t.matrix.b,o=t.matrix.d;e.matrix.tx=n*this.x+i*this.y+t.worldX,e.matrix.ty=a*this.x+o*this.y+t.worldY;var s=e.rotation+90+e.shearY,h=B.cosDeg(e.rotation+e.shearX)*e.scaleX,l=B.cosDeg(s)*e.scaleY,u=B.sinDeg(e.rotation+e.shearX)*e.scaleX,c=B.sinDeg(s)*e.scaleY,f=this.scaleX,d=-this.scaleY;e.matrix.a=(n*h+i*u)*f,e.matrix.c=(n*l+i*c)*f,e.matrix.b=(a*h+o*u)*d,e.matrix.d=(a*l+o*c)*d;for(var p=this._updateCache,m=0,g=p.length;m<g;m++){var v=p[m];v!=e&&v.update()}},r.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},r.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,e=0,n=i.length;e<n;e++){var a=i[e];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,e=0,n=o.length;e<n;e++){var a=o[e],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var h=this.pathConstraints,e=0,n=h.length;e<n;e++){var a=h[e],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},r.prototype.setSlotsToSetupPose=function(){var t=this.slots;Z.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},r.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},r.prototype.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},r.prototype.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},r.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)},r.prototype.setSkin=function(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n],o=a.data.attachmentName;if(o){var s=t.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=t,this.updateCache()}},r.prototype.getAttachmentByName=function(t,e){var n=this.data.findSlot(t);if(!n)throw new Error("Can't find slot with name "+t);return this.getAttachment(n.index,e)},r.prototype.getAttachment=function(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(t,e);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},r.prototype.setAttachment=function(t,e){if(!t)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==t){var s=null;if(e&&(s=this.getAttachment(i,e),!s))throw new Error("Attachment not found: "+e+", for slot: "+t);o.setAttachment(s);return}}throw new Error("Slot not found: "+t)},r.prototype.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},r.prototype.getBoundsRect=function(){var t=new Ds,e=new Ds;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}},r.prototype.getBounds=function(t,e,n){if(n===void 0&&(n=new Array(2)),!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var c=i[l];if(c.bone.active){var f=0,d=null,p=c.getAttachment();if(p instanceof lp)f=8,d=Z.setArraySize(n,f,0),p.computeWorldVertices(c,d,0,2);else if(p instanceof Ju){var m=p;f=m.worldVerticesLength,d=Z.setArraySize(n,f,0),m.computeWorldVertices(c,0,f,d,0,2)}if(d)for(var g=0,v=d.length;g<v;g+=2){var y=d[g],b=d[g+1];a=Math.min(a,y),o=Math.min(o,b),s=Math.max(s,y),h=Math.max(h,b)}}}t.set(a,o),e.set(s-a,h-o)},Object.defineProperty(r.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1},enumerable:!1,configurable:!0}),r.deprecatedWarning1=!1,r}(),Yp=function(){function r(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return r.prototype.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r.prototype.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r.prototype.findSkin=function(t){if(!t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findEvent=function(t){if(!t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findAnimation=function(t){if(!t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},r.prototype.findPathConstraintIndex=function(t){if(t==null)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},r}(),jp=function(){function r(t,e,n){if(this.index=0,this.color=new dt(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=gt.NORMAL,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}return r}(),Up=function(r){Yt(t,r);function t(e){var n=r.call(this,e,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(t.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),t}(rh),Wp=function(){function r(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n}return r}(),nh=function(){function r(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}return r.prototype.setAttachment=function(t,e,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n},r.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var e=0;e<t.constraints.length;e++){for(var o=t.constraints[e],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var h=s[e];this.setAttachment(h.slotIndex,h.name,h.attachment)}},r.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var e=0;e<t.constraints.length;e++){for(var o=t.constraints[e],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var h=s[e];!h.attachment||(h.attachment instanceof Ju?(h.attachment=h.attachment.newLinkedMesh(),this.setAttachment(h.slotIndex,h.name,h.attachment)):(h.attachment=h.attachment.copy(),this.setAttachment(h.slotIndex,h.name,h.attachment)))}},r.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},r.prototype.removeAttachment=function(t,e){var n=this.attachments[t];n&&delete n[e]},r.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&t.push(new Wp(e,i,a))}}return t},r.prototype.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var i in n){var a=n[i];a&&e.push(new Wp(t,i,a))}},r.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},r.prototype.attachAll=function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var a=t.slots[i],o=a.getAttachment();if(o&&n<e.attachments.length){var s=e.attachments[n];for(var h in s){var l=s[h];if(o==l){var u=this.getAttachment(n,h);u&&a.setAttachment(u);break}}}n++}},r}(),Ew=function(){function r(t){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return r.prototype.readSkeletonData=function(t){var e=this.scale,n=new Yp;n.name="";var i=new Wu(t),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var h="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(h)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var c=0;c<u;c++){var f=i.readString();if(!f)throw new Error("String in string table must not be null.");i.strings.push(f)}u=i.readInt(!0);for(var c=0;c<u;c++){var d=i.readString();if(!d)throw new Error("Bone name must not be null.");var p=c==0?null:n.bones[i.readInt(!0)],m=new Dp(c,d,p);m.rotation=i.readFloat(),m.x=i.readFloat()*e,m.y=i.readFloat()*e,m.scaleX=i.readFloat(),m.scaleY=i.readFloat(),m.shearX=i.readFloat(),m.shearY=i.readFloat(),m.length=i.readFloat()*e,m.transformMode=i.readInt(!0),m.skinRequired=i.readBoolean(),l&&dt.rgba8888ToColor(m.color,i.readInt32()),n.bones.push(m)}u=i.readInt(!0);for(var c=0;c<u;c++){var g=i.readString();if(!g)throw new Error("Slot name must not be null.");var v=n.bones[i.readInt(!0)],m=new jp(c,g,v);dt.rgba8888ToColor(m.color,i.readInt32());var y=i.readInt32();y!=-1&&dt.rgb888ToColor(m.darkColor=new dt,y),m.attachmentName=i.readStringRef(),m.blendMode=i.readInt(!0),n.slots.push(m)}u=i.readInt(!0);for(var c=0,b=void 0;c<u;c++){var x=i.readString();if(!x)throw new Error("IK constraint data name must not be null.");var m=new Vp(x);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),b=i.readInt(!0);for(var _=0;_<b;_++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.mix=i.readFloat(),m.softness=i.readFloat()*e,m.bendDirection=i.readByte(),m.compress=i.readBoolean(),m.stretch=i.readBoolean(),m.uniform=i.readBoolean(),n.ikConstraints.push(m)}u=i.readInt(!0);for(var c=0,b=void 0;c<u;c++){var w=i.readString();if(!w)throw new Error("Transform constraint data name must not be null.");var m=new Up(w);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),b=i.readInt(!0);for(var _=0;_<b;_++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.local=i.readBoolean(),m.relative=i.readBoolean(),m.offsetRotation=i.readFloat(),m.offsetX=i.readFloat()*e,m.offsetY=i.readFloat()*e,m.offsetScaleX=i.readFloat(),m.offsetScaleY=i.readFloat(),m.offsetShearY=i.readFloat(),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),m.mixScaleX=i.readFloat(),m.mixScaleY=i.readFloat(),m.mixShearY=i.readFloat(),n.transformConstraints.push(m)}u=i.readInt(!0);for(var c=0,b=void 0;c<u;c++){var E=i.readString();if(!E)throw new Error("Path constraint data name must not be null.");var m=new Xp(E);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),b=i.readInt(!0);for(var _=0;_<b;_++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.slots[i.readInt(!0)],m.positionMode=i.readInt(!0),m.spacingMode=i.readInt(!0),m.rotateMode=i.readInt(!0),m.offsetRotation=i.readFloat(),m.position=i.readFloat(),m.positionMode==pe.Fixed&&(m.position*=e),m.spacing=i.readFloat(),(m.spacingMode==Me.Length||m.spacingMode==Me.Fixed)&&(m.spacing*=e),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),n.pathConstraints.push(m)}var S=this.readSkin(i,n,!0,l);S&&(n.defaultSkin=S,n.skins.push(S));{var c=n.skins.length;for(Z.setArraySize(n.skins,u=c+i.readInt(!0));c<u;c++){var T=this.readSkin(i,n,!1,l);if(!T)throw new Error("readSkin() should not have returned null.");n.skins[c]=T}}u=this.linkedMeshes.length;for(var c=0;c<u;c++){var I=this.linkedMeshes[c],T=I.skin?n.findSkin(I.skin):n.defaultSkin;if(!T)throw new Error("Not skin found for linked mesh.");if(!I.parent)throw new Error("Linked mesh parent must not be null");var R=T.getAttachment(I.slotIndex,I.parent);if(!R)throw new Error("Parent mesh not found: "+I.parent);I.mesh.timelineAttachment=I.inheritTimeline?R:I.mesh,I.mesh.setParentMesh(R)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var c=0;c<u;c++){var A=i.readStringRef();if(!A)throw new Error;var m=new Bp(A);m.intValue=i.readInt(!1),m.floatValue=i.readFloat(),m.stringValue=i.readString(),m.audioPath=i.readString(),m.audioPath&&(m.volume=i.readFloat(),m.balance=i.readFloat()),n.events.push(m)}u=i.readInt(!0);for(var c=0;c<u;c++){var C=i.readString();if(!C)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,C,n))}return n},r.prototype.readSkin=function(t,e,n,i){var a=null,o=0;if(n){if(o=t.readInt(!0),o==0)return null;a=new nh("default")}else{var s=t.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new nh(s),a.bones.length=t.readInt(!0);for(var h=0,l=a.bones.length;h<l;h++)a.bones[h]=e.bones[t.readInt(!0)];for(var h=0,l=t.readInt(!0);h<l;h++)a.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var h=0,l=t.readInt(!0);h<l;h++)a.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var h=0,l=t.readInt(!0);h<l;h++)a.constraints.push(e.pathConstraints[t.readInt(!0)]);o=t.readInt(!0)}for(var h=0;h<o;h++)for(var u=t.readInt(!0),c=0,f=t.readInt(!0);c<f;c++){var d=t.readStringRef();if(!d)throw new Error("Attachment name must not be null");var p=this.readAttachment(t,e,a,u,d,i);p&&a.setAttachment(u,d,p)}return a},r.prototype.readAttachment=function(t,e,n,i,a,o){var s=this.scale,h=t.readStringRef();switch(h||(h=a),t.readByte()){case Vt.Region:{var l=t.readStringRef(),u=t.readFloat(),c=t.readFloat(),f=t.readFloat(),d=t.readFloat(),p=t.readFloat(),m=t.readFloat(),g=t.readFloat(),v=t.readInt32(),y=this.readSequence(t);l||(l=h);var b=this.attachmentLoader.newRegionAttachment(n,h,l,y);return b?(b.path=l,b.x=c*s,b.y=f*s,b.scaleX=d,b.scaleY=p,b.rotation=u,b.width=m*s,b.height=g*s,dt.rgba8888ToColor(b.color,v),b.sequence=y,y==null&&b.updateRegion(),b):null}case Vt.BoundingBox:{var x=t.readInt(!0),_=this.readVertices(t,x),v=o?t.readInt32():0,w=this.attachmentLoader.newBoundingBoxAttachment(n,h);return w?(w.worldVerticesLength=x<<1,w.vertices=_.vertices,w.bones=_.bones,o&&dt.rgba8888ToColor(w.color,v),w):null}case Vt.Mesh:{var l=t.readStringRef(),v=t.readInt32(),x=t.readInt(!0),E=this.readFloatArray(t,x<<1,1),S=this.readShortArray(t),_=this.readVertices(t,x),T=t.readInt(!0),y=this.readSequence(t),I=[],m=0,g=0;o&&(I=this.readShortArray(t),m=t.readFloat(),g=t.readFloat()),l||(l=h);var R=this.attachmentLoader.newMeshAttachment(n,h,l,y);return R?(R.path=l,dt.rgba8888ToColor(R.color,v),R.bones=_.bones,R.vertices=_.vertices,R.worldVerticesLength=x<<1,R.triangles=S,R.regionUVs=new Float32Array(E),R.hullLength=T<<1,R.sequence=y,o&&(R.edges=I,R.width=m*s,R.height=g*s),R):null}case Vt.LinkedMesh:{var l=t.readStringRef(),v=t.readInt32(),A=t.readStringRef(),C=t.readStringRef(),O=t.readBoolean(),y=this.readSequence(t),m=0,g=0;o&&(m=t.readFloat(),g=t.readFloat()),l||(l=h);var R=this.attachmentLoader.newMeshAttachment(n,h,l,y);return R?(R.path=l,dt.rgba8888ToColor(R.color,v),R.sequence=y,o&&(R.width=m*s,R.height=g*s),this.linkedMeshes.push(new tB(R,A,i,C,O)),R):null}case Vt.Path:{for(var N=t.readBoolean(),L=t.readBoolean(),x=t.readInt(!0),_=this.readVertices(t,x),D=Z.newArray(x/3,0),Q=0,tt=D.length;Q<tt;Q++)D[Q]=t.readFloat()*s;var v=o?t.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,h);return l?(l.closed=N,l.constantSpeed=L,l.worldVerticesLength=x<<1,l.vertices=_.vertices,l.bones=_.bones,l.lengths=D,o&&dt.rgba8888ToColor(l.color,v),l):null}case Vt.Point:{var u=t.readFloat(),c=t.readFloat(),f=t.readFloat(),v=o?t.readInt32():0,V=this.attachmentLoader.newPointAttachment(n,h);return V?(V.x=c*s,V.y=f*s,V.rotation=u,o&&dt.rgba8888ToColor(V.color,v),V):null}case Vt.Clipping:{var W=t.readInt(!0),x=t.readInt(!0),_=this.readVertices(t,x),v=o?t.readInt32():0,X=this.attachmentLoader.newClippingAttachment(n,h);return X?(X.endSlot=e.slots[W],X.worldVerticesLength=x<<1,X.vertices=_.vertices,X.bones=_.bones,o&&dt.rgba8888ToColor(X.color,v),X):null}}return null},r.prototype.readSequence=function(t){if(this.ver40||!t.readBoolean())return null;var e=new up(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e},r.prototype.readDeformTimelineType=function(t){return this.ver40?Sw:t.readByte()},r.prototype.readVertices=function(t,e){var n=this.scale,i=e<<1,a=new eB;if(!t.readBoolean())return a.vertices=this.readFloatArray(t,i,n),a;for(var o=new Array,s=new Array,h=0;h<e;h++){var l=t.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(t.readInt(!0)),o.push(t.readFloat()*n),o.push(t.readFloat()*n),o.push(t.readFloat())}return a.vertices=Z.toFloatArray(o),a.bones=s,a},r.prototype.readFloatArray=function(t,e,n){var i=new Array(e);if(n==1)for(var a=0;a<e;a++)i[a]=t.readFloat();else for(var a=0;a<e;a++)i[a]=t.readFloat()*n;return i},r.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),i=0;i<e;i++)n[i]=t.readShort();return n},r.prototype.readAnimation=function(t,e,n){t.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=t.readInt(!0);o<s;o++)for(var h=t.readInt(!0),l=0,u=t.readInt(!0);l<u;l++){var c=t.readByte(),f=t.readInt(!0),d=f-1;switch(c){case fB:{for(var p=new wa(f,h),m=0;m<f;m++)p.setFrame(m,t.readFloat(),t.readStringRef());i.push(p);break}case dB:{for(var g=t.readInt(!0),p=new xp(f,g,h),v=t.readFloat(),y=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,_=t.readUnsignedByte()/255,m=0,w=0;p.setFrame(m,v,y,b,x,_),m!=d;m++){var E=t.readFloat(),S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255,R=t.readUnsignedByte()/255;switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,y,S,1),zt(t,p,w++,m,1,v,E,b,T,1),zt(t,p,w++,m,2,v,E,x,I,1),zt(t,p,w++,m,3,v,E,_,R,1)}v=E,y=S,b=T,x=I,_=R}i.push(p);break}case pB:{for(var g=t.readInt(!0),p=new _p(f,g,h),v=t.readFloat(),y=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,m=0,w=0;p.setFrame(m,v,y,b,x),m!=d;m++){var E=t.readFloat(),S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255;switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,y,S,1),zt(t,p,w++,m,1,v,E,b,T,1),zt(t,p,w++,m,2,v,E,x,I,1)}v=E,y=S,b=T,x=I}i.push(p);break}case mB:{for(var g=t.readInt(!0),p=new Ep(f,g,h),v=t.readFloat(),y=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,_=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255,m=0,w=0;p.setFrame(m,v,y,b,x,_,S,T,I),m!=d;m++){var E=t.readFloat(),A=t.readUnsignedByte()/255,C=t.readUnsignedByte()/255,O=t.readUnsignedByte()/255,N=t.readUnsignedByte()/255,L=t.readUnsignedByte()/255,D=t.readUnsignedByte()/255,Q=t.readUnsignedByte()/255;switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,y,A,1),zt(t,p,w++,m,1,v,E,b,C,1),zt(t,p,w++,m,2,v,E,x,O,1),zt(t,p,w++,m,3,v,E,_,N,1),zt(t,p,w++,m,4,v,E,S,L,1),zt(t,p,w++,m,5,v,E,T,D,1),zt(t,p,w++,m,6,v,E,I,Q,1)}v=E,y=A,b=C,x=O,_=N,S=L,T=D,I=Q}i.push(p);break}case vB:{for(var g=t.readInt(!0),p=new Sp(f,g,h),v=t.readFloat(),y=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255,m=0,w=0;p.setFrame(m,v,y,b,x,S,T,I),m!=d;m++){var E=t.readFloat(),A=t.readUnsignedByte()/255,C=t.readUnsignedByte()/255,O=t.readUnsignedByte()/255,L=t.readUnsignedByte()/255,D=t.readUnsignedByte()/255,Q=t.readUnsignedByte()/255;switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,y,A,1),zt(t,p,w++,m,1,v,E,b,C,1),zt(t,p,w++,m,2,v,E,x,O,1),zt(t,p,w++,m,3,v,E,S,L,1),zt(t,p,w++,m,4,v,E,T,D,1),zt(t,p,w++,m,5,v,E,I,Q,1)}v=E,y=A,b=C,x=O,S=L,T=D,I=Q}i.push(p);break}case gB:{for(var p=new wp(f,t.readInt(!0),h),v=t.readFloat(),_=t.readUnsignedByte()/255,m=0,w=0;p.setFrame(m,v,_),m!=d;m++){var E=t.readFloat(),R=t.readUnsignedByte()/255;switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,_,R,1)}v=E,_=R}i.push(p)}}}for(var o=0,s=t.readInt(!0);o<s;o++)for(var tt=t.readInt(!0),l=0,u=t.readInt(!0);l<u;l++){var V=t.readByte(),f=t.readInt(!0),g=t.readInt(!0);switch(V){case rB:i.push(Wn(t,new qs(f,g,tt),1));break;case nB:i.push(zp(t,new cp(f,g,tt),a));break;case iB:i.push(Wn(t,new fp(f,g,tt),a));break;case aB:i.push(Wn(t,new dp(f,g,tt),a));break;case oB:i.push(zp(t,new pp(f,g,tt),1));break;case sB:i.push(Wn(t,new mp(f,g,tt),1));break;case lB:i.push(Wn(t,new vp(f,g,tt),1));break;case uB:i.push(zp(t,new gp(f,g,tt),1));break;case hB:i.push(Wn(t,new yp(f,g,tt),1));break;case cB:i.push(Wn(t,new bp(f,g,tt),1))}}for(var o=0,s=t.readInt(!0);o<s;o++){for(var W=t.readInt(!0),f=t.readInt(!0),d=f-1,p=new Ip(f,t.readInt(!0),W),v=t.readFloat(),X=t.readFloat(),j=t.readFloat()*a,m=0,w=0;p.setFrame(m,v,X,j,t.readByte(),t.readBoolean(),t.readBoolean()),m!=d;m++){var E=t.readFloat(),Y=t.readFloat(),q=t.readFloat()*a;switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,X,Y,1),zt(t,p,w++,m,1,v,E,j,q,a)}v=E,X=Y,j=q}i.push(p)}for(var o=0,s=t.readInt(!0);o<s;o++){for(var W=t.readInt(!0),f=t.readInt(!0),d=f-1,p=new Ap(f,t.readInt(!0),W),v=t.readFloat(),$=t.readFloat(),K=t.readFloat(),J=t.readFloat(),it=t.readFloat(),ut=t.readFloat(),at=t.readFloat(),m=0,w=0;p.setFrame(m,v,$,K,J,it,ut,at),m!=d;m++){var E=t.readFloat(),M=t.readFloat(),k=t.readFloat(),U=t.readFloat(),H=t.readFloat(),G=t.readFloat(),rt=t.readFloat();switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,$,M,1),zt(t,p,w++,m,1,v,E,K,k,1),zt(t,p,w++,m,2,v,E,J,U,1),zt(t,p,w++,m,3,v,E,it,H,1),zt(t,p,w++,m,4,v,E,ut,G,1),zt(t,p,w++,m,5,v,E,at,rt,1)}v=E,$=M,K=k,J=U,it=H,ut=G,at=rt}i.push(p)}for(var o=0,s=t.readInt(!0);o<s;o++)for(var W=t.readInt(!0),ht=n.pathConstraints[W],l=0,u=t.readInt(!0);l<u;l++)switch(t.readByte()){case bB:i.push(Wn(t,new Pp(t.readInt(!0),t.readInt(!0),W),ht.positionMode==pe.Fixed?a:1));break;case xB:i.push(Wn(t,new Cp(t.readInt(!0),t.readInt(!0),W),ht.spacingMode==Me.Length||ht.spacingMode==Me.Fixed?a:1));break;case _B:for(var p=new Mp(t.readInt(!0),t.readInt(!0),W),v=t.readFloat(),$=t.readFloat(),K=t.readFloat(),J=t.readFloat(),m=0,w=0,d=p.getFrameCount()-1;p.setFrame(m,v,$,K,J),m!=d;m++){var E=t.readFloat(),M=t.readFloat(),k=t.readFloat(),U=t.readFloat();switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,$,M,1),zt(t,p,w++,m,1,v,E,K,k,1),zt(t,p,w++,m,2,v,E,J,U,1)}v=E,$=M,K=k,J=U}i.push(p)}for(var o=0,s=t.readInt(!0);o<s;o++)for(var ot=n.skins[t.readInt(!0)],l=0,u=t.readInt(!0);l<u;l++)for(var h=t.readInt(!0),z=0,nt=t.readInt(!0);z<nt;z++){var lt=t.readStringRef();if(!lt)throw new Error("attachmentName must not be null.");var pt=ot.getAttachment(h,lt),c=this.readDeformTimelineType(t),f=t.readInt(!0),d=f-1;switch(c){case Sw:{for(var bt=pt,wt=bt.bones,Et=bt.vertices,Lt=wt?Et.length/3*2:Et.length,g=t.readInt(!0),p=new Tp(f,g,h,bt),v=t.readFloat(),m=0,w=0;;m++){var kt=void 0,Ht=t.readInt(!0);if(Ht==0)kt=wt?Z.newFloatArray(Lt):Et;else{kt=Z.newFloatArray(Lt);var Le=t.readInt(!0);if(Ht+=Le,a==1)for(var ie=Le;ie<Ht;ie++)kt[ie]=t.readFloat();else for(var ie=Le;ie<Ht;ie++)kt[ie]=t.readFloat()*a;if(!wt)for(var ie=0,Hn=kt.length;ie<Hn;ie++)kt[ie]+=Et[ie]}if(p.setFrame(m,v,kt),m==d)break;var E=t.readFloat();switch(t.readByte()){case rn:p.setStepped(m);break;case nn:zt(t,p,w++,m,0,v,E,0,1,1)}v=E}i.push(p);break}case yB:{for(var p=new Rp(f,h,pt),m=0;m<f;m++){var v=t.readFloat(),an=t.readInt32();p.setFrame(m,v,hp[an&15],an>>4,t.readFloat())}i.push(p);break}}}var te=t.readInt(!0);if(te>0){for(var p=new Eo(te),be=n.slots.length,o=0;o<te;o++){for(var v=t.readFloat(),Qe=t.readInt(!0),on=Z.newArray(be,0),l=be-1;l>=0;l--)on[l]=-1;for(var al=Z.newArray(be-Qe,0),Ei=0,Si=0,l=0;l<Qe;l++){for(var h=t.readInt(!0);Ei!=h;)al[Si++]=Ei++;on[Ei+t.readInt(!0)]=Ei++}for(;Ei<be;)al[Si++]=Ei++;for(var l=be-1;l>=0;l--)on[l]==-1&&(on[l]=al[--Si]);p.setFrame(o,v,on)}i.push(p)}var Io=t.readInt(!0);if(Io>0){for(var p=new eh(Io),o=0;o<Io;o++){var v=t.readFloat(),Ti=n.events[t.readInt(!0)],Br=new Lp(v,Ti);Br.intValue=t.readInt(!1),Br.floatValue=t.readFloat(),Br.stringValue=t.readBoolean()?t.readString():Ti.stringValue,Br.data.audioPath&&(Br.volume=t.readFloat(),Br.balance=t.readFloat()),p.setFrame(o,Br)}i.push(p)}for(var Ta=0,o=0,s=i.length;o<s;o++)Ta=Math.max(Ta,i[o].getDuration());return new Qu(e,i,Ta)},r.BlendModeValues=[gt.NORMAL,gt.ADD,gt.MULTIPLY,gt.SCREEN],r}(),tB=function(){function r(t,e,n,i,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return r}(),eB=function(){function r(t,e){t===void 0&&(t=null),e===void 0&&(e=null),this.bones=t,this.vertices=e}return r}();function Wn(r,t,e){for(var n=r.readFloat(),i=r.readFloat()*e,a=0,o=0,s=t.getFrameCount()-1;t.setFrame(a,n,i),a!=s;a++){var h=r.readFloat(),l=r.readFloat()*e;switch(r.readByte()){case rn:t.setStepped(a);break;case nn:zt(r,t,o++,a,0,n,h,i,l,e)}n=h,i=l}return t}function zp(r,t,e){for(var n=r.readFloat(),i=r.readFloat()*e,a=r.readFloat()*e,o=0,s=0,h=t.getFrameCount()-1;t.setFrame(o,n,i,a),o!=h;o++){var l=r.readFloat(),u=r.readFloat()*e,c=r.readFloat()*e;switch(r.readByte()){case rn:t.setStepped(o);break;case nn:zt(r,t,s++,o,0,n,l,i,u,e),zt(r,t,s++,o,1,n,l,a,c,e)}n=l,i=u,a=c}return t}function zt(r,t,e,n,i,a,o,s,h,l){t.setBezier(e,n,i,a,s,r.readFloat(),r.readFloat()*l,r.readFloat(),r.readFloat()*l,o,h)}var rB=0,nB=1,iB=2,aB=3,oB=4,sB=5,lB=6,uB=7,hB=8,cB=9,fB=0,dB=1,pB=2,mB=3,vB=4,gB=5,Sw=0,yB=1,bB=0,xB=1,_B=2,rn=1,nn=2,wB=function(){function r(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new xo(function(){return Z.newFloatArray(16)})}return r.prototype.update=function(t,e){if(!t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=t.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var h=0;h<s;h++){var l=o[h];if(l.bone.active){var u=l.getAttachment();if(u instanceof sp){var c=u;n.push(c);var f=a.obtain();f.length!=c.worldVerticesLength&&(f=Z.newFloatArray(c.worldVerticesLength)),i.push(f),c.computeWorldVertices(l,0,c.worldVerticesLength,f,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},r.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var h=a[o],l=h,u=0,c=h.length;u<c;u+=2){var f=l[u],d=l[u+1];t=Math.min(t,f),e=Math.min(e,d),n=Math.max(n,f),i=Math.max(i,d)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=i},r.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},r.prototype.aabbIntersectsSegment=function(t,e,n,i){var a=this.minX,o=this.minY,s=this.maxX,h=this.maxY;if(t<=a&&n<=a||e<=o&&i<=o||t>=s&&n>=s||e>=h&&i>=h)return!1;var l=(i-e)/(n-t),u=l*(a-t)+e;if(u>o&&u<h||(u=l*(s-t)+e,u>o&&u<h))return!0;var c=(o-e)/l+t;return c>a&&c<s||(c=(h-e)/l+t,c>a&&c<s)},r.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},r.prototype.containsPoint=function(t,e){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null},r.prototype.containsPointPolygon=function(t,e,n){for(var i=t,a=t.length,o=a-2,s=!1,h=0;h<a;h+=2){var l=i[h+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var c=i[h];c+(n-l)/(u-l)*(i[o]-c)<e&&(s=!s)}o=h}return s},r.prototype.intersectsSegment=function(t,e,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],t,e,n,i))return this.boundingBoxes[o];return null},r.prototype.intersectsSegmentPolygon=function(t,e,n,i,a){for(var o=t,s=t.length,h=e-i,l=n-a,u=e*a-n*i,c=o[s-2],f=o[s-1],d=0;d<s;d+=2){var p=o[d],m=o[d+1],g=c*m-f*p,v=c-p,y=f-m,b=h*y-l*v,x=(u*v-h*g)/b;if((x>=c&&x<=p||x>=p&&x<=c)&&(x>=e&&x<=i||x>=i&&x<=e)){var _=(u*y-l*g)/b;if((_>=f&&_<=m||_>=m&&_<=f)&&(_>=n&&_<=a||_>=a&&_<=n))return!0}c=p,f=m}return!1},r.prototype.getPolygon=function(t){if(!t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return e==-1?null:this.polygons[e]},r.prototype.getWidth=function(){return this.maxX-this.minX},r.prototype.getHeight=function(){return this.maxY-this.minY},r}(),Tw=function(){function r(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return r.prototype.readSkeletonData=function(t){var e=this.scale,n=new Yp,i=typeof t=="string"?JSON.parse(t):t,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var h=0;h<i.bones.length;h++){var l=i.bones[h],u=null,c=et(l,"parent",null);if(c!=null&&(u=n.findBone(c),u==null))throw new Error("Parent bone not found: "+c);var f=new Dp(n.bones.length,l.name,u);f.length=et(l,"length",0)*e,f.x=et(l,"x",0)*e,f.y=et(l,"y",0)*e,f.rotation=et(l,"rotation",0),f.scaleX=et(l,"scaleX",1),f.scaleY=et(l,"scaleY",1),f.shearX=et(l,"shearX",0),f.shearY=et(l,"shearY",0),f.transformMode=Z.enumValue(Mt,et(l,"transform","Normal")),f.skinRequired=et(l,"skin",!1);var d=et(l,"color",null);d&&f.color.setFromString(d),n.bones.push(f)}if(i.slots)for(var h=0;h<i.slots.length;h++){var p=i.slots[h],m=n.findBone(p.bone);if(!m)throw new Error("Couldn't find bone "+p.bone+" for slot "+p.name);var f=new jp(n.slots.length,p.name,m),d=et(p,"color",null);d&&f.color.setFromString(d);var g=et(p,"dark",null);g&&(f.darkColor=dt.fromString(g)),f.attachmentName=et(p,"attachment",null),f.blendMode=r.blendModeFromString(et(p,"blend","normal")),n.slots.push(f)}if(i.ik)for(var h=0;h<i.ik.length;h++){var v=i.ik[h],f=new Vp(v.name);f.order=et(v,"order",0),f.skinRequired=et(v,"skin",!1);for(var y=0;y<v.bones.length;y++){var b=v.bones[y],x=n.findBone(b);if(x==null)throw new Error("IK bone not found: "+b);f.bones.push(x)}f.target=n.findBone(v.target),f.mix=et(v,"mix",1),f.softness=et(v,"softness",0)*e,f.bendDirection=et(v,"bendPositive",!0)?1:-1,f.compress=et(v,"compress",!1),f.stretch=et(v,"stretch",!1),f.uniform=et(v,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var h=0;h<i.transform.length;h++){var v=i.transform[h],f=new Up(v.name);f.order=et(v,"order",0),f.skinRequired=et(v,"skin",!1);for(var y=0;y<v.bones.length;y++){var b=v.bones[y],x=n.findBone(b);if(!x)throw new Error("Couldn't find bone "+b+" for transform constraint "+v.name+".");f.bones.push(x)}var _=v.target,w=n.findBone(_);if(!w)throw new Error("Couldn't find target bone "+_+" for transform constraint "+v.name+".");f.target=w,f.local=et(v,"local",!1),f.relative=et(v,"relative",!1),f.offsetRotation=et(v,"rotation",0),f.offsetX=et(v,"x",0)*e,f.offsetY=et(v,"y",0)*e,f.offsetScaleX=et(v,"scaleX",0),f.offsetScaleY=et(v,"scaleY",0),f.offsetShearY=et(v,"shearY",0),f.mixRotate=et(v,"mixRotate",1),f.mixX=et(v,"mixX",1),f.mixY=et(v,"mixY",f.mixX),f.mixScaleX=et(v,"mixScaleX",1),f.mixScaleY=et(v,"mixScaleY",f.mixScaleX),f.mixShearY=et(v,"mixShearY",1),n.transformConstraints.push(f)}if(i.path)for(var h=0;h<i.path.length;h++){var v=i.path[h],f=new Xp(v.name);f.order=et(v,"order",0),f.skinRequired=et(v,"skin",!1);for(var y=0;y<v.bones.length;y++){var b=v.bones[y],x=n.findBone(b);if(!x)throw new Error("Couldn't find bone "+b+" for path constraint "+v.name+".");f.bones.push(x)}var _=v.target,w=n.findSlot(_);if(!w)throw new Error("Couldn't find target slot "+_+" for path constraint "+v.name+".");f.target=w,f.positionMode=Z.enumValue(pe,et(v,"positionMode","Percent")),f.spacingMode=Z.enumValue(Me,et(v,"spacingMode","Length")),f.rotateMode=Z.enumValue(_e,et(v,"rotateMode","Tangent")),f.offsetRotation=et(v,"rotation",0),f.position=et(v,"position",0),f.positionMode==pe.Fixed&&(f.position*=e),f.spacing=et(v,"spacing",0),(f.spacingMode==Me.Length||f.spacingMode==Me.Fixed)&&(f.spacing*=e),f.mixRotate=et(v,"mixRotate",1),f.mixX=et(v,"mixX",1),f.mixY=et(v,"mixY",f.mixX),n.pathConstraints.push(f)}if(i.skins)for(var h=0;h<i.skins.length;h++){var E=i.skins[h],S=new nh(E.name);if(E.bones)for(var y=0;y<E.bones.length;y++){var b=E.bones[y],x=n.findBone(b);if(!x)throw new Error("Couldn't find bone "+b+" for skin "+E.name+".");S.bones.push(x)}if(E.ik)for(var y=0;y<E.ik.length;y++){var T=E.ik[y],I=n.findIkConstraint(T);if(!I)throw new Error("Couldn't find IK constraint "+T+" for skin "+E.name+".");S.constraints.push(I)}if(E.transform)for(var y=0;y<E.transform.length;y++){var T=E.transform[y],I=n.findTransformConstraint(T);if(!I)throw new Error("Couldn't find transform constraint "+T+" for skin "+E.name+".");S.constraints.push(I)}if(E.path)for(var y=0;y<E.path.length;y++){var T=E.path[y],I=n.findPathConstraint(T);if(!I)throw new Error("Couldn't find path constraint "+T+" for skin "+E.name+".");S.constraints.push(I)}for(var R in E.attachments){var A=n.findSlot(R);if(!A)throw new Error("Couldn't find slot "+R+" for skin "+E.name+".");var p=E.attachments[R];for(var C in p){var O=this.readAttachment(p[C],S,A.index,C,n);O&&S.setAttachment(A.index,C,O)}}n.skins.push(S),S.name=="default"&&(n.defaultSkin=S)}for(var h=0,N=this.linkedMeshes.length;h<N;h++){var L=this.linkedMeshes[h],S=L.skin?n.findSkin(L.skin):n.defaultSkin;if(!S)throw new Error("Skin not found: "+L.skin);var D=S.getAttachment(L.slotIndex,L.parent);if(!D)throw new Error("Parent mesh not found: "+L.parent);L.mesh.timelineAttachment=L.inheritTimeline?D:L.mesh,L.mesh.setParentMesh(D)}if(this.linkedMeshes.length=0,i.events)for(var Q in i.events){var tt=i.events[Q],f=new Bp(Q);f.intValue=et(tt,"int",0),f.floatValue=et(tt,"float",0),f.stringValue=et(tt,"string",""),f.audioPath=et(tt,"audio",null),f.audioPath&&(f.volume=et(tt,"volume",1),f.balance=et(tt,"balance",0)),n.events.push(f)}if(i.animations)for(var V in i.animations){var W=i.animations[V];this.readAnimation(W,V,n)}return n},r.prototype.readAttachment=function(t,e,n,i,a){var o=this.scale;switch(i=et(t,"name",i),et(t,"type","region")){case"region":{var s=et(t,"path",i),h=this.readSequence(et(t,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(e,i,s,h);if(!l)return null;l.path=s,l.x=et(t,"x",0)*o,l.y=et(t,"y",0)*o,l.scaleX=et(t,"scaleX",1),l.scaleY=et(t,"scaleY",1),l.rotation=et(t,"rotation",0),l.width=t.width*o,l.height=t.height*o,l.sequence=h;var u=et(t,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var c=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(!c)return null;this.readVertices(t,c,t.vertexCount<<1);var u=et(t,"color",null);return u&&c.color.setFromString(u),c}case"mesh":case"linkedmesh":{var s=et(t,"path",i),h=this.readSequence(et(t,"sequence",null)),f=this.attachmentLoader.newMeshAttachment(e,i,s,h);if(!f)return null;f.path=s;var u=et(t,"color",null);u&&f.color.setFromString(u),f.width=et(t,"width",0)*o,f.height=et(t,"height",0)*o,f.sequence=h;var d=et(t,"parent",null);if(d)return this.linkedMeshes.push(new EB(f,et(t,"skin",null),n,d,et(t,"timelines",!0))),f;var p=t.uvs;return this.readVertices(t,f,p.length),f.triangles=t.triangles,f.regionUVs=new Float32Array(p),f.edges=et(t,"edges",null),f.hullLength=et(t,"hull",0)*2,f}case"path":{var s=this.attachmentLoader.newPathAttachment(e,i);if(!s)return null;s.closed=et(t,"closed",!1),s.constantSpeed=et(t,"constantSpeed",!0);var m=t.vertexCount;this.readVertices(t,s,m<<1);for(var g=Z.newArray(m/3,0),v=0;v<t.lengths.length;v++)g[v]=t.lengths[v]*o;s.lengths=g;var u=et(t,"color",null);return u&&s.color.setFromString(u),s}case"point":{var y=this.attachmentLoader.newPointAttachment(e,i);if(!y)return null;y.x=et(t,"x",0)*o,y.y=et(t,"y",0)*o,y.rotation=et(t,"rotation",0);var u=et(t,"color",null);return u&&y.color.setFromString(u),y}case"clipping":{var b=this.attachmentLoader.newClippingAttachment(e,i);if(!b)return null;var x=et(t,"end",null);if(x!=null){var _=a.findSlot(x);if(_==null)throw new Error("Clipping end slot not found: "+x);b.endSlot=_}var m=t.vertexCount;this.readVertices(t,b,m<<1);var u=et(t,"color",null);return u&&b.color.setFromString(u),b}}return null},r.prototype.readSequence=function(t){if(t==null)return null;var e=new up(et(t,"count",0));return e.start=et(t,"start",1),e.digits=et(t,"digits",0),e.setupIndex=et(t,"setup",0),e},r.prototype.readVertices=function(t,e,n){var i=this.scale;e.worldVerticesLength=n;var a=t.vertices;if(n==a.length){var o=Z.toFloatArray(a);if(i!=1)for(var s=0,h=a.length;s<h;s++)o[s]*=i;e.vertices=o;return}for(var l=new Array,u=new Array,s=0,h=a.length;s<h;){var c=a[s++];u.push(c);for(var f=s+c*4;s<f;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}e.bones=u,e.vertices=Z.toFloatArray(l)},r.prototype.readAnimation=function(t,e,n){var i=this.scale,a=new Array;if(t.slots)for(var o in t.slots){var s=t.slots[o],h=n.findSlot(o);if(!h)throw new Error("Slot not found: "+o);var l=h.index;for(var u in s){var c=s[u];if(c){var f=c.length;if(u=="attachment"){for(var d=new wa(f,l),p=0;p<f;p++){var m=c[p];d.setFrame(p,et(m,"time",0),et(m,"name",null))}a.push(d)}else if(u=="rgba"){for(var d=new xp(f,f<<2,l),m=c[0],g=et(m,"time",0),v=dt.fromString(m.color),p=0,y=0;;p++){d.setFrame(p,g,v.r,v.g,v.b,v.a);var b=c[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),_=dt.fromString(b.color),w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,v.r,_.r,1),y=Gt(w,d,y,p,1,g,x,v.g,_.g,1),y=Gt(w,d,y,p,2,g,x,v.b,_.b,1),y=Gt(w,d,y,p,3,g,x,v.a,_.a,1)),g=x,v=_,m=b}a.push(d)}else if(u=="rgb"){for(var d=new _p(f,f*3,l),m=c[0],g=et(m,"time",0),v=dt.fromString(m.color),p=0,y=0;;p++){d.setFrame(p,g,v.r,v.g,v.b);var b=c[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),_=dt.fromString(b.color),w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,v.r,_.r,1),y=Gt(w,d,y,p,1,g,x,v.g,_.g,1),y=Gt(w,d,y,p,2,g,x,v.b,_.b,1)),g=x,v=_,m=b}a.push(d)}else if(u=="alpha")a.push(En(c,new wp(f,f,l),0,1));else if(u=="rgba2"){for(var d=new Ep(f,f*7,l),m=c[0],g=et(m,"time",0),v=dt.fromString(m.light),E=dt.fromString(m.dark),p=0,y=0;;p++){d.setFrame(p,g,v.r,v.g,v.b,v.a,E.r,E.g,E.b);var b=c[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),_=dt.fromString(b.light),S=dt.fromString(b.dark),w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,v.r,_.r,1),y=Gt(w,d,y,p,1,g,x,v.g,_.g,1),y=Gt(w,d,y,p,2,g,x,v.b,_.b,1),y=Gt(w,d,y,p,3,g,x,v.a,_.a,1),y=Gt(w,d,y,p,4,g,x,E.r,S.r,1),y=Gt(w,d,y,p,5,g,x,E.g,S.g,1),y=Gt(w,d,y,p,6,g,x,E.b,S.b,1)),g=x,v=_,E=S,m=b}a.push(d)}else if(u=="rgb2"){for(var d=new Sp(f,f*6,l),m=c[0],g=et(m,"time",0),v=dt.fromString(m.light),E=dt.fromString(m.dark),p=0,y=0;;p++){d.setFrame(p,g,v.r,v.g,v.b,E.r,E.g,E.b);var b=c[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),_=dt.fromString(b.light),S=dt.fromString(b.dark),w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,v.r,_.r,1),y=Gt(w,d,y,p,1,g,x,v.g,_.g,1),y=Gt(w,d,y,p,2,g,x,v.b,_.b,1),y=Gt(w,d,y,p,3,g,x,E.r,S.r,1),y=Gt(w,d,y,p,4,g,x,E.g,S.g,1),y=Gt(w,d,y,p,5,g,x,E.b,S.b,1)),g=x,v=_,E=S,m=b}a.push(d)}}}}if(t.bones)for(var T in t.bones){var I=t.bones[T],R=n.findBone(T);if(!R)throw new Error("Bone not found: "+T);var A=R.index;for(var u in I){var c=I[u],C=c.length;if(C!=0){if(u==="rotate")a.push(En(c,new qs(C,C,A),0,1));else if(u==="translate"){var d=new cp(C,C<<1,A);a.push(Hp(c,d,"x","y",0,i))}else if(u==="translatex"){var d=new fp(C,C,A);a.push(En(c,d,0,i))}else if(u==="translatey"){var d=new dp(C,C,A);a.push(En(c,d,0,i))}else if(u==="scale"){var d=new pp(C,C<<1,A);a.push(Hp(c,d,"x","y",1,1))}else if(u==="scalex"){var d=new mp(C,C,A);a.push(En(c,d,1,1))}else if(u==="scaley"){var d=new vp(C,C,A);a.push(En(c,d,1,1))}else if(u==="shear"){var d=new gp(C,C<<1,A);a.push(Hp(c,d,"x","y",0,1))}else if(u==="shearx"){var d=new yp(C,C,A);a.push(En(c,d,0,1))}else if(u==="sheary"){var d=new bp(C,C,A);a.push(En(c,d,0,1))}}}}if(t.ik)for(var O in t.ik){var N=t.ik[O],m=N[0];if(m){var L=n.findIkConstraint(O);if(!L)throw new Error("IK Constraint not found: "+O);for(var D=n.ikConstraints.indexOf(L),d=new Ip(N.length,N.length<<1,D),g=et(m,"time",0),Q=et(m,"mix",1),tt=et(m,"softness",0)*i,p=0,y=0;;p++){d.setFrame(p,g,Q,tt,et(m,"bendPositive",!0)?1:-1,et(m,"compress",!1),et(m,"stretch",!1));var b=N[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),V=et(b,"mix",1),W=et(b,"softness",0)*i,w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,Q,V,1),y=Gt(w,d,y,p,1,g,x,tt,W,i)),g=x,Q=V,tt=W,m=b}a.push(d)}}if(t.transform)for(var O in t.transform){var c=t.transform[O],m=c[0];if(m){var L=n.findTransformConstraint(O);if(!L)throw new Error("Transform constraint not found: "+O);for(var D=n.transformConstraints.indexOf(L),d=new Ap(c.length,c.length*6,D),g=et(m,"time",0),X=et(m,"mixRotate",1),j=et(m,"mixX",1),Y=et(m,"mixY",j),q=et(m,"mixScaleX",1),$=et(m,"mixScaleY",q),K=et(m,"mixShearY",1),p=0,y=0;;p++){d.setFrame(p,g,X,j,Y,q,$,K);var b=c[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),J=et(b,"mixRotate",1),it=et(b,"mixX",1),ut=et(b,"mixY",it),at=et(b,"mixScaleX",1),M=et(b,"mixScaleY",at),k=et(b,"mixShearY",1),w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,X,J,1),y=Gt(w,d,y,p,1,g,x,j,it,1),y=Gt(w,d,y,p,2,g,x,Y,ut,1),y=Gt(w,d,y,p,3,g,x,q,at,1),y=Gt(w,d,y,p,4,g,x,$,M,1),y=Gt(w,d,y,p,5,g,x,K,k,1)),g=x,X=J,j=it,Y=ut,q=at,$=M,q=at,m=b}a.push(d)}}if(t.path)for(var O in t.path){var N=t.path[O],L=n.findPathConstraint(O);if(!L)throw new Error("Path constraint not found: "+O);var D=n.pathConstraints.indexOf(L);for(var u in N){var c=N[u],m=c[0];if(m){var U=c.length;if(u==="position"){var d=new Pp(U,U,D);a.push(En(c,d,0,L.positionMode==pe.Fixed?i:1))}else if(u==="spacing"){var d=new Cp(U,U,D);a.push(En(c,d,0,L.spacingMode==Me.Length||L.spacingMode==Me.Fixed?i:1))}else if(u==="mix"){for(var d=new Mp(U,U*3,D),g=et(m,"time",0),X=et(m,"mixRotate",1),j=et(m,"mixX",1),Y=et(m,"mixY",j),p=0,y=0;;p++){d.setFrame(p,g,X,j,Y);var b=c[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),J=et(b,"mixRotate",1),it=et(b,"mixX",1),ut=et(b,"mixY",it),w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,X,J,1),y=Gt(w,d,y,p,1,g,x,j,it,1),y=Gt(w,d,y,p,2,g,x,Y,ut,1)),g=x,X=J,j=it,Y=ut,m=b}a.push(d)}}}}if(t.deform){t.attachments={};for(var H in t.deform){var G=t.deform[H],rt=t.attachments[H]={};for(var o in G){var s=G[o],ht=rt[o]={};for(var ot in s)ht[ot]={deform:s[ot]}}}}if(t.attachments)for(var z in t.attachments){var nt=t.attachments[z],lt=n.findSkin(z);if(lt!=null)for(var pt in nt){var s=nt[pt],h=n.findSlot(pt);if(!h)throw new Error("Slot not found: "+pt);var l=h.index;for(var bt in s){var wt=s[bt],Et=lt.getAttachment(l,bt);for(var Lt in wt){var c=wt[Lt],m=c[0];if(m){if(Lt=="deform"){for(var kt=Et.bones,Ht=Et.vertices,Le=kt?Ht.length/3*2:Ht.length,d=new Tp(c.length,c.length,l,Et),g=et(m,"time",0),p=0,y=0;;p++){var ie=void 0,Hn=et(m,"vertices",null);if(!Hn)ie=kt?Z.newFloatArray(Le):Ht;else{ie=Z.newFloatArray(Le);var an=et(m,"offset",0);if(Z.arrayCopy(Hn,0,ie,an,Hn.length),i!=1)for(var te=an,be=te+Hn.length;te<be;te++)ie[te]*=i;if(!kt)for(var te=0;te<Le;te++)ie[te]+=Ht[te]}d.setFrame(p,g,ie);var b=c[p+1];if(!b){d.shrink(y);break}var x=et(b,"time",0),w=m.curve;w&&(y=Gt(w,d,y,p,0,g,x,0,1,1)),g=x,m=b}a.push(d)}else if(Lt=="sequence"){for(var d=new Rp(c.length,l,Et),Qe=0,p=0;p<c.length;p++){var on=et(m,"delay",Qe),g=et(m,"time",0),al=We[et(m,"mode","hold")],Ei=et(m,"index",0);d.setFrame(p,g,al,Ei,on),Qe=on,m=c[p+1]}a.push(d)}}}}}}if(t.drawOrder){for(var d=new Eo(t.drawOrder.length),Si=n.slots.length,p=0,te=0;te<t.drawOrder.length;te++,p++){var Io=t.drawOrder[te],Ti=null,Br=et(Io,"offsets",null);if(Br){Ti=Z.newArray(Si,-1);for(var Ta=Z.newArray(Si-Br.length,0),Ao=0,Jp=0,Ii=0;Ii<Br.length;Ii++){var Xw=Br[Ii],h=n.findSlot(Xw.slot);if(!h)throw new Error("Slot not found: "+h);for(var l=h.index;Ao!=l;)Ta[Jp++]=Ao++;Ti[Ao+Xw.offset]=Ao++}for(;Ao<Si;)Ta[Jp++]=Ao++;for(var Ii=Si-1;Ii>=0;Ii--)Ti[Ii]==-1&&(Ti[Ii]=Ta[--Jp])}d.setFrame(p,et(Io,"time",0),Ti)}a.push(d)}if(t.events){for(var d=new eh(t.events.length),p=0,te=0;te<t.events.length;te++,p++){var Ai=t.events[te],ol=n.findEvent(Ai.name);if(!ol)throw new Error("Event not found: "+Ai.name);var Ia=new Lp(Z.toSinglePrecision(et(Ai,"time",0)),ol);Ia.intValue=et(Ai,"int",ol.intValue),Ia.floatValue=et(Ai,"float",ol.floatValue),Ia.stringValue=et(Ai,"string",ol.stringValue),Ia.data.audioPath&&(Ia.volume=et(Ai,"volume",1),Ia.balance=et(Ai,"balance",0)),d.setFrame(p,Ia)}a.push(d)}for(var sh=0,te=0,be=a.length;te<be;te++)sh=Math.max(sh,a[te].getDuration());if(isNaN(sh))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Qu(e,a,sh))},r.blendModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return gt.NORMAL;if(t=="additive")return gt.ADD;if(t=="multiply")return gt.MULTIPLY;if(t=="screen")return gt.SCREEN;throw new Error("Unknown blend mode: "+t)},r}(),EB=function(){function r(t,e,n,i,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return r}();function En(r,t,e,n){for(var i=r[0],a=et(i,"time",0),o=et(i,"value",e)*n,s=0,h=0;;h++){t.setFrame(h,a,o);var l=r[h+1];if(!l)return t.shrink(s),t;var u=et(l,"time",0),c=et(l,"value",e)*n;i.curve&&(s=Gt(i.curve,t,s,h,0,a,u,o,c,n)),a=u,o=c,i=l}}function Hp(r,t,e,n,i,a){for(var o=r[0],s=et(o,"time",0),h=et(o,e,i)*a,l=et(o,n,i)*a,u=0,c=0;;c++){t.setFrame(c,s,h,l);var f=r[c+1];if(!f)return t.shrink(u),t;var d=et(f,"time",0),p=et(f,e,i)*a,m=et(f,n,i)*a,g=o.curve;g&&(u=Gt(g,t,u,c,0,s,d,h,p,a),u=Gt(g,t,u,c,1,s,d,l,m,a)),s=d,h=p,l=m,o=f}}function Gt(r,t,e,n,i,a,o,s,h,l){if(r=="stepped")return t.setStepped(n),e;var u=i<<2,c=r[u],f=r[u+1]*l,d=r[u+2],p=r[u+3]*l;return t.setBezier(e,n,i,a,s,c,f,d,p,o,h),e+1}function et(r,t,e){return r[t]!==void 0?r[t]:e}var SB=function(r){Yt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createSkeleton=function(e){this.skeleton=new ww(e),this.skeleton.updateWorldTransform(),this.stateData=new gw(e),this.state=new cw(this.stateData)},t}(Ls);const TB=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:wp,Animation:Qu,AnimationState:cw,AnimationStateAdapter:KL,AnimationStateData:gw,AtlasAttachmentLoader:Fp,Attachment:op,AttachmentTimeline:wa,Bone:Np,BoneData:Dp,BoundingBoxAttachment:sp,ClippingAttachment:uw,ConstraintData:rh,CurveTimeline:tn,CurveTimeline1:en,CurveTimeline2:th,DeformTimeline:Tp,DrawOrderTimeline:Eo,Event:Lp,EventData:Bp,EventQueue:dw,EventTimeline:eh,get EventType(){return sr},IkConstraint:yw,IkConstraintData:Vp,IkConstraintTimeline:Ip,MeshAttachment:Ju,PathAttachment:Hs,PathConstraint:bw,PathConstraintData:Xp,PathConstraintMixTimeline:Mp,PathConstraintPositionTimeline:Pp,PathConstraintSpacingTimeline:Cp,PointAttachment:hw,RGB2Timeline:Sp,RGBA2Timeline:Ep,RGBATimeline:xp,RGBTimeline:_p,RegionAttachment:lp,RotateTimeline:qs,ScaleTimeline:pp,ScaleXTimeline:mp,ScaleYTimeline:vp,Sequence:up,get SequenceMode(){return We},SequenceModeValues:hp,SequenceTimeline:Rp,ShearTimeline:gp,ShearXTimeline:yp,ShearYTimeline:bp,Skeleton:ww,SkeletonBinary:Ew,SkeletonBounds:wB,SkeletonData:Yp,SkeletonJson:Tw,Skin:nh,SkinEntry:Wp,Slot:xw,SlotData:jp,get SpacingMode(){return Me},Spine:SB,Timeline:we,TrackEntry:fw,TransformConstraint:_w,TransformConstraintData:Up,TransformConstraintTimeline:Ap,TranslateTimeline:cp,TranslateXTimeline:fp,TranslateYTimeline:dp,VertexAttachment:wn},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var qp=function(r,t){return qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},qp(r,t)};function Iw(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qp(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Re;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.VER37=37]="VER37",r[r.VER38=38]="VER38",r[r.VER40=40]="VER40",r[r.VER41=41]="VER41"})(Re||(Re={}));function ih(r){var t=r.substr(0,3),e=Math.floor(+t*10+.001);return t==="3.7"?Re.VER37:t==="3.8"?Re.VER38:t==="4.0"?Re.VER40:t==="4.1"?Re.VER41:e<Re.VER37?Re.VER37:Re.UNKNOWN}var IB=function(){function r(){this.scale=1}return r.prototype.readSkeletonData=function(t,e){var n=new Wu(e);n.readString();var i=n.readString(),a=ih(i),o=null;if(a===Re.VER38&&(o=new k_(new Ld(t))),n=new Wu(e),n.readInt32(),n.readInt32(),i=n.readString(),a=ih(i),(a===Re.VER40||a===Re.VER41)&&(o=new Ew(new Fp(t))),!o){var s="Unsupported version of spine model "+i+", please update pixi-spine";console.error(s)}return o.scale=this.scale,o.readSkeletonData(e)},r}(),AB=function(){function r(){this.scale=1}return r.prototype.readSkeletonData=function(t,e){var n=e.skeleton.spine,i=ih(n),a=null;if(i===Re.VER37&&(a=new lw(new q_(t))),i===Re.VER38&&(a=new F_(new Ld(t))),(i===Re.VER40||i===Re.VER41)&&(a=new Tw(new Fp(t))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(e)},r}(),PB=function(r){Iw(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createBinaryParser=function(){return new IB},t.prototype.createJsonParser=function(){return new AB},t.prototype.parseData=function(e,n,i,a){var o=n;e.spineData=o.readSkeletonData(i,a),e.spineAtlas=i},t.registerLoaderPlugin=function(){yi.registerPlugin(t)},t.use=new t().genMiddleware().use,t}(kL),CB=function(r){Iw(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createSkeleton=function(e){var n=ih(e.version),i=null;if(n===Re.VER37&&(i=ZL),n===Re.VER38&&(i=UL),(n===Re.VER40||n===Re.VER41)&&(i=TB),!i){var a="Cant detect version of spine model "+e.version;console.error(a)}this.skeleton=new i.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(e),this.state=new i.AnimationState(this.stateData)},t}(Ls);PB.registerLoaderPlugin();function Aw(r,t,e){let n={x:0,y:0};return n.x=(r.x-t.x)/e,n.y=(r.y-t.y)/e,n}function MB(r,t){let e=Math.sqrt(t.x*t.x+t.y*t.y);return r<e&&(t.x=t.x*r/e,t.y=t.y*r/e),t}function RB(r,t){let e=!0,n=Math.sqrt(t.x*t.x+t.y*t.y);return r<n&&(e=!1),e}var Pw={},Gs={},So={},To={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Node=Lr.LinkedList=void 0;var OB=function(){function r(){this.__length=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this.__length},enumerable:!1,configurable:!0}),r.prototype.add=function(t){return this.first==null?this.first=this.last=t:(t.prev=this.last,this.last.next=t,this.last=t),t.list=this,this.__length++,this},r.prototype.remove=function(t){if(t.list!=null)return this.first===this.last?this.first=this.last=null:this.__length>0&&(t===this.last?(t.prev.next=null,this.last=t.prev):t===this.first?(t.next.prev=null,this.first=t.next):(t.next.prev=t.prev,t.prev.next=t.next)),t.next=t.prev=t.list=null,this.__length--,this},r.prototype.clear=function(){if(this.first){for(var t=this.first;t;){var e=t.next;t.next=t.prev=t.list=null,t=e}this.first=this.last=null}},r.prototype.toArray=function(){var t=[];if(!this.first)return t;for(var e=this.first;e;)t.push(e),e=e.next;return t},r}();Lr.LinkedList=OB;var kB=function(){function r(t){this.data=t}return r.prototype.update=function(t){},r.prototype.dispose=function(){},r}();Lr.Node=kB;var FB=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(To,"__esModule",{value:!0}),To.BaseEffect=void 0;var NB=Lr,DB=function(r){FB(t,r);function t(e){var n=r.call(this)||this;return n.componentId=e,n.exhausted=!1,n.completed=!1,n._x=0,n._y=0,n._rotation=0,n._alpha=0,n._scale=new PIXI.Point,n._active=!1,n.__recycled=!0,n}return t.prototype.update=function(e){},t.prototype.recycle=function(){},Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this._alpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!1,configurable:!0}),t.prototype.__applySettings=function(e){},t}(NB.Node);To.BaseEffect=DB;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.Rnd=void 0;var LB=function(){function r(){}return r.float=function(t,e){return Math.random()*(e-t)+t},r.bool=function(t){return t===void 0&&(t=.5),Math.random()<t},r.sign=function(t){return t===void 0&&(t=.5),Math.random()<t?1:-1},r.bit=function(t){return t===void 0&&(t=.5),Math.random()<t?1:0},r.integer=function(t,e){return Math.floor(Math.random()*(e-t)+t)},r}();Sn.Rnd=LB;var zn={};Object.defineProperty(zn,"__esModule",{value:!0}),zn.FXSignalListener=zn.FXSignal=void 0;var Gp=Lr,BB=function(){function r(){this.__hasCallback=!1,this._list=new Gp.LinkedList}return r.prototype.add=function(t,e,n){this._list.add(new Gp.Node(new $p(t,e,!1,n))),this.__hasCallback=!0},r.prototype.addOnce=function(t,e){this._list.add(new Gp.Node(new $p(t,e,!0))),this.__hasCallback=!0},r.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._list,i=n.first,a;i;){a=i.next;var o=!0,s=i.data;s.callRate&&s.calls%s.callRate!=0&&(o=!1),o&&(s.callback.apply(s.scope,t),s.once&&n.remove(i)),i=a}this.__hasCallback=n.__length>0},r.prototype.remove=function(t){for(var e=this._list,n=e.first,i;n;){if(i=n.next,n.data.callback===t){e.remove(n);return}n=i}this.__hasCallback=e.__length>0},r.prototype.removeAll=function(){this._list.clear(),this.__hasCallback=!1},r}();zn.FXSignal=BB;var $p=function(){function r(t,e,n,i){this.callback=t,this.scope=e,this.once=n,this.callRate=i,this.calls=0}return r}();zn.FXSignalListener=$p;var VB=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(So,"__esModule",{value:!0}),So.ParticleEmitter=void 0;var XB=To,YB=Lr,ah=Sn,Ea=zn,jB=function(r){VB(t,r);function t(e){var n=r.call(this,e)||this;return n.targetOffset=0,n.autoRecycleOnComplete=!0,n._particles=new YB.LinkedList,n._particleCount=0,n._childEmitters=[],n._hasChildEmitters=!1,n._paused=!1,n.__adoptRotation=!1,n.__on={started:new Ea.FXSignal,completed:new Ea.FXSignal,exhausted:new Ea.FXSignal,particleUpdated:new Ea.FXSignal,particleSpawned:new Ea.FXSignal,particleBounced:new Ea.FXSignal,particleDied:new Ea.FXSignal},n}return t.prototype.init=function(e,n,i){return n===void 0&&(n=!0),i===void 0&&(i=1),this.container=e,this.core.__scaleMod=this._scaleMod=i,n&&this.start(),this},t.prototype.start=function(){if(!this._active){var e=Date.now(),n=this.settings,i=this.__fx;i.emitterCount++,this.infinite=n.infinite,this._time=Number.MAX_VALUE,n.duration>0?this.endTime=e+n.duration*1e3:this.endTime=n.duration,this._nextSpawnTime=0,this._particleCount=0,this._active=!0,this.exhausted=this.completed=!1,i.__addActiveEffect(this);var a=n.childs.length;if(this._hasChildEmitters=a>0,this._hasChildEmitters)for(;--a>-1;){var o=n.childs[a],s=i.getParticleEmitterById(o.id),h=i.__containers[s.settings.containerId]||this.container;s.init(h,!0,(o.scale||1)*(this._scaleMod||1)),o.adoptRotation&&(s.rotation=this._rotation,s.__adoptRotation=!0),s.__parent=this,this._childEmitters.push(s)}return this.rotation=this._rotation,this.__on.started.__hasCallback&&this.__on.started.dispatch(this),this}},t.prototype.stop=function(e){e===void 0&&(e=!0),e?(this.exhausted=!0,this._hasChildEmitters&&this.stopChildEmitters(!0)):(this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.autoRecycleOnComplete?this.recycle():(this.recycleParticles(),this.completed=!0,this._active=!1,this.__fx.__removeActiveEffect(this)))},t.prototype.update=function(e){if(this._active){var n=Date.now();this.exhausted?this._particleCount==0&&(this._active=!1,this.completed=!0,this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.__fx.__removeActiveEffect(this),this.autoRecycleOnComplete&&this.recycle()):(this.settings.autoRotation!==0&&(this.rotation+=this.settings.autoRotation*(e/.016666)),this.target&&(this.rotation=this.target.rotation,this.targetOffset==0?(this.x=this.target.x,this.y=this.target.y):(this.x=this.target.x+Math.cos(this._rotation)*this.targetOffset,this.y=this.target.y+Math.sin(this._rotation)*this.targetOffset)),this.endTime==0&&!this.infinite?(this.spawn(),this.exhausted=!0):this.infinite||n<this.endTime?(this._time+=e,this._time>=this._nextSpawnTime&&(this._time=0,this.spawn(),this._nextSpawnTime=this._time+ah.Rnd.float(this.settings.spawnFrequencyMin,this.settings.spawnFrequencyMax))):(this.exhausted=!0,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this)));for(var i=this._particles,a=i.first,o;a;)o=a.next,a.update(e),a=o;return this}},t.prototype.spawn=function(){if(!this._paused){var e=this.settings,n=this.__fx,i=ah.Rnd.integer(e.spawnCountMin,e.spawnCountMax)*n.particleFac;for(this.core.prepare(i);--i>-1;){if(this._particleCount>=e.maxParticles||n.particleCount>=n.maxParticles)return;var a=e.particleSettings,o=n.__getParticle(),s=void 0;switch(a.componentType){case 0:o.componentId=a.componentId,s=n.__getSprite(o.componentId);break;case 1:o.componentId=a.componentId,s=n.__getMovieClip(o.componentId),a.componentParams&&(s.loop=!(a.componentParams.loop==null||!a.componentParams.loop),s.animationSpeed=ah.Rnd.float(a.componentParams.animationSpeedMin||1,a.componentParams.animationSpeedMax||1)),s.gotoAndPlay(0);break}s.anchor.set(a.componentParams.anchorX,a.componentParams.anchorY),o.component=s,this.core.emit(o),o.init(this,a,this._scaleMod),this._particles.add(o),this._particleCount++,n.particleCount++}return this.core.step(),this._nextSpawnTime=ah.Rnd.float(e.spawnFrequencyMin,e.spawnFrequencyMax),this}},t.prototype.recycle=function(){if(!this.__recycled){this.__parent&&(this.__parent.__removeChildEmitter(this),this.__parent=null),this.recycleParticles(),this.settings=null,this._active=!1,this._paused=!1,this.completed=!0,this._x=this._y=this._rotation=0,this._hasChildEmitters&&(this.stopChildEmitters(!0),this._childEmitters.length=0,this._hasChildEmitters=!1),this.__fx.emitterCount--,this.__fx.__recycleEmitter(this),this.__recycled=!0,this.__adoptRotation=!1,this.core=null,this.target=null,this.name=null;var e=this.__on;e.completed.__hasCallback&&e.completed.removeAll(),e.started.__hasCallback&&e.started.removeAll(),e.exhausted.__hasCallback&&e.exhausted.removeAll(),e.particleBounced.__hasCallback&&e.particleBounced.removeAll(),e.particleDied.__hasCallback&&e.particleDied.removeAll(),e.particleSpawned.__hasCallback&&e.particleSpawned.removeAll(),e.particleUpdated.__hasCallback&&e.particleUpdated.removeAll()}},t.prototype.dispose=function(){for(var e=this._particles,n=e.first,i;n;)i=n.next,n.recycle(),n=i;e.clear(),this.__recycled=!0,this._hasChildEmitters&&this.stopChildEmitters(!1),this.__fx.particleCount-=this._particleCount,this._particles=null,this.componentId=null,this.settings=null,this._active=!1,this.completed=!0,this._childEmitters=null,this.core&&this.core.dispose(),this.core=null,this.target=null,this.name=null;var a=this.__on;a.completed.removeAll(),a.started.removeAll(),a.exhausted.removeAll(),a.particleBounced.removeAll(),a.particleDied.removeAll(),a.particleSpawned.removeAll(),a.particleUpdated.removeAll(),this.__parent=null,this.__fx.__removeActiveEffect(this),this.__fx=null},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){if(this._x=this.core.x=e,this._xPosIntialized||(this.core.__x=e,this._xPosIntialized=!0),this._hasChildEmitters)for(var n=this._childEmitters,i=n.length;--i>-1;)n[i].x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){if(this._y=this.core.y=e,this._yPosIntialized||(this.core.__y=e,this._yPosIntialized=!0),this._hasChildEmitters)for(var n=this._childEmitters,i=n.length;--i>-1;)n[i].y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){if(this._rotation=this.core.rotation=e,this._hasChildEmitters)for(var n=this._childEmitters,i=n.length;--i>-1;){var a=n[i];a.__adoptRotation&&(a.rotation=a.settings.rotation+e)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(e){if(this._paused=e,this._hasChildEmitters)for(var n=this._childEmitters,i=n.length;--i>-1;)n[i].paused=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"on",{get:function(){return this.__on},enumerable:!1,configurable:!0}),t.prototype.recycleParticles=function(){for(var e=this._particles.first,n;e;)n=e.next,e.recycle(),e=n;this._particles.clear(),this.__fx.particleCount-=this._particleCount},t.prototype.stopChildEmitters=function(e){for(var n=this._childEmitters,i=n.length;--i>-1;)n[i].stop(e)},t.prototype.__removeParticle=function(e){e.useSpawns&&this._spawnOnComplete&&this.__subSpawn(e,this.settings.particleSettings.spawn.onComplete),this._particles.remove(e),this._particleCount--,this.__fx.particleCount--,e.recycle()},t.prototype.__removeChildEmitter=function(e){var n=this._childEmitters.indexOf(e);n>-1&&(this._childEmitters.splice(n,1),this._childEmitters.length==0&&(this._hasChildEmitters=!1))},t.prototype.__subSpawn=function(e,n){var i=this.__fx;if(n)for(var a=n.length;--a>-1;){var o=n[a],s=void 0,h=void 0;switch(o.type){case 0:s=i.getParticleEmitterById(o.id),h=i.__containers[s.settings.containerId]||this.container,s.init(h,!0,(o.scale||1)*this._scaleMod),o.adoptRotation?(s.rotation=e.component.rotation+s.settings.rotation,s.__adoptRotation=!0):s.rotation=s.settings.rotation;break;case 1:s=i.getEffectSequenceById(o.id),h=i.__containers[s.settings.containerId]||this.container,s.init(h,0,!0,(o.scale||1)*this._scaleMod),o.adoptRotation&&(s.rotation=e.component.rotation);break}s.x=e.component.x,s.y=e.component.y}},t.prototype.__applySettings=function(e){var n=this.__fx;this.__recycled=this._xPosIntialized=this._yPosIntialized=!1,this.settings=e,this.core=n.__getEmitterCore(e.core.type,this),this.core.init(this),this.rotation=e.rotation,this.name=e.name,this._spawnOnComplete=e.particleSettings.spawn.onComplete.length>0,this._childEmitters.length=0},t.prototype.__setCore=function(e){this.core=this.__fx.__getEmitterCore(e,this),this.core.init(this),this.core.__scaleMod=this._scaleMod,this._xPosIntialized=this._yPosIntialized=!1},t}(XB.BaseEffect);So.ParticleEmitter=jB;var $s={},Sa={};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.BaseEmitterCore=void 0;var UB=function(){function r(t){this.type=t,this._dx=0,this._dy=0,this._rotation=0}return r.prototype.init=function(t){this.emitter=t,this._settings=t.settings.core.params,this.x=this.__x=t.x,this.y=this.__y=t.y,this.rotation=t.rotation},r.prototype.emit=function(t){},r.prototype.prepare=function(t){this._posInterpolationStep=1/t,this._t=this._posInterpolationStep*.5},r.prototype.step=function(){this.__x=this.x,this.__y=this.y},r.prototype.recycle=function(){this.emitter=null,this._settings=null},r.prototype.dispose=function(){this.recycle(),this.emitter=null,this._settings=null},Object.defineProperty(r.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t,this._dx=Math.cos(t),this._dy=Math.sin(t)},enumerable:!1,configurable:!0}),r.__TYPE_BOX="box",r.__TYPE_CIRCLE="circle",r.__TYPE_RING="ring",r}();Sa.BaseEmitterCore=UB;var WB=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty($s,"__esModule",{value:!0}),$s.RingEmitterCore=void 0;var Cw=Sa,zB=Sn,HB=function(r){WB(t,r);function t(){return r.call(this,Cw.BaseEmitterCore.__TYPE_RING)||this}return t.prototype.prepare=function(e){r.prototype.prepare.call(this,e);var n=this._settings.angle;2*Math.PI-n<.1?(this._uniformStep=n/e,this._angle=n):(this._uniformStep=n/(e-1),this._angle=-n*.5)},t.prototype.emit=function(e){var n=this._settings,i=this.emitter,a;n.uniform?(a=this._angle+i.rotation,this._angle+=this._uniformStep):a=zB.Rnd.float(-n.angle*.5,n.angle*.5)+i.rotation;var o=n.radius*this.__scaleMod;e.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+Math.cos(a)*o,e.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+Math.sin(a)*o,n.radial?(e.dx=Math.cos(a),e.dy=Math.sin(a),e.component.transform.rotation=a):(e.dx=this._dx,e.dy=this._dy,e.component.transform.rotation=i.rotation),this._t+=this._posInterpolationStep},t}(Cw.BaseEmitterCore);$s.RingEmitterCore=HB;var Zs={},qB=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.CircleEmitterCore=void 0;var Mw=Sa,Zp=Sn,GB=function(r){qB(t,r);function t(){return r.call(this,Mw.BaseEmitterCore.__TYPE_CIRCLE)||this}return t.prototype.emit=function(e){var n=this._settings,i=this.emitter,a;if(n.angle?a=Zp.Rnd.float(-n.angle*.5,n.angle*.5)+i.rotation:a=Zp.Rnd.float(0,6.28319)+i.rotation,n.radius>0){var o=Zp.Rnd.float(0,n.radius)*this.__scaleMod;e.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+Math.cos(a)*o,e.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+Math.sin(a)*o}else e.component.x=this.__x+this._t*(this.x-this.__x),e.component.y=this.__y+this._t*(this.y-this.__y);n.radial?(e.dx=Math.cos(a),e.dy=Math.sin(a),e.component.transform.rotation=a):(e.dx=this._dx,e.dy=this._dy,e.component.transform.rotation=i.rotation),this._t+=this._posInterpolationStep},t}(Mw.BaseEmitterCore);Zs.CircleEmitterCore=GB;var Ks={},$B=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.BoxEmitterCore=void 0;var Rw=Sa,Ow=Sn,ZB=function(r){$B(t,r);function t(){return r.call(this,Rw.BaseEmitterCore.__TYPE_BOX)||this}return t.prototype.emit=function(e){var n=this._settings,i=this.emitter,a=n.width*.5*this.__scaleMod,o=n.height*.5*this.__scaleMod,s=i.rotation,h=Ow.Rnd.float(-a,a),l=Ow.Rnd.float(-o,o);s!=0?(e.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+h*Math.cos(s)-l*Math.sin(s),e.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+h*Math.sin(s)+l*Math.cos(s)):(e.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+h,e.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+l),n.radial?(s+=Math.atan2(l,h),e.dx=Math.cos(s),e.dy=Math.sin(s)):(e.dx=this._dx,e.dy=this._dy),e.component.transform.rotation=s,this._t+=this._posInterpolationStep},t}(Rw.BaseEmitterCore);Ks.BoxEmitterCore=ZB;var Js={},kw;function Fw(){if(kw)return Js;kw=1;var r=Qt&&Qt.__extends||function(){var h=function(l,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])},h(l,u)};return function(l,u){h(l,u);function c(){this.constructor=l}l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(Js,"__esModule",{value:!0}),Js.EffectSequence=void 0;var t=Vw(),e=To,n=Lr,i=So,a=Sn,o=zn,s=function(h){r(l,h);function l(u){var c=h.call(this,u)||this;return c._elements=new n.LinkedList,c.__on={started:new o.FXSignal,completed:new o.FXSignal,exhausted:new o.FXSignal,effectSpawned:new o.FXSignal,triggerActivated:new o.FXSignal},c}return l.prototype.init=function(u,c,f,d){return c===void 0&&(c=0),f===void 0&&(f=!0),d===void 0&&(d=1),this.container=u,this._scaleMod=d,this._delay=c*1e3,f&&this.start(),this},l.prototype.start=function(){if(!this._active)return this._startTime=Date.now()+(this.settings.delay?this.settings.delay*1e3:0)+this._delay,this._index=0,this._list.length==0?(this._active=!1,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this),this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.recycle(),this):(this.exhausted=this.completed=!1,this.setNextEffect(),this.__fx.effectSequenceCount++,this.__fx.__addActiveEffect(this),this.__on.started.__hasCallback&&this.__on.started.dispatch(this),this)},l.prototype.update=function(u){var c=Date.now();if(!(c<this._startTime)){if(this._time+=u,!this.exhausted&&c>=this._effectStartTime){var f=this.__fx,d=this._nextEffectSettings,p=void 0,m;switch(d.componentType){case t.FX.EffectSequenceComponentType.Sprite:p=f.__getSprite(d.componentId);var g=f.__containers[d.containerId]||this.container;g.addChild(p),p.blendMode=f.useBlendModes?d.blendMode:0,p.tint=d.tint,p.scale.set(a.Rnd.float(d.scaleMin,d.scaleMax)*a.Rnd.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),p.alpha=a.Rnd.float(d.alphaMin,d.alphaMax),p.anchor.set(d.componentParams.anchorX,d.componentParams.anchorY),m=new n.Node({component:p,endTime:c+d.duration*1e3}),this._elements.add(m),p.x=this._x,p.y=this._y,p.rotation=this._rotation+a.Rnd.float(d.rotationMin,d.rotationMax),this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(t.FX.EffectSequenceComponentType.Sprite,p);break;case t.FX.EffectSequenceComponentType.MovieClip:p=f.__getMovieClip(d.componentId),d.componentParams.loop?(p.animationSpeed=a.Rnd.float(d.componentParams.animationSpeedMin||1,d.componentParams.animationSpeedMax||1),p.loop=d.componentParams.loop||!1):d.duration,p.anchor.set(d.componentParams.anchorX,d.componentParams.anchorY),p.gotoAndPlay(0),g=f.__containers[d.containerId]||this.container,g.addChild(p),p.blendMode=f.useBlendModes?d.blendMode:0,p.tint=d.tint,p.scale.set(a.Rnd.float(d.scaleMin,d.scaleMax)*a.Rnd.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),p.alpha=a.Rnd.float(d.alphaMin,d.alphaMax),m=new n.Node({component:p,endTime:c+d.duration*1e3}),this._elements.add(m),p.x=this._x,p.y=this._y,p.rotation=this._rotation+a.Rnd.float(d.rotationMin,d.rotationMax),this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(t.FX.EffectSequenceComponentType.MovieClip,p);break;case t.FX.EffectSequenceComponentType.Emitter:p=f.getParticleEmitterById(d.componentId),g=f.__containers[d.containerId]||this.container,p.init(g,!0,a.Rnd.float(d.scaleMin,d.scaleMax)*a.Rnd.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),m=new n.Node({component:p,endTime:p.endTime}),this._elements.add(m),p.x=this._x,p.y=this._y,p.rotation=this._rotation+p.settings.rotation,this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(t.FX.EffectSequenceComponentType.Emitter,p);break;case t.FX.EffectSequenceComponentType.Trigger:this.__on.triggerActivated.__hasCallback&&this.__on.triggerActivated.dispatch(d.triggerValue);break}this._index==this._list.length?(this.exhausted=!0,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this)):this.setNextEffect()}for(var v=this._elements,y=v.first;y;){if(y.update(u),c>y.data.endTime){var b=y.data.component;b instanceof i.ParticleEmitter?b.completed&&v.remove(y):(v.remove(y),b.recycle())}y=y.next}this.exhausted&&v.length==0&&(this._active=!1,this.completed=!0,this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.recycle())}},l.prototype.stop=function(){this.recycle()},l.prototype.recycle=function(){if(!this.__recycled){for(var u=this._elements,c=u.first,f;c;)f=c.next,c.data.component.recycle(),c=f;var d=this.__on;d.completed.__hasCallback&&d.completed.removeAll(),d.started.__hasCallback&&d.started.removeAll(),d.exhausted.__hasCallback&&d.exhausted.removeAll(),d.effectSpawned.__hasCallback&&d.effectSpawned.removeAll(),d.triggerActivated.__hasCallback&&d.triggerActivated.removeAll(),u.clear(),this.__recycled=!0,this._x=this._y=this._rotation=0,this.__fx.effectSequenceCount--,this.__fx.__recycleEffectSequence(this)}},l.prototype.dispose=function(){this._elements.clear(),this.__fx=null;var u=this.__on;u.completed=u.started=u.exhausted=u.effectSpawned=u.triggerActivated=null},Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(u){this._rotation=u;for(var c=this._elements,f=c.first,d;f;)d=f.next,f.data.rotation=u,f=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this._x},set:function(u){this._x=u;for(var c=this._elements,f=c.first,d;f;)d=f.next,f.data.x=u,f=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this._y},set:function(u){this._y=u;for(var c=this._elements,f=c.first,d;f;)d=f.next,f.data.y=u,f=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"on",{get:function(){return this.__on},enumerable:!1,configurable:!0}),l.prototype.setNextEffect=function(){if(!this.exhausted){var u=this._nextEffectSettings=this._list[this._index++];this._effectStartTime=this._startTime+u.delay*1e3}},l.prototype.__applySettings=function(u){this.settings=u,this.name=u.name,this._list=u.effects.slice(),this.__recycled=!1},l}(e.BaseEffect);return Js.EffectSequence=s,Js}var Qs={};const Nw=GO(d_);var KB=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.Sprite=void 0;var Dw=Nw,JB=function(r){KB(t,r);function t(e,n,i,a){var o=r.call(this,Dw.Texture.from(n))||this;return o.componentId=e,o.anchor.set(i||.5,a||.5),o.__sequenceEndTime=null,o}return t.prototype.recycle=function(){this.tint=16777215,this.alpha=1,this.transform.rotation=0,this.transform.scale.set(1),this.parent&&this.parent.removeChild(this),this.__fx.__recycleSprite(this.componentId,this)},t.prototype.dispose=function(){this.__fx=null,this.recycle(),this.destroy(!1)},t}(Dw.Sprite);Qs.Sprite=JB;var tl={},el={};Object.defineProperty(el,"__esModule",{value:!0}),el.Color=void 0;var QB=function(){function r(){}return r.prototype.setRgb=function(t,e){this.startRgb=this.rgb=t,this.r=this.sR=t>>16&255,this.g=this.sG=t>>8&255,this.b=this.sB=t&255,this.targetRgb=e,this.dR=(e>>16&255)-this.r,this.dG=(e>>8&255)-this.g,this.dB=(e&255)-this.b},r.prototype.tween=function(t,e,n){return t?(this.r=t(e,this.sR,this.dR,n),this.g=t(e,this.sG,this.dG,n),this.b=t(e,this.sB,this.dB,n)):(e/=n,this.r=this.dR*e+this.sR,this.g=this.dG*e+this.sG,this.b=this.dB*e+this.sB),this.rgb=this.r<<16|this.g<<8|this.b,this.rgb},r}();el.Color=QB;var rl={};Object.defineProperty(rl,"__esModule",{value:!0}),rl.Easing=void 0;var tV=function(){function r(){}return r.linear=function(t,e,n,i){return n*t/i+e},r.easeInQuad=function(t,e,n,i){return n*(t/=i)*t+e},r.easeOutQuad=function(t,e,n,i){return-n*(t/=i)*(t-2)+e},r.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},r.easeInCubic=function(t,e,n,i){return n*(t/=i)*t*t+e},r.easeOutCubic=function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},r.easeInOutCubic=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},r.easeInQuart=function(t,e,n,i){return n*(t/=i)*t*t*t+e},r.easeOutQuart=function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},r.easeInOutQuart=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},r.easeInQuint=function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},r.easeOutQuint=function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},r.easeInOutQuint=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},r.easeInSine=function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},r.easeOutSine=function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},r.easeInOutSine=function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},r.easeInExpo=function(t,e,n,i){return t===0?e:n*Math.pow(2,10*(t/i-1))+e},r.easeOutExpo=function(t,e,n,i){return t===i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e},r.easeInOutExpo=function(t,e,n,i){return(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e},r.easeInCirc=function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},r.easeOutCirc=function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},r.easeInOutCirc=function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},r.easeInElastic=function(t,e,n,i){var a,o,s;return s=1.70158,o=0,a=n,t===0||(t/=i),o||(o=i*.3),a<Math.abs(n)?(a=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/o))+e},r.easeOutElastic=function(t,e,n,i){var a,o,s;return s=1.70158,o=0,a=n,t===0||(t/=i),o||(o=i*.3),a<Math.abs(n)?(a=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*i-s)*(2*Math.PI)/o)+n+e},r.easeInOutElastic=function(t,e,n,i){var a,o,s;return s=1.70158,o=0,a=n,t===0||(t/=i/2),o||(o=i*(.3*1.5)),a<Math.abs(n)?(a=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/a),t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/o))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/o)*.5+n+e},r.easeInBack=function(t,e,n,i,a){return a===void 0&&(a=1.70158),n*(t/=i)*t*((a+1)*t-a)+e},r.easeOutBack=function(t,e,n,i,a){return a===void 0&&(a=1.70158),n*((t=t/i-1)*t*((a+1)*t+a)+1)+e},r.easeInOutBack=function(t,e,n,i,a){return a===void 0&&(a=1.70158),(t/=i/2)<1?n/2*(t*t*(((a*=1.525)+1)*t-a))+e:n/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+e},r.easeInBounce=function(t,e,n,i){var a;return a=r.easeOutBounce(i-t,0,n,i),n-a+e},r.easeOutBounce=function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},r.easeInOutBounce=function(t,e,n,i){var a;return t<i/2?(a=r.easeInBounce(t*2,0,n,i),a*.5+e):(a=r.easeOutBounce(t*2-i,0,n,i),a*.5+n*.5+e)},r}();rl.Easing=tV;var eV=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(tl,"__esModule",{value:!0}),tl.Particle=void 0;var rV=Lr,nV=el,wi=rl,Je=Sn,Kp=zn,iV=function(r){eV(t,r);function t(){var e=r.call(this)||this;return e.dx=0,e.dy=0,e._childEmitters=[],e._hasChildEmitters=!1,e._spawnOnHalfway=!1,e.__recycled=!0,e.__on={died:new Kp.FXSignal,bounced:new Kp.FXSignal,updated:new Kp.FXSignal},e._color=new nV.Color,e}return t.prototype.init=function(e,n,i){var a=this.component,o=a.transform,s=this.__fx;this.emitter=e,this.settings=n;var h=this.duration=Je.Rnd.float(n.durationMin,n.durationMax)*i;if(this._dt=1/this.duration,this.time=0,this.__recycled=!1,n.addOnTop?e.container.addChild(a):e.container.addChildAt(a,0),a.blendMode=s.useBlendModes?n.blendMode:0,this.startX=o.position.x,this.startY=o.position.y,this.useGravity=e.settings.useGravity,this.useScale=n.useScale,this.useRotation=n.useRotation,this.useAlpha=n.useAlpha,this.useTint=n.useTint,this.useSpawns=n.useSpawns,this.useChilds=n.useChilds,this.useMotion=n.useMotion,this.useGravity)if(this.gravity=e.settings.gravity,this.useFloor=e.settings.useFloor,this.floorY=e.settings.floorY,this.bounceFac=Je.Rnd.float(n.bounceFacMin,n.bounceFacMax)*i,this.friction=1-Je.Rnd.float(n.frictionMin,n.frictionMax)*i,this._spawnOnBounce=n.spawn.onBounce.length>0,this.useAlign=n.align,n.useMotion){var l=Je.Rnd.float(n.moveSpeedMin,n.moveSpeedMax);this.moveSpeedX=l*this.dx*i,this.moveSpeedY=l*this.dy*i}else this.moveSpeedX=this.moveSpeedY=0;else if(n.useMotion){var u=this.distance=Je.Rnd.integer(n.distanceMin,n.distanceMax)*.8*i;this.deltaX=(o.position.x+u*this.dx-this.startX)*.8,this.deltaY=(o.position.y+u*this.dy-this.startY)*.8,this.distanceEase=wi.Easing[n.distanceEase],this.useAlign=!1}else o.position.x=this.startX,o.position.y=this.startY;if(n.useRotation&&n.randomStartRotation&&!this.useAlign&&(o.rotation=Je.Rnd.float(0,6.28319)),n.useAlpha&&(this.alphaStart=a.alpha=Je.Rnd.float(n.alphaStartMin,n.alphaStartMax),this.alphaDelta=Je.Rnd.float(n.alphaEndMin,n.alphaEndMax)-this.alphaStart,this.alphaEase=wi.Easing[n.alphaEase]||null,this.useFadeIn=n.fadeIn,n.fadeIn&&(this.alphaDuration=h*(1-n.fadeInDurationFac),this.fadeInDuration=h*n.fadeInDurationFac,this.fadeInEase=wi.Easing[n.fadeInEase||"easeInSine"])),n.useScale&&(this.uniformScale=n.uniformScale,this.useScaleIn=n.scaleIn,n.useScale?(this.uniformScale=n.uniformScale,this.scaleEase=wi.Easing[n.scaleEase],n.uniformScale?(this.scaleStart=o.scale.x=o.scale.y=Je.Rnd.float(n.scaleStartMin,n.scaleStartMax)*i,this.scaleDelta=(Je.Rnd.float(n.scaleEndMin,n.scaleEndMax)-this.scaleStart)*i):(this.scaleXStart=o.scale.x=Je.Rnd.float(n.scaleXStartMin,n.scaleXStartMax)*i,this.scaleXDelta=(Je.Rnd.float(n.scaleXEndMin,n.scaleXEndMax)-this.scaleXStart)*i,this.scaleXEase=wi.Easing[n.scaleXEase],this.scaleYStart=o.scale.y=Je.Rnd.float(n.scaleYStartMin,n.scaleYStartMax)*i,this.scaleYDelta=(Je.Rnd.float(n.scaleYEndMin,n.scaleYEndMax)-this.scaleYStart)*i,this.scaleYEase=wi.Easing[n.scaleYEase]),n.scaleIn&&(this.scaleDuration=h*(1-n.scaleInDurationFac),this.scaleInDuration=h*n.scaleInDurationFac,this.scaleInEase=wi.Easing[n.scaleInEase||"easeInSine"])):n.uniformScale?(o.scale.x=n.scaleStartMin,o.scale.y=n.scaleStartMin):(o.scale.x=n.scaleXStartMin,o.scale.y=n.scaleYStartMin)),n.useRotation&&(this.rotationSpeed=Je.Rnd.float(n.rotationSpeedMin,n.rotationSpeedMax)*i,n.randomRotationDirection&&(this.rotationSpeed*=Je.Rnd.sign())),n.useTint&&(this.tintEase=wi.Easing[n.tintEase],this._color.setRgb(n.tintStart,n.tintEnd)),n.useChilds){this._childEmitters.length=0;var c=n.childs.length;if(this._hasChildEmitters=c>0,this._childEmitters)for(;--c>-1;){var f=n.childs[c],d=s.getParticleEmitterById(f.id);d.init(e.container,!0,(f.scale||1)*(i||1)),f.adoptRotation&&(d.rotation=o.rotation,d.__adoptRotation=!0),d.__parent=this,this._childEmitters.push(d)}}return n.useSpawns&&(n.spawn.onStart.length>0&&e.__subSpawn(this,n.spawn.onStart),this._spawnOnHalfway=n.spawn.onHalfway.length>0),e.__on.particleSpawned.__hasCallback&&e.__on.particleSpawned.dispatch(this),this},t.prototype.update=function(e){var n=this.time+=e,i=this.duration;if(n>=i){this.emitter.__removeParticle(this);return}var a=this.component,o=a.transform,s=n*e;if(this.useGravity){var h=e/.0166666;if(o.position.x+=this.moveSpeedX*h,o.position.y+=this.moveSpeedY*h,this.moveSpeedY+=this.gravity*h,this.useAlign&&(o.rotation=Math.atan2(this.moveSpeedY,this.moveSpeedX)),this.useFloor&&this.floorY>0&&o.position.y>this.floorY){o.position.y=this.floorY,this.moveSpeedY*=-this.bounceFac,this.moveSpeedX*=this.friction,this.useSpawns&&this._spawnOnBounce&&this.emitter.__subSpawn(this,this.settings.spawn.onBounce);var l=this.emitter;l.__on.particleBounced.__hasCallback&&l.__on.particleBounced.dispatch(this),this.__on.bounced.__hasCallback&&this.__on.bounced.dispatch(this),this.settings.stopOnBounce&&l.__removeParticle(this);return}}else this.useMotion&&(this.distanceEase?(o.position.x=this.distanceEase(n,this.startX,this.deltaX,i),o.position.y=this.distanceEase(n,this.startY,this.deltaY,i)):(o.position.x=this.deltaX*s+this.startX,o.position.y=this.deltaY*s+this.startY));if(this.useAlpha&&(this.useFadeIn?n<this.fadeInDuration?a.alpha=this.fadeInEase(n,0,this.alphaStart,this.fadeInDuration):a.alpha=this.alphaEase(n-this.fadeInDuration,this.alphaStart,this.alphaDelta,this.alphaDuration):this.alphaEase?a.alpha=this.alphaEase(n,this.alphaStart,this.alphaDelta,i):a.alpha=this.alphaDelta*s+this.alphaStart),this.useRotation&&(o.rotation+=this.rotationSpeed),this.useScale&&(this.uniformScale?this.useScaleIn?n<this.scaleInDuration?o.scale.x=o.scale.y=this.scaleInEase(n,0,this.scaleStart,this.scaleInDuration):o.scale.x=o.scale.y=this.scaleEase(n-this.scaleInDuration,this.scaleStart,this.scaleDelta,this.scaleDuration):this.scaleEase?(o.scale.x=this.scaleEase(n,this.scaleStart,this.scaleDelta,i),o.scale.y=this.scaleEase(n,this.scaleStart,this.scaleDelta,i)):o.scale.x=o.scale.y=this.scaleDelta*s+this.scaleStart:this.useScaleIn?n<this.scaleInDuration?(o.scale.x=this.scaleInEase(n,0,this.scaleXStart,this.scaleInDuration),o.scale.y=this.scaleInEase(n,0,this.scaleYStart,this.scaleInDuration)):(o.scale.x=this.scaleEase(n-this.scaleInDuration,this.scaleXStart,this.scaleXDelta,this.scaleDuration),o.scale.y=this.scaleEase(n-this.scaleInDuration,this.scaleYStart,this.scaleYDelta,this.scaleDuration)):(this.scaleXEase?o.scale.x=this.scaleXEase(n,this.scaleXStart,this.scaleXDelta,i):o.scale.x=this.scaleXDelta*s+this.scaleXStart,this.scaleYEase?o.scale.y=this.scaleYEase(n,this.scaleYStart,this.scaleYDelta,i):o.scale.y=this.scaleYDelta*s+this.scaleYStart)),this.useTint&&(a.tint=this._color.tween(this.tintEase,n,i)),this._spawnOnHalfway&&n>=.5&&(this._spawnOnHalfway=!1,this.emitter.__subSpawn(this,this.settings.spawn.onHalfway)),this.useChilds&&this._hasChildEmitters)for(var u=this._childEmitters,c=u.length;--c>-1;){var f=u[c];f.__recycled||(f.x=a.position.x,f.y=o.position.y,f.__adoptRotation&&(f.rotation=o.rotation))}this.emitter.__on.particleUpdated.__hasCallback&&this.emitter.__on.particleUpdated.dispatch(this),this.__on.updated.__hasCallback&&this.__on.updated.dispatch(this)},t.prototype.stop=function(){this.time=this.duration},t.prototype.recycle=function(){this.emitter.__on.particleDied.__hasCallback&&this.emitter.__on.particleDied.dispatch(this);var e=this.__on;if(e.died.__hasCallback&&(e.died.dispatch(this),e.died.removeAll()),e.updated.__hasCallback&&e.updated.removeAll(),e.bounced.__hasCallback&&e.bounced.removeAll(),this._hasChildEmitters){for(var n=this._childEmitters,i=n.length;--i>-1;)n[i].stop(!0);this._childEmitters.length=0,this._hasChildEmitters=!1}this.component.recycle(),this.__fx.__recycleParticle(this),this.dx=this.dy=this.deltaX=this.deltaY=0,this.component=null,this.emitter=null,this.settings=null,this.__recycled=!0},t.prototype.dispose=function(){this.recycle(),this.__fx=null},Object.defineProperty(t.prototype,"x",{get:function(){return this.component.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.component.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"on",{get:function(){return this.__on},enumerable:!1,configurable:!0}),t.prototype.__removeChildEmitter=function(e){var n=this._childEmitters.indexOf(e);n>-1&&(this._childEmitters.splice(n,1),this._childEmitters.length==0&&(this._hasChildEmitters=!1))},t}(rV.Node);tl.Particle=iV;var nl={},aV=Qt&&Qt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(nl,"__esModule",{value:!0}),nl.MovieClip=void 0;var Lw=Nw,oV=function(r){aV(t,r);function t(e,n,i,a){for(var o=this,s=[],h=n.length,l=0;l<h;l++)s.push(Lw.Texture.from(n[l]));return o=r.call(this,s)||this,o.componentId=e,o.anchor.set(.5,.5),o.loop=!1,o.__sequenceEndTime=0,o}return t.prototype.recycle=function(){this.alpha=1,this.tint=16777215,this.transform.rotation=0,this.transform.scale.set(1),this.parent&&this.parent.removeChild(this),this.gotoAndStop(0),this.__fx.__recycleMovieClip(this.componentId,this)},t.prototype.dispose=function(){this.parent&&this.parent.removeChild(this),this.__fx=null,this.gotoAndStop(0),this.destroy()},t}(Lw.AnimatedSprite);nl.MovieClip=oV;var oh={};Object.defineProperty(oh,"__esModule",{value:!0}),oh.Sanitizer=void 0;var sV=function(){function r(){}return r.sanitizeBundle=function(t){for(var e=0,n=t.emitters;e<n.length;e++){var i=n[e],a=r._presetStructure.emitter;r.parse(i,a,r._presetStructure.emitterSpawn)}for(var o=0,s=t.sequences;o<s.length;o++){var h=s[o],a=r._presetStructure.sequence;r.parse(h,a,r._presetStructure.sequenceEffect)}},r.parse=function(t,e,n){for(var i in e)if(t[i]==null)t[i]=e[i];else{var a=t[i];if(typeof a!="object")continue;var o=e[i];if(!a.hasOwnProperty("length"))r.parse(a,o,n);else for(var s=0,h=a;s<h.length;s++){var l=h[s];for(var u in n)l[u]==null&&(l[u]=n[u])}}},r._presetStructure={sequence:{id:0,name:"",type:1,delay:0,scaleMin:1,scaleMax:1,effects:[]},sequenceEffect:{id:0,componentId:null,componentType:0,delay:0,componentParams:{animationSpeedMin:1,animationSpeedMax:1,anchorX:.5,anchorY:.5,loop:!1},scaleMin:1,scaleMax:1,alphaMin:1,alphaMax:1,rotationMin:0,rotationMax:0,blendMode:0,duration:.1,tint:16777215,containerId:"",triggerValue:""},emitter:{id:0,name:"",type:0,core:{type:"circle",params:{radius:100,radial:!0,angle:6.28318530718,uniform:!1,width:100,height:100}},spawnFrequencyMin:.1,spawnFrequencyMax:.1,maxParticles:1e3,spawnCountMin:1,spawnCountMax:1,duration:0,infinite:!0,useGravity:!1,gravity:0,useFloor:!1,floorY:700,rotation:0,autoRotation:0,particleSettings:{componentType:0,componentId:"",componentParams:{animationSpeedMin:1,animationSpeedMax:1,anchorX:.5,anchorY:.5,loop:!1},durationMin:1,durationMax:2,distanceMin:0,distanceMax:0,distanceEase:"linear",moveSpeedMin:0,moveSpeedMax:0,bounceFacMin:0,bounceFacMax:0,frictionMin:0,frictionMax:0,useMotion:!1,useRotation:!1,useAlpha:!1,useScale:!1,useTint:!1,useChilds:!1,useSpawns:!1,stopOnBounce:!1,align:!1,blendMode:1,addOnTop:!0,rotationSpeedMin:0,rotationSpeedMax:0,randomRotationDirection:!1,randomStartRotation:!1,fadeIn:!0,fadeInDurationFac:.1,fadeInEase:"linear",alphaStartMin:.7,alphaStartMax:.9,alphaEndMin:.7,alphaEndMax:.8,alphaEase:"linear",tintStart:16777215,tintEnd:16777215,tintEase:"linear",scaleIn:!1,scaleInDurationFac:.2,scaleInEase:"linear",uniformScale:!0,scaleXStartMin:1,scaleXStartMax:1,scaleXEndMin:1,scaleXEndMax:1,scaleXEase:"linear",scaleYStartMin:1,scaleYStartMax:1,scaleYEndMin:1,scaleYEndMax:1,scaleYEase:"linear",scaleStartMin:1,scaleStartMax:1,scaleEndMin:1,scaleEndMax:1,scaleEase:"linear",childs:[],spawn:{onComplete:[],onBounce:[],onHalfway:[],onStart:[]}},childs:[]},emitterSpawn:{type:0,id:0,scale:1,adoptRotation:!0,containerId:""}},r}();oh.Sanitizer=sV;var Bw;function Vw(){if(Bw)return Gs;Bw=1;var r=Qt&&Qt.__awaiter||function(m,g,v,y){function b(x){return x instanceof v?x:new v(function(_){_(x)})}return new(v||(v=Promise))(function(x,_){function w(T){try{S(y.next(T))}catch(I){_(I)}}function E(T){try{S(y.throw(T))}catch(I){_(I)}}function S(T){T.done?x(T.value):b(T.value).then(w,E)}S((y=y.apply(m,g||[])).next())})},t=Qt&&Qt.__generator||function(m,g){var v={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},y,b,x,_;return _={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function w(S){return function(T){return E([S,T])}}function E(S){if(y)throw new TypeError("Generator is already executing.");for(;v;)try{if(y=1,b&&(x=S[0]&2?b.return:S[0]?b.throw||((x=b.return)&&x.call(b),0):b.next)&&!(x=x.call(b,S[1])).done)return x;switch(b=0,x&&(S=[S[0]&2,x.value]),S[0]){case 0:case 1:x=S;break;case 4:return v.label++,{value:S[1],done:!1};case 5:v.label++,b=S[1],S=[0];continue;case 7:S=v.ops.pop(),v.trys.pop();continue;default:if(x=v.trys,!(x=x.length>0&&x[x.length-1])&&(S[0]===6||S[0]===2)){v=0;continue}if(S[0]===3&&(!x||S[1]>x[0]&&S[1]<x[3])){v.label=S[1];break}if(S[0]===6&&v.label<x[1]){v.label=x[1],x=S;break}if(x&&v.label<x[2]){v.label=x[2],v.ops.push(S);break}x[2]&&v.ops.pop(),v.trys.pop();continue}S=g.call(m,v)}catch(T){S=[6,T],b=0}finally{y=x=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.FX=void 0;var e=So,n=Lr,i=$s,a=Zs,o=Ks,s=Fw(),h=Qs,l=tl,u=nl,c=oh,f;(function(m){m[m.Sprite=0]="Sprite",m[m.MovieClip=1]="MovieClip"})(f||(f={}));var d;(function(m){m[m.Sprite=0]="Sprite",m[m.MovieClip=1]="MovieClip",m[m.Emitter=2]="Emitter",m[m.Trigger=3]="Trigger"})(d||(d={}));var p=function(){function m(){this.useBlendModes=!0,this.particleCount=0,this.emitterCount=0,this.effectSequenceCount=0,this.maxParticles=5e3,this.particleFac=1,this._active=!1,this._effects=new n.LinkedList,this.__containers={},this.clearCache(),this.start()}return m.prototype.start=function(){this._active=!0,this._timeElapsed=Date.now()},m.prototype.pause=function(){this._active=!1},m.prototype.update=function(g){if(this.active){var v=Date.now(),y=(v-this._timeElapsed)*.001;g!==void 0&&(y*=g);for(var b=this._effects,x=b.first,_;x;)_=x.next,x.update(y),x=_;this._timeElapsed=v}},m.prototype.clearCache=function(){this._cache={particles:[],mcs:[],sprites:[],effectSequences:[],emitters:[],cores:{}},this._settingsCache={mcs:{},sprites:{},emitters:{},effectSequences:{}},this._nameMaps={emitters:{},effectSequences:{}}},m.prototype.setFloorY=function(g){var v=this._settingsCache.emitters;for(var y in v)v[y].floorY=g},m.prototype.dispose=function(){for(var g=this._effects,v=g.first;v;)v.dispose(),v=v.next;g.clear(),this.clearCache()},m.prototype.loadBundleFiles=function(g,v,y,b){var x=this;return new Promise(function(_,w){var E=new PIXI.Loader;if(E.onError.add(function(R){w(R)}),E.add("rfx_spritesheet",v).add("rfx_bundleSettings",g),b)for(var S=0,T=b;S<T.length;S++){var I=T[S];I.hasOwnProperty("name")&&I.hasOwnProperty("url")?E.add(I.name,I.url):E.add(I)}E.load(function(R,A){_(x.initBundle(A.rfx_bundleSettings.data))})})},m.prototype.loadBundleZip=function(g,v,y){var b=this;return new Promise(function(x,_){if(v==null){_("JSZip instance not provided.");return}var w=new PIXI.Loader;if(w.add("zip",g,{xhrType:PIXI.LoaderResource.XHR_RESPONSE_TYPE.BLOB}),y)for(var E=0,S=y;E<S.length;E++){var T=S[E];T.hasOwnProperty("name")&&T.hasOwnProperty("url")?w.add(T.name,T.url):w.add(T)}w.load(function(I,R){return r(b,void 0,void 0,function(){var A,C,O,N,L,D,Q,tt,V,W,X,j,Y,q,$,K=this;return t(this,function(J){switch(J.label){case 0:return J.trys.push([0,8,,9]),A=void 0,C=void 0,[4,v.loadAsync(R.zip.data)];case 1:J.sent(),N=[],v.forEach(function(it,ut){N.push(ut)}),L=[];for(D in N)L.push(D);Q=0,J.label=2;case 2:return Q<L.length?(tt=L[Q],V=N[tt],V.name.indexOf(".png")==-1?[3,4]:[4,V.async("base64")]):[3,7];case 3:return W=J.sent(),A="data:image/png;base64,"+W,[3,6];case 4:return V.name.indexOf(".json")==-1?[3,6]:[4,V.async("string")];case 5:if(X=J.sent(),j=JSON.parse(X),j.__h){if(j.__h!==m._bundleHash)return _("Invalid settings file."),[2];O=j}else j.frames&&(C=j);J.label=6;case 6:return Q++,[3,2];case 7:return Y=PIXI.Texture.from(A),q=new PIXI.Spritesheet(Y.baseTexture,C),q.parse(function(){setTimeout(function(){x(K.initBundle(O,!0))},100)}),[3,9];case 8:return $=J.sent(),_($.toString()),[3,9];case 9:return[2]}})})})})},m.prototype.initBundle=function(g,v){if(g.__h!==m._bundleHash)throw new Error("Invalid settings file.");if(g.__v!=m.settingsVersion)throw new Error("Settings version mismatch.");c.Sanitizer.sanitizeBundle(g),v&&this.clearCache();for(var y in g.emitters){var b=g.emitters[y];this.addParticleEmitter(b.id,b)}for(var y in g.sequences){var b=g.sequences[y];this.addEffectSequence(b.id,b)}return this.useBlendModes=g.useBlendModes,this.maxParticles=g.maxParticles,this.parseTextureCache(g.spritesheetFilter)},m.prototype.addParticleEmitter=function(g,v){if(this._settingsCache.emitters[g])throw new Error("ComponentId '"+g+"' already exists.");return this._settingsCache.emitters[g]=v,this._nameMaps.emitters[v.name]=v,this},m.prototype.addEffectSequence=function(g,v){if(this._settingsCache.effectSequences[g])throw new Error("ComponentId '"+g+"' already exists.");return this._settingsCache.effectSequences[g]=v,this._nameMaps.effectSequences[v.name]=v,this},m.prototype.initSprite=function(g,v){if(this._settingsCache.sprites[g])throw new Error("ComponentId '"+g+"' already exists.");return this._settingsCache.sprites[g]=v,this},m.prototype.initMovieClip=function(g,v){if(this._settingsCache.mcs[g])throw new Error("ComponentId '"+g+"' already exists.");return this._settingsCache.mcs[g]=v,this},m.prototype.getMovieClips=function(){return this._settingsCache.mcs},m.prototype.getSprites=function(){return this._settingsCache.sprites},m.prototype.addContainer=function(g,v){this.__containers[g]=v},m.prototype.getEffectSequence=function(g){var v=this._nameMaps.effectSequences[g];if(!v)throw new Error("Settings not defined for '"+g+"'");return this.getEffectSequenceById(v.id)},m.prototype.getEffectSequenceById=function(g){var v=this._cache.effectSequences,y,b=this._settingsCache.effectSequences[g];if(!b)throw new Error("Settings not defined for '"+g+"'");return v.length==0?(y=new s.EffectSequence(g),y.__fx=this):y=v.pop(),y.__applySettings(b),y},m.prototype.getParticleEmitter=function(g,v,y){v===void 0&&(v=!0),y===void 0&&(y=!1);var b=this._nameMaps.emitters[g];if(!b)throw new Error("Settings not defined for '"+g+"'");return this.getParticleEmitterById(b.id,v,y)},m.prototype.getParticleEmitterById=function(g,v,y){v===void 0&&(v=!0),y===void 0&&(y=!1);var b=this._cache.emitters,x,_=this._settingsCache.emitters[g];if(!_)throw new Error("Settings not defined for '"+g+"'");return b.length==0?(x=new e.ParticleEmitter(g),x.__fx=this):x=b.pop(),y&&(_=JSON.parse(JSON.stringify(_))),x.autoRecycleOnComplete=v,x.__applySettings(_),x},m.prototype.stopEmitter=function(g,v){v===void 0&&(v=!1),g.list===this._effects&&this._effects.remove(g),v?g.dispose():this.__recycleEmitter(g)},m.prototype.stopAllEffects=function(){for(var g=this._effects.toArray(),v=0,y=g;v<y.length;v++){var b=y[v];b.recycle()}},m.prototype.parseSpriteSheet=function(g,v){return this.parseObject(g.data.frames,v)},m.prototype.parseTextureCache=function(g){return this.parseObject(PIXI.utils.TextureCache,g)},Object.defineProperty(m.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),m.prototype.__addActiveEffect=function(g){this._effects.add(g)},m.prototype.__removeActiveEffect=function(g){this._effects.remove(g)},m.prototype.__getSprite=function(g){var v=this._cache.sprites,y=v[g];if(v[g]==null&&(y=v[g]=[]),y.length==0){var b=this._settingsCache.sprites[g];if(b==null)throw new Error("Settings not defined for '"+g+"'");var x=new h.Sprite(g,b.texture,b.anchorX,b.anchorY);return x.__fx=this,x}return y.pop()},m.prototype.__getMovieClip=function(g){var v=this._cache.mcs,y=v[g];if(v[g]==null&&(y=v[g]=[]),y.length==0){var b=this._settingsCache.mcs[g];if(b==null)throw new Error("Settings not defined for '"+g+"'");var x=new u.MovieClip(g,b.textures,b.anchorX,b.anchorY);return x.__fx=this,x}return y.pop()},m.prototype.__getParticle=function(){var g=this._cache,v=g.particles;if(v.length==0){var y=new l.Particle;return y.__fx=this,y}return v.pop()},m.prototype.__getEmitterCore=function(g,v){var y=this._cache.cores,b=y[g];return b==null&&(b=y[g]=[]),b.length==0?new m.__emitterCores[g](g):b.pop()},m.prototype.__recycleParticle=function(g){this._cache.particles.push(g)},m.prototype.__recycleSprite=function(g,v){this._cache.sprites[g].push(v)},m.prototype.__recycleMovieClip=function(g,v){this._cache.mcs[g].push(v)},m.prototype.__recycleEmitter=function(g){this._effects.remove(g),this.__recycleEmitterCore(g.core),this._cache.emitters.push(g)},m.prototype.__recycleEffectSequence=function(g){this._effects.remove(g),this._cache.effectSequences.push(g)},m.prototype.__recycleEmitterCore=function(g){this._cache.cores[g.type].push(g)},m.prototype.parseObject=function(g,v){var y=g,b={},x={sprites:[],movieClips:[]};for(var _ in y)if(!(v&&_.indexOf(v)==-1)&&(this.initSprite(_,{texture:_,anchorX:.5,anchorY:.5}),x.sprites.push(_),_.substr(0,3)=="mc_")){var w=_.split("_"),E=w[1];b[E]==null&&(b[E]=[]),b[E].push(_)}for(var _ in b){var S=b[_];x.movieClips.push(_),this.initMovieClip(_,{textures:S,anchorX:.5,anchorY:.5})}return x},m.settingsVersion=0,m.version="1.1.0",m._bundleHash="80c6df7fb0d3d898f34ce0031c037fef",m.ComponentType=f,m.EffectSequenceComponentType=d,m.__emitterCores={circle:a.CircleEmitterCore,box:o.BoxEmitterCore,ring:i.RingEmitterCore},m}();return Gs.FX=p,Gs}(function(r){Object.defineProperty(r,"__esModule",{value:!0});var t=Vw();Object.defineProperty(r,"FX",{enumerable:!0,get:function(){return t.FX}});var e=To;Object.defineProperty(r,"BaseEffect",{enumerable:!0,get:function(){return e.BaseEffect}});var n=Fw();Object.defineProperty(r,"EffectSequence",{enumerable:!0,get:function(){return n.EffectSequence}});var i=nl;Object.defineProperty(r,"MovieClip",{enumerable:!0,get:function(){return i.MovieClip}});var a=tl;Object.defineProperty(r,"Particle",{enumerable:!0,get:function(){return a.Particle}});var o=So;Object.defineProperty(r,"ParticleEmitter",{enumerable:!0,get:function(){return o.ParticleEmitter}});var s=Qs;Object.defineProperty(r,"Sprite",{enumerable:!0,get:function(){return s.Sprite}});var h=Sa;Object.defineProperty(r,"BaseEmitterCore",{enumerable:!0,get:function(){return h.BaseEmitterCore}});var l=Ks;Object.defineProperty(r,"BoxEmitterCore",{enumerable:!0,get:function(){return l.BoxEmitterCore}});var u=Zs;Object.defineProperty(r,"CircleEmitterCore",{enumerable:!0,get:function(){return u.CircleEmitterCore}});var c=$s;Object.defineProperty(r,"RingEmitterCore",{enumerable:!0,get:function(){return c.RingEmitterCore}});var f=el;Object.defineProperty(r,"Color",{enumerable:!0,get:function(){return f.Color}});var d=rl;Object.defineProperty(r,"Easing",{enumerable:!0,get:function(){return d.Easing}});var p=Lr;Object.defineProperty(r,"LinkedList",{enumerable:!0,get:function(){return p.LinkedList}});var m=Sn;Object.defineProperty(r,"Rnd",{enumerable:!0,get:function(){return m.Rnd}});var g=zn;Object.defineProperty(r,"FXSignal",{enumerable:!0,get:function(){return g.FXSignal}})})(Pw);const il=r=>(X1("data-v-9aaf1e3c"),r=r(),Y1(),r),lV=il(()=>Rt("span",{style:{"font-size":"25px"}},"Top right switch this panel AndPanel is not full can drag the scroll bar",-1)),uV=il(()=>Rt("span",{style:{"font-size":"25px"}},"() ()",-1)),hV=il(()=>Rt("div",{id:"badialog",class:"badialog"},null,-1)),cV=il(()=>Rt("audio",{id:"talkaudio"},null,-1)),fV=il(()=>Rt("audio",{id:"bgmaudio"},null,-1)),dV=At({__name:"HelloWorld",setup(r){let t=vt({mouseDown:!1,isAnimation:!1,talkIndex:1,isInterval:!1,longTouch:!1,patHead:!1,touchBonePoint:{x:0,y:0},mouseLocalPoint:{x:0,y:0},linearAlgebraScale:1.1,talkCount:0}).value,e=vt({language:"ch",bgmVolume:.3,fontSize:18,position:{x:0,y:0},rotation:0,scale:1,talkVolume:.5,textPointX:100,textPointY:100,textureResolution:"2k",mouseTracking:!1,panelDisplay:!0,mouseTrial:!0,talking:!0,talkingInterval:0,penetration:!1,autoTalk:!1}).value,n,i=!1,a,o={ch:{},jp:{},en:{},th:{},kr:{},vi:{},ru:{}},s,h=[],l=window.innerWidth,u=window.innerHeight,c=0,f,d,p,m,g,v=-100,y=null,b=null;const x=new Pw.FX;let _=[],w=[];const E=20,S=100,T=[];let I=null,R;X("./loadJson.json"),Oe(()=>{W(),n.fileNames.forEach(M=>{h.push({name:M,url:`./${e.textureResolution}/${M}.skel`})}),s=new ho({width:l,height:u,antialias:!0}),s.stage.interactive=!0,s.stage.hitArea=s.screen,R=document.getElementById("spine"),R.appendChild(s.view),s.view,s.stage.sortableChildren=!0,h.forEach(M=>{s.loader.add(M.name,M.url)}),s.loader.add("fx_settings","./default-bundle.json").add("fx_spritesheet","./revoltfx-spritesheet.json").load(A),setInterval(()=>{e.autoTalk&&D()},6e4)});function A(M,k){x.initBundle(k.fx_settings.data),s.ticker.add(function(){x.update()}),h.forEach(U=>{U.spine=new CB(k[U.name].spineData),e.position.x=e.position.x==0?s.screen.width/2:e.position.x,e.position.y=e.position.y==0?s.screen.height:e.position.y,U.spine.x=e.position.x,U.spine.y=e.position.y,U.spine.scale.set(e.scale),s.stage.addChild(U.spine),U.spine.zIndex=v}),h.forEach(U=>{var H;(H=U.spine)==null||H.state.addListener({event:function(G,rt){if(rt.data.name.indexOf("MemorialLobby")>=0){let ht=rt.data.name.split("/");d.src=`./sound/${ht[ht.length-1]}.wav`,d.play(),e.language!=""&&(a.innerHTML=o[e.language][rt.data.name],a==null||a.classList.add("opacity-in"))}},complete:function(G){var rt;if(!((G.trackIndex==3||G.trackIndex==4&&G.animation.name=="<empty>")&&(t.talkCount++,t.talkCount%2!=0))&&!(t.longTouch||G.animation.name=="Idle_01"||G.trackIndex==10)){if(G.trackIndex==5||G.trackIndex==6){(rt=U.spine)==null||rt.state.setEmptyAnimation(G.trackIndex,.8);return}if((G.trackIndex==3||G.trackIndex==4)&&setTimeout(()=>{t.isInterval=!1},e.talkingInterval*1e3),n.animationIndex.length>0){q();return}t.talkCount%4==0&&(t.isAnimation=!1),a==null||a.classList.remove("opacity-in")}}})}),Q(),p.src="./sound/Theme.wav",p.loop=!0,p.volume=e.bgmVolume,p.play(),d.volume=e.talkVolume,V("./serifu.txt"),i=!0,j(),q(),$(),J()}function C(M){t.mouseDown=!0,c=setTimeout(()=>{var H,G;t.longTouch=!0,t.patHead&&!t.isAnimation&&((H=h[0].spine)==null||H.state.setAnimation(5,`${n.headAnimation}_A`,!1),(G=h[0].spine)==null||G.state.setAnimation(6,`${n.headAnimation}_M`,!1))},100),h[0].spine.state.data.defaultMix=.8;let k=Aw({x:M.x,y:M.y},{x:h[0].spine.x,y:h[0].spine.y},e.scale),U=f.worldToLocal({x:k.x,y:k.y});t.patHead=RB(400*e.scale,U),K(M.x,M.y)}function O(M){var k,U;clearTimeout(c),!t.longTouch&&e.penetration&&D(),t.patHead&&t.longTouch&&!t.isAnimation&&((k=h[0].spine)==null||k.state.setAnimation(5,`${n.headAnimationEnd}_A`,!1),(U=h[0].spine)==null||U.state.setAnimation(6,`${n.headAnimationEnd}_M`,!1)),t.mouseLocalPoint.x=0,t.mouseLocalPoint.y=0,t.mouseDown=!1,t.longTouch=!1,t.patHead=!1}function N(){e.penetration||D()}function L(M){if(e.mouseTrial&&(I={x:0,y:0},I.x=M.x,I.y=M.y),e.mouseTracking||t.longTouch){let k=Aw({x:M.x,y:M.y},{x:h[0].spine.x,y:h[0].spine.y},e.scale),U=f.parent.worldToLocal({x:k.x,y:k.y});t.mouseLocalPoint.x=U.x,t.mouseLocalPoint.y=U.y}}function D(){var M,k,U,H,G,rt;if(t.isAnimation||t.isInterval||!e.talking)return;(M=h[0].spine)==null||M.state.setEmptyAnimation(3,0);let ht=(k=h[0].spine)==null?void 0:k.state.addAnimation(3,`Talk_0${t.talkIndex}_A`,!1,0);ht.mixDuration=1,(U=h[0].spine)==null||U.state.addEmptyAnimation(3,1,0),(H=h[0].spine)==null||H.state.setEmptyAnimation(4,0);let ot=(G=h[0].spine)==null?void 0:G.state.addAnimation(4,`Talk_0${t.talkIndex}_M`,!1,0);ot.mixDuration=1,(rt=h[0].spine)==null||rt.state.addEmptyAnimation(4,1,0),t.isAnimation=!0,t.isInterval=!0,t.talkIndex>=n.talkMax?t.talkIndex=1:t.talkIndex+=1}function Q(){var M;a=document.getElementById("badialog"),d=document.getElementById("talkaudio"),m=document.getElementById("basetting"),p=document.getElementById("bgmaudio"),g=document.getElementById("setting-button"),f=(M=h[0].spine)==null?void 0:M.skeleton.findBone(n.touchbone)}function tt(M){let k=new XMLHttpRequest;return k.open("GET",M,!1),k.overrideMimeType("text/html:charset=utf-8"),k.send(null),k.status==200?k.responseText:""}function V(M){let k=tt(M).split(`
`),U=0;h[0].spine.spineData.events.forEach((H,G)=>{H.name!="Talk"&&(n.language.includes("jp")&&(o.jp[H.name]=k[U]),n.language.includes("ch")&&(o.ch[H.name]=k[U+k.length/7]),n.language.includes("en")&&(o.en[H.name]=k[U+k.length/7*2]),n.language.includes("th")&&(o.th[H.name]=k[U+k.length/7*3]),n.language.includes("kr")&&(o.kr[H.name]=k[U+k.length/7*4]),n.language.includes("vi")&&(o.vi[H.name]=k[U+k.length/7*5]),n.language.includes("ru")&&(o.ru[H.name]=k[U+k.length/7*6]),U++)})}function W(){let M=localStorage.getItem(n.fileNames[0]);if(M!=null){let k=JSON.parse(M);Object.assign(e,k)}}function X(M){let k=tt(M);n=JSON.parse(k)}function j(){if(i){switch(h.forEach(M=>{var k;(k=M.spine)==null||k.scale.set(e.scale),M.spine.x=e.position.x,M.spine.y=e.position.y,M.spine.rotation=e.rotation}),d.volume=e.talkVolume,p.volume=e.bgmVolume,a.style.marginLeft=`${e.textPointX}px`,a.style.marginTop=`${e.textPointY}px`,a.style.fontSize=`${e.fontSize}px`,e.language){case"ch":a.style.fontFamily="TJL";break;case"jp":a.style.fontFamily="XW";break;default:a.style.fontFamily="Microsoft YaHei"}e.panelDisplay?(m.style.display="block",g.style.opacity="100"):(m.style.display="none",g.style.opacity="0"),localStorage.setItem(n.fileNames[0],JSON.stringify(e))}}function Y(){e.panelDisplay=!e.panelDisplay}setInterval(()=>{var M;t.mouseLocalPoint=MB(n.eyeRadius*e.scale,t.mouseLocalPoint),Math.abs(f.x-t.mouseLocalPoint.x)>1&&Math.abs(f.y-t.mouseLocalPoint.y)>1&&(f.x=(f.x+t.mouseLocalPoint.x)/t.linearAlgebraScale,f.y=(f.y+t.mouseLocalPoint.y)/t.linearAlgebraScale,(M=h[0].spine)==null||M.skeleton.updateWorldTransform())},20);function q(){h.some((M,k)=>{var U;if(n.animationIndex.length>0&&M.name==n.animationIndex[0].name||n.mixType==1){v=n.mixType==1?n.indexs[k]:v+10,M.spine.zIndex=v,(U=M.spine)==null||U.state.setAnimation(0,n.animationIndex[0].animationName,!1);try{h[k].spine.state.addAnimation(0,"Idle_01",!0,0),h[k].spine.state.setAnimation(10,n.bgString,!0)}catch{}return n.animationIndex.shift(),t.isAnimation=!0,!1}})}function $(){y=x.getParticleEmitter(n.particle.particleName),y.core._settings.width=l*n.particle.width,y.core._settings.height=u*n.particle.height,y.x=l*n.particle.x,y.y=u*n.particle.y,y.init(s.stage,n.particle.autoPlay)}function K(M,k){b=x.getParticleEmitter("plasma-shield-hit"),b.init(s.stage,!1),b==null||b.start(),b.x=M,b.y=k}Ft(()=>e,()=>{j()},{deep:!0});function J(){const M=Ot.from("./trail.png");for(let U=0;U<E;U++)_.push(0),w.push(0);for(let U=0;U<S;U++)T.push(new Fe(0,0));const k=new u_(M,T);k.blendMode=gt.ADD,console.log(k),s.stage.addChild(k),s.ticker.add(()=>{if(I){_.pop(),_.unshift(I.x),w.pop(),w.unshift(I.y);for(let U=0;U<S;U++){const H=T[U],G=at(_,U/S*E,1),rt=at(w,U/S*E,1);H.x=G,H.y=rt}}})}function it(M,k){return M<0&&(M=0),M>k.length-1&&(M=k.length-1),k[M]}function ut(M,k,U){return k*(it(M+1,U)-it(M-1,U))/2}function at(M,k,U){const H=Math.floor(k),G=[ut(H,U,M),ut(H+1,U,M)],rt=[it(H,M),it(H+1,M)];k-=H;const ht=k*k,ot=k*ht;return(2*ot-3*ht+1)*rt[0]+(ot-2*ht+k)*G[0]+(-2*ot+3*ht)*rt[1]+(ot-ht)*G[1]}return(M,k)=>{const U=qO,H=aF,G=UF,rt=ck,ht=fk,ot=tN,z=iF,nt=yM;return ft(),St(he,null,[mt(U,{id:"setting-button",class:"setting-button",type:"primary",onClick:Y},{default:_t(()=>[Ke("setting ")]),_:1}),mt(nt,{id:"basetting",class:"setting"},{default:_t(()=>[mt(z,{"label-width":"400px","label-position":"left"},{default:_t(()=>[mt(H,{label:"Hint"},{default:_t(()=>[lV,uV]),_:1}),mt(H,{label:"Scale"},{default:_t(()=>[mt(G,{modelValue:P(e).scale,"onUpdate:modelValue":k[0]||(k[0]=lt=>P(e).scale=lt),min:0,max:10,step:"0.01"},null,8,["modelValue"])]),_:1}),mt(H,{label:"Screen-x"},{default:_t(()=>[mt(G,{modelValue:P(e).position.x,"onUpdate:modelValue":k[1]||(k[1]=lt=>P(e).position.x=lt),min:-5e3,max:5e3},null,8,["modelValue"])]),_:1}),mt(H,{label:"Screen-y"},{default:_t(()=>[mt(G,{modelValue:P(e).position.y,"onUpdate:modelValue":k[2]||(k[2]=lt=>P(e).position.y=lt),min:-5e3,max:5e3},null,8,["modelValue"])]),_:1}),mt(H,{label:"Text-x"},{default:_t(()=>[mt(G,{modelValue:P(e).textPointX,"onUpdate:modelValue":k[3]||(k[3]=lt=>P(e).textPointX=lt),min:0,max:5e3},null,8,["modelValue"])]),_:1}),mt(H,{label:"Text-y"},{default:_t(()=>[mt(G,{modelValue:P(e).textPointY,"onUpdate:modelValue":k[4]||(k[4]=lt=>P(e).textPointY=lt),min:0,max:5e3},null,8,["modelValue"])]),_:1}),mt(H,{label:"Rotation"},{default:_t(()=>[mt(G,{modelValue:P(e).rotation,"onUpdate:modelValue":k[5]||(k[5]=lt=>P(e).rotation=lt),min:0,max:6.3,step:"0.01"},null,8,["modelValue","max"])]),_:1}),mt(H,{label:"FontSize"},{default:_t(()=>[mt(G,{modelValue:P(e).fontSize,"onUpdate:modelValue":k[6]||(k[6]=lt=>P(e).fontSize=lt),min:1,max:200},null,8,["modelValue"])]),_:1}),mt(H,{label:"BGM"},{default:_t(()=>[mt(G,{modelValue:P(e).bgmVolume,"onUpdate:modelValue":k[7]||(k[7]=lt=>P(e).bgmVolume=lt),min:0,max:1,step:"0.1"},null,8,["modelValue"])]),_:1}),mt(H,{label:"Voice"},{default:_t(()=>[mt(G,{modelValue:P(e).talkVolume,"onUpdate:modelValue":k[8]||(k[8]=lt=>P(e).talkVolume=lt),min:0,max:1,step:"0.1"},null,8,["modelValue"])]),_:1}),mt(H,{label:"Texture(Restart)"},{default:_t(()=>[mt(ht,{modelValue:P(e).textureResolution,"onUpdate:modelValue":k[9]||(k[9]=lt=>P(e).textureResolution=lt)},{default:_t(()=>[mt(rt,{label:"2k",size:"large"},{default:_t(()=>[Ke("2K")]),_:1}),mt(rt,{label:"4k",size:"large"},{default:_t(()=>[Ke("4K")]),_:1}),mt(rt,{label:"8k",size:"large"},{default:_t(()=>[Ke("8K")]),_:1})]),_:1},8,["modelValue"])]),_:1}),mt(H,{label:"Language"},{default:_t(()=>[mt(ht,{modelValue:P(e).language,"onUpdate:modelValue":k[10]||(k[10]=lt=>P(e).language=lt)},{default:_t(()=>[mt(rt,{label:"ch",disabled:!P(n).language.includes("ch"),size:"large"},{default:_t(()=>[Ke(" ")]),_:1},8,["disabled"]),mt(rt,{label:"jp",disabled:!P(n).language.includes("jp"),size:"large"},{default:_t(()=>[Ke(" ")]),_:1},8,["disabled"]),mt(rt,{label:"en",disabled:!P(n).language.includes("en"),size:"large"},{default:_t(()=>[Ke("English ")]),_:1},8,["disabled"]),mt(rt,{label:"th",disabled:!P(n).language.includes("th"),size:"large"},{default:_t(()=>[Ke(" ")]),_:1},8,["disabled"]),mt(rt,{label:"kr",disabled:!P(n).language.includes("kr"),size:"large"},{default:_t(()=>[Ke(" ")]),_:1},8,["disabled"]),mt(rt,{label:"vi",disabled:!P(n).language.includes("vi"),size:"large"},{default:_t(()=>[Ke("Ting Vit ")]),_:1},8,["disabled"]),mt(rt,{label:"ru",disabled:!P(n).language.includes("ru"),size:"large"},{default:_t(()=>[Ke("  ")]),_:1},8,["disabled"]),mt(rt,{label:"",size:"large"},{default:_t(()=>[Ke("None")]),_:1})]),_:1},8,["modelValue"])]),_:1}),mt(H,{label:"Penetration()"},{default:_t(()=>[mt(ot,{size:"large",modelValue:P(e).penetration,"onUpdate:modelValue":k[11]||(k[11]=lt=>P(e).penetration=lt)},null,8,["modelValue"])]),_:1}),mt(H,{label:"Talking()"},{default:_t(()=>[mt(ot,{size:"large",modelValue:P(e).talking,"onUpdate:modelValue":k[12]||(k[12]=lt=>P(e).talking=lt)},null,8,["modelValue"])]),_:1}),mt(H,{label:"AutoTalking()"},{default:_t(()=>[mt(ot,{size:"large",modelValue:P(e).autoTalk,"onUpdate:modelValue":k[13]||(k[13]=lt=>P(e).autoTalk=lt)},null,8,["modelValue"])]),_:1}),mt(H,{label:"Talking interval() s"},{default:_t(()=>[mt(G,{modelValue:P(e).talkingInterval,"onUpdate:modelValue":k[14]||(k[14]=lt=>P(e).talkingInterval=lt),min:0,max:60},null,8,["modelValue"])]),_:1}),mt(H,{label:"EyeTracking()"},{default:_t(()=>[mt(ot,{size:"large",modelValue:P(e).mouseTracking,"onUpdate:modelValue":k[15]||(k[15]=lt=>P(e).mouseTracking=lt)},null,8,["modelValue"])]),_:1}),mt(H,{label:"MouseTracking()"},{default:_t(()=>[mt(ot,{size:"large",modelValue:P(e).mouseTrial,"onUpdate:modelValue":k[16]||(k[16]=lt=>P(e).mouseTrial=lt)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),hV,cV,fV,Rt("div",{id:"spine",onClick:[k[17]||(k[17]=ri(()=>{},["stop"])),N],onMousedown:C,onMouseup:O,onMousemove:L},null,32)],64)}}}),pV=(r,t)=>{const e=r.__vccOpts||r;for(const[n,i]of t)e[n]=i;return e},mV=pV(dV,[["__scopeId","data-v-9aaf1e3c"]]),vV=At({__name:"App",setup(r){return(t,e)=>(ft(),Bt(mV))}});pS(vV).mount("#app"),window.PIXI=d_});yV();
